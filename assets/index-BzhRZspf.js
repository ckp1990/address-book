(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function aA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Qd={exports:{}},Sl={};var W_;function oA(){if(W_)return Sl;W_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Sl.Fragment=e,Sl.jsx=i,Sl.jsxs=i,Sl}var ev;function lA(){return ev||(ev=1,Qd.exports=oA()),Qd.exports}var E=lA(),Kd={exports:{}},Ie={};var tv;function uA(){if(tv)return Ie;tv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),I=Symbol.iterator;function U(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var K={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,W={};function pe(O,Q,ie){this.props=O,this.context=Q,this.refs=W,this.updater=ie||K}pe.prototype.isReactComponent={},pe.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},pe.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=pe.prototype;function te(O,Q,ie){this.props=O,this.context=Q,this.refs=W,this.updater=ie||K}var ce=te.prototype=new Y;ce.constructor=te,ee(ce,pe.prototype),ce.isPureReactComponent=!0;var ue=Array.isArray;function ye(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(O,Q,ie){var ne=ie.ref;return{$$typeof:s,type:O,key:Q,ref:ne!==void 0?ne:null,props:ie}}function V(O,Q){return R(O.type,Q,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Q[ie]})}var x=/\/+/g;function Ve(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Q.toString(36)}function Xe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ye,ye):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,Q,ie,ne,oe){var Ee=typeof O;(Ee==="undefined"||Ee==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ee){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case s:case e:we=!0;break;case b:return we=O._init,H(we(O._payload),Q,ie,ne,oe)}}if(we)return oe=oe(O),we=ne===""?"."+Ve(O,0):ne,ue(oe)?(ie="",we!=null&&(ie=we.replace(x,"$&/")+"/"),H(oe,Q,ie,"",function(Qe){return Qe})):oe!=null&&(D(oe)&&(oe=V(oe,ie+(oe.key==null||O&&O.key===oe.key?"":(""+oe.key).replace(x,"$&/")+"/")+we)),Q.push(oe)),1;we=0;var fe=ne===""?".":ne+":";if(ue(O))for(var je=0;je<O.length;je++)ne=O[je],Ee=fe+Ve(ne,je),we+=H(ne,Q,ie,Ee,oe);else if(je=U(O),typeof je=="function")for(O=je.call(O),je=0;!(ne=O.next()).done;)ne=ne.value,Ee=fe+Ve(ne,je++),we+=H(ne,Q,ie,Ee,oe);else if(Ee==="object"){if(typeof O.then=="function")return H(Xe(O),Q,ie,ne,oe);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return we}function re(O,Q,ie){if(O==null)return O;var ne=[],oe=0;return H(O,ne,"","",function(Ee){return Q.call(ie,Ee,oe++)}),ne}function me(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var Me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},De={map:re,forEach:function(O,Q,ie){re(O,function(){Q.apply(this,arguments)},ie)},count:function(O){var Q=0;return re(O,function(){Q++}),Q},toArray:function(O){return re(O,function(Q){return Q})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ie.Activity=A,Ie.Children=De,Ie.Component=pe,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=te,Ie.StrictMode=r,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(O,Q,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ne=ee({},O.props),oe=O.key;if(Q!=null)for(Ee in Q.key!==void 0&&(oe=""+Q.key),Q)!w.call(Q,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Q.ref===void 0||(ne[Ee]=Q[Ee]);var Ee=arguments.length-2;if(Ee===1)ne.children=ie;else if(1<Ee){for(var we=Array(Ee),fe=0;fe<Ee;fe++)we[fe]=arguments[fe+2];ne.children=we}return R(O.type,oe,ne)},Ie.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ie.createElement=function(O,Q,ie){var ne,oe={},Ee=null;if(Q!=null)for(ne in Q.key!==void 0&&(Ee=""+Q.key),Q)w.call(Q,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(oe[ne]=Q[ne]);var we=arguments.length-2;if(we===1)oe.children=ie;else if(1<we){for(var fe=Array(we),je=0;je<we;je++)fe[je]=arguments[je+2];oe.children=fe}if(O&&O.defaultProps)for(ne in we=O.defaultProps,we)oe[ne]===void 0&&(oe[ne]=we[ne]);return R(O,Ee,oe)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:g,render:O}},Ie.isValidElement=D,Ie.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:me}},Ie.memo=function(O,Q){return{$$typeof:p,type:O,compare:Q===void 0?null:Q}},Ie.startTransition=function(O){var Q=C.T,ie={};C.T=ie;try{var ne=O(),oe=C.S;oe!==null&&oe(ie,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(ye,Me)}catch(Ee){Me(Ee)}finally{Q!==null&&ie.types!==null&&(Q.types=ie.types),C.T=Q}},Ie.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ie.use=function(O){return C.H.use(O)},Ie.useActionState=function(O,Q,ie){return C.H.useActionState(O,Q,ie)},Ie.useCallback=function(O,Q){return C.H.useCallback(O,Q)},Ie.useContext=function(O){return C.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,Q){return C.H.useDeferredValue(O,Q)},Ie.useEffect=function(O,Q){return C.H.useEffect(O,Q)},Ie.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ie.useId=function(){return C.H.useId()},Ie.useImperativeHandle=function(O,Q,ie){return C.H.useImperativeHandle(O,Q,ie)},Ie.useInsertionEffect=function(O,Q){return C.H.useInsertionEffect(O,Q)},Ie.useLayoutEffect=function(O,Q){return C.H.useLayoutEffect(O,Q)},Ie.useMemo=function(O,Q){return C.H.useMemo(O,Q)},Ie.useOptimistic=function(O,Q){return C.H.useOptimistic(O,Q)},Ie.useReducer=function(O,Q,ie){return C.H.useReducer(O,Q,ie)},Ie.useRef=function(O){return C.H.useRef(O)},Ie.useState=function(O){return C.H.useState(O)},Ie.useSyncExternalStore=function(O,Q,ie){return C.H.useSyncExternalStore(O,Q,ie)},Ie.useTransition=function(){return C.H.useTransition()},Ie.version="19.2.3",Ie}var nv;function Th(){return nv||(nv=1,Kd.exports=uA()),Kd.exports}var de=Th();const cA=aA(de);var Yd={exports:{}},Al={},Xd={exports:{}},$d={};var iv;function hA(){return iv||(iv=1,(function(s){function e(H,re){var me=H.length;H.push(re);e:for(;0<me;){var Me=me-1>>>1,De=H[Me];if(0<l(De,re))H[Me]=re,H[me]=De,me=Me;else break e}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var re=H[0],me=H.pop();if(me!==re){H[0]=me;e:for(var Me=0,De=H.length,O=De>>>1;Me<O;){var Q=2*(Me+1)-1,ie=H[Q],ne=Q+1,oe=H[ne];if(0>l(ie,me))ne<De&&0>l(oe,ie)?(H[Me]=oe,H[ne]=me,Me=ne):(H[Me]=ie,H[Q]=me,Me=Q);else if(ne<De&&0>l(oe,me))H[Me]=oe,H[ne]=me,Me=ne;else break e}}return re}function l(H,re){var me=H.sortIndex-re.sortIndex;return me!==0?me:H.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],p=[],b=1,A=null,I=3,U=!1,K=!1,ee=!1,W=!1,pe=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ce(H){for(var re=i(p);re!==null;){if(re.callback===null)r(p);else if(re.startTime<=H)r(p),re.sortIndex=re.expirationTime,e(y,re);else break;re=i(p)}}function ue(H){if(ee=!1,ce(H),!K)if(i(y)!==null)K=!0,ye||(ye=!0,k());else{var re=i(p);re!==null&&Xe(ue,re.startTime-H)}}var ye=!1,C=-1,w=5,R=-1;function V(){return W?!0:!(s.unstable_now()-R<w)}function D(){if(W=!1,ye){var H=s.unstable_now();R=H;var re=!0;try{e:{K=!1,ee&&(ee=!1,Y(C),C=-1),U=!0;var me=I;try{t:{for(ce(H),A=i(y);A!==null&&!(A.expirationTime>H&&V());){var Me=A.callback;if(typeof Me=="function"){A.callback=null,I=A.priorityLevel;var De=Me(A.expirationTime<=H);if(H=s.unstable_now(),typeof De=="function"){A.callback=De,ce(H),re=!0;break t}A===i(y)&&r(y),ce(H)}else r(y);A=i(y)}if(A!==null)re=!0;else{var O=i(p);O!==null&&Xe(ue,O.startTime-H),re=!1}}break e}finally{A=null,I=me,U=!1}re=void 0}}finally{re?k():ye=!1}}}var k;if(typeof te=="function")k=function(){te(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Ve=x.port2;x.port1.onmessage=D,k=function(){Ve.postMessage(null)}}else k=function(){pe(D,0)};function Xe(H,re){C=pe(function(){H(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(H){switch(I){case 1:case 2:case 3:var re=3;break;default:re=I}var me=I;I=re;try{return H()}finally{I=me}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(H,re){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var me=I;I=H;try{return re()}finally{I=me}},s.unstable_scheduleCallback=function(H,re,me){var Me=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Me+me:Me):me=Me,H){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=me+De,H={id:b++,callback:re,priorityLevel:H,startTime:me,expirationTime:De,sortIndex:-1},me>Me?(H.sortIndex=me,e(p,H),i(y)===null&&H===i(p)&&(ee?(Y(C),C=-1):ee=!0,Xe(ue,me-Me))):(H.sortIndex=De,e(y,H),K||U||(K=!0,ye||(ye=!0,k()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var re=I;return function(){var me=I;I=re;try{return H.apply(this,arguments)}finally{I=me}}}})($d)),$d}var sv;function fA(){return sv||(sv=1,Xd.exports=hA()),Xd.exports}var Jd={exports:{}},an={};var rv;function dA(){if(rv)return an;rv=1;var s=Th();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:p,implementation:b}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(y,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,b)},an.flushSync=function(y){var p=d.T,b=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=p,r.p=b,r.d.f()}},an.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},an.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},an.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var b=p.as,A=g(b,p.crossOrigin),I=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:U}):b==="script"&&r.d.X(y,{crossOrigin:A,integrity:I,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},an.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,A=g(b,p.crossOrigin);r.d.L(y,b,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(y,p){if(typeof y=="string")if(p){var b=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},an.requestFormReset=function(y){r.d.r(y)},an.unstable_batchedUpdates=function(y,p){return y(p)},an.useFormState=function(y,p,b){return d.H.useFormState(y,p,b)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var av;function mA(){if(av)return Jd.exports;av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=dA(),Jd.exports}var ov;function gA(){if(ov)return Al;ov=1;var s=fA(),e=Th(),i=mA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,o=f;break}if(T===o){_=!0,o=h,a=f;break}T=T.sibling}if(!_){for(T=f.child;T;){if(T===a){_=!0,a=f,o=h;break}if(T===o){_=!0,o=f,a=h;break}T=T.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function b(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=b(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),K=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function Ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case pe:return"Profiler";case W:return"StrictMode";case ue:return"Suspense";case ye:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case K:return"Portal";case te:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Ve(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Ve(t(n))}catch{}}return null}var Xe=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Me=[],De=-1;function O(t){return{current:t}}function Q(t){0>De||(t.current=Me[De],Me[De]=null,De--)}function ie(t,n){De++,Me[De]=t.current,t.current=n}var ne=O(null),oe=O(null),Ee=O(null),we=O(null);function fe(t,n){switch(ie(Ee,n),ie(oe,t),ie(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?b_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=b_(n),t=S_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ne),ie(ne,t)}function je(){Q(ne),Q(oe),Q(Ee)}function Qe(t){t.memoizedState!==null&&ie(we,t);var n=ne.current,a=S_(n,t.type);n!==a&&(ie(oe,t),ie(ne,a))}function Ct(t){oe.current===t&&(Q(ne),Q(oe)),we.current===t&&(Q(we),vl._currentValue=me)}var Le,be;function ct(t){if(Le===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Le=n&&n[1]||"",be=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+t+be}var Ke=!1;function rt(t,n){if(!t||Ke)return"";Ke=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var B=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){B=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){B=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],T=f[1];if(_&&T){var N=_.split(`
`),z=T.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var G=`
`+N[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=h);break}}}finally{Ke=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ct(a):""}function vt(t,n){switch(t.tag){case 26:case 27:case 5:return ct(t.type);case 16:return ct("Lazy");case 13:return t.child!==n&&n!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return rt(t.type,!1);case 11:return rt(t.type.render,!1);case 1:return rt(t.type,!0);case 31:return ct("Activity");default:return""}}function rn(t){try{var n="",a=null;do n+=vt(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ye=Object.prototype.hasOwnProperty,tt=s.unstable_scheduleCallback,fi=s.unstable_cancelCallback,Kh=s.unstable_shouldYield,lu=s.unstable_requestPaint,hn=s.unstable_now,br=s.unstable_getCurrentPriorityLevel,bo=s.unstable_ImmediatePriority,So=s.unstable_UserBlockingPriority,Ts=s.unstable_NormalPriority,Yh=s.unstable_LowPriority,uu=s.unstable_IdlePriority,cu=s.log,hu=s.unstable_setDisableYieldValue,Jn=null,Xt=null;function kn(t){if(typeof cu=="function"&&hu(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Jn,t)}catch{}}var bt=Math.clz32?Math.clz32:du,fu=Math.log,ua=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/ua|0)|0}var di=256,Sr=262144,Nt=4194304;function mi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=mi(o):(_&=T,_!==0?h=mi(_):a||(a=T&~t,a!==0&&(h=mi(a))))):(T=o&~f,T!==0?h=mi(T):_!==0?h=mi(_):a||(a=o&~t,a!==0&&(h=mi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Zn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function pi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $h(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-bt(a),J=1<<G;T[G]=0,N[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var F=B[G];F!==null&&(F.lane&=-536870913)}a&=~J}o!==0&&wr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function wr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-bt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ao(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-bt(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function wo(t,n){var a=n&-n;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|n))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Fi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Q_(t.type))}function Wn(t,n){var a=re.p;try{return re.p=t,n()}finally{re.p=a}}var ei=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ei,Gt="__reactProps$"+ei,yi="__reactContainer$"+ei,ca="__reactEvents$"+ei,Jh="__reactListeners$"+ei,pu="__reactHandles$"+ei,yu="__reactResources$"+ei,_i="__reactMarker$"+ei;function ha(t){delete t[Dt],delete t[Gt],delete t[ca],delete t[Jh],delete t[pu]}function vi(t){var n=t[Dt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yi]||a[Dt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=N_(t);t!==null;){if(a=t[Dt])return a;t=N_(t)}return n}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[Dt]||t[yi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function An(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ei(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(t){t[_i]=!0}var Ro=new Set,xo={};function Ti(t,n){bi(t,n),bi(t+"Capture",n)}function bi(t,n){for(xo[t]=n,t=0;t<n.length;t++)Ro.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},No={};function _u(t){return Ye.call(No,t)?!0:Ye.call(Co,t)?!1:Io.test(t)?No[t]=!0:(Co[t]=!0,!1)}function fa(t,n,a){if(_u(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function wn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Vt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Do(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=bs(t)?"checked":"value";t._valueTracker=Do(t,n,""+t[n])}}function xr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=bs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function gn(t){return t.replace(Ir,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(t,n,a,o,h,f,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Oo(t,_,Qt(n)):a!=null?Oo(t,_,Qt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Qt(T):t.removeAttribute("name")}function vu(t,n,a,o,h,f,_,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}a=a!=null?""+Qt(a):"",n=n!=null?""+Qt(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),nt(t)}function Oo(t,n,a){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ss(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Eu(t,n,a){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Qt(a):""}function As(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Xe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Qt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function pn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Tu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Mo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(t,f,n[f])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var ko=null;function jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ai=null;function Cr(t){var n=Pn(t);if(n&&(t=n.stateNode)){var a=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(da(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Gt]||null;if(!h)throw Error(r(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&xr(o)}break e;case"textarea":Eu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ss(t,!!a.multiple,n,!1)}}}var pa=!1;function xs(t,n,a){if(pa)return t(n,a);pa=!0;try{var o=t(n);return o}finally{if(pa=!1,(Rs!==null||Ai!==null)&&(gc(),Rs&&(n=Rs,t=Ai,Ai=Rs=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function ni(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Gt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Ln)try{var at={};Object.defineProperty(at,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Nr=!1}var wi=null,Po=null,Dr=null;function jo(){if(Dr)return Dr;var t,n=Po,a=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return Dr=h.slice(t,1<o?1-o:void 0)}function Or(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gi(){return!0}function ii(){return!1}function $t(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ii,this.isPropagationStopped=ii,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=$t(Qi),Is=A({},Qi,{view:0,detail:0}),Lo=$t(Is),Cs,ya,xi,_a=A({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(Cs=t.screenX-xi.screenX,ya=t.screenY-xi.screenY):ya=Cs=0,xi=t),Cs)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Uo=$t(_a),Vr=A({},_a,{dataTransfer:0}),Su=$t(Vr),Au=A({},Is,{relatedTarget:0}),Mr=$t(Au),zo=A({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=$t(zo),va=A({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=$t(va),xu=A({},Qi,{data:0}),Ii=$t(xu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function Ns(){return Du}var fn=A({},Is,{key:function(t){if(t.key){var n=Iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=$t(fn),Vu=A({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=$t(Vu),c=A({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),m=$t(c),v=A({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$t(v),j=A({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=$t(j),se=A({},Qi,{newState:0,oldState:0}),Ce=$t(se),St=[9,13,27,32],Ze=Ln&&"CompositionEvent"in window,pt=null;Ln&&"documentMode"in document&&(pt=document.documentMode);var Un=Ln&&"TextEvent"in window&&!pt,Ci=Ln&&(!Ze||pt&&8<pt&&11>=pt),si=" ",ri=!1;function kr(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function Nb(t,n){switch(t){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return t=n.data,t===si&&ri?null:t;default:return null}}function Db(t,n){if(Ta)return t==="compositionend"||!Ze&&kr(t,n)?(t=jo(),Dr=Po=wi=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var Ob={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ob[t.type]:n==="textarea"}function Mg(t,n,a,o){Rs?Ai?Ai.push(o):Ai=[o]:Rs=o,n=bc(n,"onChange"),0<n.length&&(a=new Ri("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Bo=null,qo=null;function Vb(t){p_(t,0)}function Mu(t){var n=An(t);if(xr(n))return t}function kg(t,n){if(t==="change")return n}var Pg=!1;if(Ln){var Zh;if(Ln){var Wh="oninput"in document;if(!Wh){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),Wh=typeof jg.oninput=="function"}Zh=Wh}else Zh=!1;Pg=Zh&&(!document.documentMode||9<document.documentMode)}function Lg(){Bo&&(Bo.detachEvent("onpropertychange",Ug),qo=Bo=null)}function Ug(t){if(t.propertyName==="value"&&Mu(qo)){var n=[];Mg(n,qo,t,jn(t)),xs(Vb,n)}}function Mb(t,n,a){t==="focusin"?(Lg(),Bo=n,qo=a,Bo.attachEvent("onpropertychange",Ug)):t==="focusout"&&Lg()}function kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(qo)}function Pb(t,n){if(t==="click")return Mu(n)}function jb(t,n){if(t==="input"||t==="change")return Mu(n)}function Lb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rn=typeof Object.is=="function"?Object.is:Lb;function Ho(t,n){if(Rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ye.call(n,h)||!Rn(t[h],n[h]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,n){var a=zg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function qg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Si(t.document)}return n}function ef(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ub=Ln&&"documentMode"in document&&11>=document.documentMode,ba=null,tf=null,Fo=null,nf=!1;function Fg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nf||ba==null||ba!==Si(o)||(o=ba,"selectionStart"in o&&ef(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Ho(Fo,o)||(Fo=o,o=bc(tf,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=ba)))}function Pr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Sa={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},sf={},Gg={};Ln&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function jr(t){if(sf[t])return sf[t];if(!Sa[t])return t;var n=Sa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Gg)return sf[t]=n[a];return t}var Qg=jr("animationend"),Kg=jr("animationiteration"),Yg=jr("animationstart"),zb=jr("transitionrun"),Bb=jr("transitionstart"),qb=jr("transitioncancel"),Xg=jr("transitionend"),$g=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function ai(t,n){$g.set(t,n),Ti(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Aa=0,af=0;function Pu(){for(var t=Aa,n=af=Aa=0;n<t;){var a=zn[n];zn[n++]=null;var o=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&Jg(a,h,f)}}function ju(t,n,a,o){zn[Aa++]=t,zn[Aa++]=n,zn[Aa++]=a,zn[Aa++]=o,af|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function of(t,n,a,o){return ju(t,n,a,o),Lu(t)}function Lr(t,n){return ju(t,null,null,n),Lu(t)}function Jg(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-bt(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Lu(t){if(50<fl)throw fl=0,pd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function Hb(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,a,o){return new Hb(t,n,a,o)}function lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yi(t,n){var a=t.alternate;return a===null?(a=xn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")lf(t)&&(_=1);else if(typeof t=="string")_=YS(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=xn(31,a,n,h),t.elementType=R,t.lanes=f,t;case ee:return Ur(a.children,h,f,n);case W:_=8,h|=24;break;case pe:return t=xn(12,a,n,h|2),t.elementType=pe,t.lanes=f,t;case ue:return t=xn(13,a,n,h),t.elementType=ue,t.lanes=f,t;case ye:return t=xn(19,a,n,h),t.elementType=ye,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:_=10;break e;case Y:_=9;break e;case ce:_=11;break e;case C:_=14;break e;case w:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=xn(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Ur(t,n,a,o){return t=xn(7,t,o,n),t.lanes=a,t}function uf(t,n,a){return t=xn(6,t,null,n),t.lanes=a,t}function Wg(t){var n=xn(18,null,null,0);return n.stateNode=t,n}function cf(t,n,a){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ep=new WeakMap;function Bn(t,n){if(typeof t=="object"&&t!==null){var a=ep.get(t);return a!==void 0?a:(n={value:t,source:n,stack:rn(n)},ep.set(t,n),n)}return{value:t,source:n,stack:rn(n)}}var Ra=[],xa=0,zu=null,Go=0,qn=[],Hn=0,Ds=null,Ni=1,Di="";function Xi(t,n){Ra[xa++]=Go,Ra[xa++]=zu,zu=t,Go=n}function tp(t,n,a){qn[Hn++]=Ni,qn[Hn++]=Di,qn[Hn++]=Ds,Ds=t;var o=Ni;t=Di;var h=32-bt(o)-1;o&=~(1<<h),a+=1;var f=32-bt(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ni=1<<32-bt(n)+h|a<<h|o,Di=f+t}else Ni=1<<f|a<<h|o,Di=t}function hf(t){t.return!==null&&(Xi(t,1),tp(t,1,0))}function ff(t){for(;t===zu;)zu=Ra[--xa],Ra[xa]=null,Go=Ra[--xa],Ra[xa]=null;for(;t===Ds;)Ds=qn[--Hn],qn[Hn]=null,Di=qn[--Hn],qn[Hn]=null,Ni=qn[--Hn],qn[Hn]=null}function np(t,n){qn[Hn++]=Ni,qn[Hn++]=Di,qn[Hn++]=Ds,Ni=n.id,Di=n.overflow,Ds=t}var Jt=null,dt=null,Fe=!1,Os=null,Fn=!1,df=Error(r(519));function Vs(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Bn(n,t)),df}function ip(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Dt]=t,n[Gt]=o,a){case"dialog":Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":case"embed":Pe("load",n);break;case"video":case"audio":for(a=0;a<ml.length;a++)Pe(ml[a],n);break;case"source":Pe("error",n);break;case"img":case"image":case"link":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"input":Pe("invalid",n),vu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Pe("invalid",n);break;case"textarea":Pe("invalid",n),As(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||E_(n.textContent,a)?(o.popover!=null&&(Pe("beforetoggle",n),Pe("toggle",n)),o.onScroll!=null&&Pe("scroll",n),o.onScrollEnd!=null&&Pe("scrollend",n),o.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Vs(t,!0)}function sp(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Jt=Jt.return}}function Ia(t){if(t!==Jt)return!1;if(!Fe)return sp(t),Fe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dd(t.type,t.memoizedProps)),a=!a),a&&dt&&Vs(t),sp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=C_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=C_(t)}else n===27?(n=dt,Ks(t.type)?(t=Pd,Pd=null,dt=t):dt=n):dt=Jt?Qn(t.stateNode.nextSibling):null;return!0}function zr(){dt=Jt=null,Fe=!1}function mf(){var t=Os;return t!==null&&(En===null?En=t:En.push.apply(En,t),Os=null),t}function Qo(t){Os===null?Os=[t]:Os.push(t)}var gf=O(null),Br=null,$i=null;function Ms(t,n,a){ie(gf,n._currentValue),n._currentValue=a}function Ji(t){t._currentValue=gf.current,Q(gf)}function pf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function yf(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),pf(f.return,a,t),o||(_=null);break e}f=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),pf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var T=h.type;Rn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===we.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}h=h.return}t!==null&&yf(n,t,a,o),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qr(t){Br=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return rp(Br,t)}function qu(t,n){return Br===null&&qr(t),rp(t,n)}function rp(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(r(308));$i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else $i=$i.next=n;return a}var Fb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Gb=s.unstable_scheduleCallback,Qb=s.unstable_NormalPriority,Mt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new Fb,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&Gb(Qb,function(){t.controller.abort()})}var Yo=null,vf=0,Na=0,Da=null;function Kb(t,n){if(Yo===null){var a=Yo=[];vf=0,Na=bd(),Da={status:"pending",value:void 0,then:function(o){a.push(o)}}}return vf++,n.then(ap,ap),n}function ap(){if(--vf===0&&Yo!==null){Da!==null&&(Da.status="fulfilled");var t=Yo;Yo=null,Na=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Yb(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var op=H.S;H.S=function(t,n){Fy=hn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Kb(t,n),op!==null&&op(t,n)};var Hr=O(null);function Ef(){var t=Hr.current;return t!==null?t:ht.pooledCache}function Hu(t,n){n===null?ie(Hr,Hr.current):ie(Hr,n.pool)}function lp(){var t=Ef();return t===null?null:{parent:Mt._currentValue,pool:t}}var Oa=Error(r(460)),Tf=Error(r(474)),Fu=Error(r(542)),Gu={then:function(){}};function up(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ti,ti),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fp(t),t;default:if(typeof n.status=="string")n.then(ti,ti);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,fp(t),t}throw Gr=n,Oa}}function Fr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gr=a,Oa):a}}var Gr=null;function hp(){if(Gr===null)throw Error(r(459));var t=Gr;return Gr=null,t}function fp(t){if(t===Oa||t===Fu)throw Error(r(483))}var Va=null,Xo=0;function Qu(t){var n=Xo;return Xo+=1,Va===null&&(Va=[]),cp(Va,t,n)}function $o(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===I?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function dp(t){function n(P,M){if(t){var L=P.deletions;L===null?(P.deletions=[M],P.flags|=16):L.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function o(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Yi(P,M),P.index=0,P.sibling=null,P}function f(P,M,L){return P.index=L,t?(L=P.alternate,L!==null?(L=L.index,L<M?(P.flags|=67108866,M):L):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,L,X){return M===null||M.tag!==6?(M=uf(L,P.mode,X),M.return=P,M):(M=h(M,L),M.return=P,M)}function N(P,M,L,X){var _e=L.type;return _e===ee?G(P,M,L.props.children,X,L.key):M!==null&&(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&Fr(_e)===M.type)?(M=h(M,L.props),$o(M,L),M.return=P,M):(M=Uu(L.type,L.key,L.props,null,P.mode,X),$o(M,L),M.return=P,M)}function z(P,M,L,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=cf(L,P.mode,X),M.return=P,M):(M=h(M,L.children||[]),M.return=P,M)}function G(P,M,L,X,_e){return M===null||M.tag!==7?(M=Ur(L,P.mode,X,_e),M.return=P,M):(M=h(M,L),M.return=P,M)}function J(P,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=uf(""+M,P.mode,L),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return L=Uu(M.type,M.key,M.props,null,P.mode,L),$o(L,M),L.return=P,L;case K:return M=cf(M,P.mode,L),M.return=P,M;case w:return M=Fr(M),J(P,M,L)}if(Xe(M)||k(M))return M=Ur(M,P.mode,L,null),M.return=P,M;if(typeof M.then=="function")return J(P,Qu(M),L);if(M.$$typeof===te)return J(P,qu(P,M),L);Ku(P,M)}return null}function B(P,M,L,X){var _e=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return _e!==null?null:T(P,M,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case U:return L.key===_e?N(P,M,L,X):null;case K:return L.key===_e?z(P,M,L,X):null;case w:return L=Fr(L),B(P,M,L,X)}if(Xe(L)||k(L))return _e!==null?null:G(P,M,L,X,null);if(typeof L.then=="function")return B(P,M,Qu(L),X);if(L.$$typeof===te)return B(P,M,qu(P,L),X);Ku(P,L)}return null}function F(P,M,L,X,_e){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(L)||null,T(M,P,""+X,_e);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return P=P.get(X.key===null?L:X.key)||null,N(M,P,X,_e);case K:return P=P.get(X.key===null?L:X.key)||null,z(M,P,X,_e);case w:return X=Fr(X),F(P,M,L,X,_e)}if(Xe(X)||k(X))return P=P.get(L)||null,G(M,P,X,_e,null);if(typeof X.then=="function")return F(P,M,L,Qu(X),_e);if(X.$$typeof===te)return F(P,M,L,qu(M,X),_e);Ku(M,X)}return null}function he(P,M,L,X){for(var _e=null,$e=null,ge=M,Oe=M=0,ze=null;ge!==null&&Oe<L.length;Oe++){ge.index>Oe?(ze=ge,ge=null):ze=ge.sibling;var Je=B(P,ge,L[Oe],X);if(Je===null){ge===null&&(ge=ze);break}t&&ge&&Je.alternate===null&&n(P,ge),M=f(Je,M,Oe),$e===null?_e=Je:$e.sibling=Je,$e=Je,ge=ze}if(Oe===L.length)return a(P,ge),Fe&&Xi(P,Oe),_e;if(ge===null){for(;Oe<L.length;Oe++)ge=J(P,L[Oe],X),ge!==null&&(M=f(ge,M,Oe),$e===null?_e=ge:$e.sibling=ge,$e=ge);return Fe&&Xi(P,Oe),_e}for(ge=o(ge);Oe<L.length;Oe++)ze=F(ge,P,Oe,L[Oe],X),ze!==null&&(t&&ze.alternate!==null&&ge.delete(ze.key===null?Oe:ze.key),M=f(ze,M,Oe),$e===null?_e=ze:$e.sibling=ze,$e=ze);return t&&ge.forEach(function(Zs){return n(P,Zs)}),Fe&&Xi(P,Oe),_e}function Te(P,M,L,X){if(L==null)throw Error(r(151));for(var _e=null,$e=null,ge=M,Oe=M=0,ze=null,Je=L.next();ge!==null&&!Je.done;Oe++,Je=L.next()){ge.index>Oe?(ze=ge,ge=null):ze=ge.sibling;var Zs=B(P,ge,Je.value,X);if(Zs===null){ge===null&&(ge=ze);break}t&&ge&&Zs.alternate===null&&n(P,ge),M=f(Zs,M,Oe),$e===null?_e=Zs:$e.sibling=Zs,$e=Zs,ge=ze}if(Je.done)return a(P,ge),Fe&&Xi(P,Oe),_e;if(ge===null){for(;!Je.done;Oe++,Je=L.next())Je=J(P,Je.value,X),Je!==null&&(M=f(Je,M,Oe),$e===null?_e=Je:$e.sibling=Je,$e=Je);return Fe&&Xi(P,Oe),_e}for(ge=o(ge);!Je.done;Oe++,Je=L.next())Je=F(ge,P,Oe,Je.value,X),Je!==null&&(t&&Je.alternate!==null&&ge.delete(Je.key===null?Oe:Je.key),M=f(Je,M,Oe),$e===null?_e=Je:$e.sibling=Je,$e=Je);return t&&ge.forEach(function(rA){return n(P,rA)}),Fe&&Xi(P,Oe),_e}function ut(P,M,L,X){if(typeof L=="object"&&L!==null&&L.type===ee&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case U:e:{for(var _e=L.key;M!==null;){if(M.key===_e){if(_e=L.type,_e===ee){if(M.tag===7){a(P,M.sibling),X=h(M,L.props.children),X.return=P,P=X;break e}}else if(M.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&Fr(_e)===M.type){a(P,M.sibling),X=h(M,L.props),$o(X,L),X.return=P,P=X;break e}a(P,M);break}else n(P,M);M=M.sibling}L.type===ee?(X=Ur(L.props.children,P.mode,X,L.key),X.return=P,P=X):(X=Uu(L.type,L.key,L.props,null,P.mode,X),$o(X,L),X.return=P,P=X)}return _(P);case K:e:{for(_e=L.key;M!==null;){if(M.key===_e)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(P,M.sibling),X=h(M,L.children||[]),X.return=P,P=X;break e}else{a(P,M);break}else n(P,M);M=M.sibling}X=cf(L,P.mode,X),X.return=P,P=X}return _(P);case w:return L=Fr(L),ut(P,M,L,X)}if(Xe(L))return he(P,M,L,X);if(k(L)){if(_e=k(L),typeof _e!="function")throw Error(r(150));return L=_e.call(L),Te(P,M,L,X)}if(typeof L.then=="function")return ut(P,M,Qu(L),X);if(L.$$typeof===te)return ut(P,M,qu(P,L),X);Ku(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(P,M.sibling),X=h(M,L),X.return=P,P=X):(a(P,M),X=uf(L,P.mode,X),X.return=P,P=X),_(P)):a(P,M)}return function(P,M,L,X){try{Xo=0;var _e=ut(P,M,L,X);return Va=null,_e}catch(ge){if(ge===Oa||ge===Fu)throw ge;var $e=xn(29,ge,null,P.mode);return $e.lanes=X,$e.return=P,$e}}}var Qr=dp(!0),mp=dp(!1),ks=!1;function bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(t),Jg(t,null,a),n}return ju(t,o,n,a),Lu(t)}function Jo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ao(t,a)}}function Af(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var wf=!1;function Zo(){if(wf){var t=Da;if(t!==null)throw t}}function Wo(t,n,a,o){wf=!1;var h=t.updateQueue;ks=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,z=N.next;N.next=null,_===null?f=z:_.next=z,_=N;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=N))}if(f!==null){var J=h.baseState;_=0,G=z=N=null,T=f;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(Ue&B)===B:(o&B)===B){B!==0&&B===Na&&(wf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,Te=T;B=n;var ut=a;switch(Te.tag){case 1:if(he=Te.payload,typeof he=="function"){J=he.call(ut,J,B);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Te.payload,B=typeof he=="function"?he.call(ut,J,B):he,B==null)break e;J=A({},J,B);break e;case 2:ks=!0}}B=T.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=F,N=J):G=G.next=F,_|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);G===null&&(N=J),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),qs|=_,t.lanes=_,t.memoizedState=J}}function gp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function pp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)gp(a[t],n)}var Ma=O(null),Yu=O(0);function yp(t,n){t=as,ie(Yu,t),ie(Ma,n),as=t|n.baseLanes}function Rf(){ie(Yu,as),ie(Ma,Ma.current)}function xf(){as=Yu.current,Q(Ma),Q(Yu)}var In=O(null),Gn=null;function Ls(t){var n=t.alternate;ie(At,At.current&1),ie(In,t),Gn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(Gn=t)}function If(t){ie(At,At.current),ie(In,t),Gn===null&&(Gn=t)}function _p(t){t.tag===22?(ie(At,At.current),ie(In,t),Gn===null&&(Gn=t)):Us()}function Us(){ie(At,At.current),ie(In,In.current)}function Cn(t){Q(In),Gn===t&&(Gn=null),Q(At)}var At=O(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Md(a)||kd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Ne=null,ot=null,kt=null,$u=!1,ka=!1,Kr=!1,Ju=0,el=0,Pa=null,Xb=0;function Et(){throw Error(r(321))}function Cf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Rn(t[a],n[a]))return!1;return!0}function Nf(t,n,a,o,h,f){return Zi=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?ty:Gf,Kr=!1,f=a(o,h),Kr=!1,ka&&(f=Ep(n,a,o,h)),vp(t),f}function vp(t){H.H=il;var n=ot!==null&&ot.next!==null;if(Zi=0,kt=ot=Ne=null,$u=!1,el=0,Pa=null,n)throw Error(r(300));t===null||Pt||(t=t.dependencies,t!==null&&Bu(t)&&(Pt=!0))}function Ep(t,n,a,o){Ne=t;var h=0;do{if(ka&&(Pa=null),el=0,ka=!1,25<=h)throw Error(r(301));if(h+=1,kt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=ny,f=n(a,o)}while(ka);return f}function $b(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?tl(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Ne.flags|=1024),n}function Df(){var t=Ju!==0;return Ju=0,t}function Of(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Vf(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}Zi=0,kt=ot=Ne=null,ka=!1,el=Ju=0,Pa=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Ne.memoizedState=kt=t:kt=kt.next=t,kt}function wt(){if(ot===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=kt===null?Ne.memoizedState:kt.next;if(n!==null)kt=n,ot=t;else{if(t===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},kt===null?Ne.memoizedState=kt=t:kt=kt.next=t}return kt}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var n=el;return el+=1,Pa===null&&(Pa=[]),t=cp(Pa,t,n),n=Ne,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ty:Gf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===te)return Zt(t)}throw Error(r(438,String(t)))}function Mf(t){var n=null,a=Ne.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Zu(),Ne.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Wi(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=wt();return kf(n,ot,t)}function kf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=_=null,N=null,z=n,G=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ue&J)===J:(Zi&J)===J){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Na&&(G=!0);else if((Zi&B)===B){z=z.next,B===Na&&(G=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=J,_=f):N=N.next=J,Ne.lanes|=B,qs|=B;J=z.action,Kr&&a(f,J),f=z.hasEagerState?z.eagerState:a(f,J)}else B={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(T=N=B,_=f):N=N.next=B,Ne.lanes|=J,qs|=J;z=z.next}while(z!==null&&z!==n);if(N===null?_=f:N.next=T,!Rn(f,t.memoizedState)&&(Pt=!0,G&&(a=Da,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Pf(t){var n=wt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Rn(f,n.memoizedState)||(Pt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Tp(t,n,a){var o=Ne,h=wt(),f=Fe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!Rn((ot||h).memoizedState,a);if(_&&(h.memoizedState=a,Pt=!0),h=h.queue,Uf(Ap.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,ja(9,{destroy:void 0},Sp.bind(null,o,h,a,n),null),ht===null)throw Error(r(349));f||(Zi&127)!==0||bp(o,n,a)}return a}function bp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ne.updateQueue,n===null?(n=Zu(),Ne.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Sp(t,n,a,o){n.value=a,n.getSnapshot=o,wp(n)&&Rp(t)}function Ap(t,n,a){return a(function(){wp(n)&&Rp(t)})}function wp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Rn(t,a)}catch{return!0}}function Rp(t){var n=Lr(t,2);n!==null&&Tn(n,t,2)}function jf(t){var n=dn();if(typeof t=="function"){var a=t;if(t=a(),Kr){kn(!0);try{a()}finally{kn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},n}function xp(t,n,a,o){return t.baseState=a,kf(t,ot,typeof o=="function"?o:Wi)}function Jb(t,n,a,o,h){if(ic(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Ip(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Ip(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,_={};H.T=_;try{var T=a(h,o),N=H.S;N!==null&&N(_,T),Cp(t,n,T)}catch(z){Lf(t,n,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),H.T=f}}else try{f=a(h,o),Cp(t,n,f)}catch(z){Lf(t,n,z)}}function Cp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Np(t,n,o)},function(o){return Lf(t,n,o)}):Np(t,n,a)}function Np(t,n,a){n.status="fulfilled",n.value=a,Dp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Ip(t,a)))}function Lf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Dp(n),n=n.next;while(n!==o)}t.action=null}function Dp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Op(t,n){return n}function Vp(t,n){if(Fe){var a=ht.formState;if(a!==null){e:{var o=Ne;if(Fe){if(dt){t:{for(var h=dt,f=Fn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=Qn(h.nextSibling),o=h.data==="F!";break e}}Vs(o)}o=!1}o&&(n=a[0])}}return a=dn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Op,lastRenderedState:n},a.queue=o,a=Zp.bind(null,Ne,o),o.dispatch=a,o=jf(!1),f=Ff.bind(null,Ne,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=Jb.bind(null,Ne,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Mp(t){var n=wt();return kp(n,ot,t)}function kp(t,n,a){if(n=kf(t,n,Op)[0],t=ec(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(_){throw _===Oa?Fu:_}else o=n;n=wt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Ne.flags|=2048,ja(9,{destroy:void 0},Zb.bind(null,h,a),null)),[o,f,t]}function Zb(t,n){t.action=n}function Pp(t){var n=wt(),a=ot;if(a!==null)return kp(n,a,t);wt(),n=n.memoizedState,a=wt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ja(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Zu(),Ne.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function jp(){return wt().memoizedState}function tc(t,n,a,o){var h=dn();Ne.flags|=t,h.memoizedState=ja(1|n,{destroy:void 0},a,o===void 0?null:o)}function nc(t,n,a,o){var h=wt();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&Cf(o,ot.memoizedState.deps)?h.memoizedState=ja(n,f,a,o):(Ne.flags|=t,h.memoizedState=ja(1|n,f,a,o))}function Lp(t,n){tc(8390656,8,t,n)}function Uf(t,n){nc(2048,8,t,n)}function Wb(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Zu(),Ne.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Up(t){var n=wt().memoizedState;return Wb({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function zp(t,n){return nc(4,2,t,n)}function Bp(t,n){return nc(4,4,t,n)}function qp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Hp(t,n,a){a=a!=null?a.concat([t]):null,nc(4,4,qp.bind(null,n,t),a)}function zf(){}function Fp(t,n){var a=wt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Cf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Gp(t,n){var a=wt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Cf(n,o[1]))return o[0];if(o=t(),Kr){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[o,n],o}function Bf(t,n,a){return a===void 0||(Zi&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=Qy(),Ne.lanes|=t,qs|=t,a)}function Qp(t,n,a,o){return Rn(a,n)?a:Ma.current!==null?(t=Bf(t,a,o),Rn(t,n)||(Pt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Ue&261930)===0?(Pt=!0,t.memoizedState=a):(t=Qy(),Ne.lanes|=t,qs|=t,n)}function Kp(t,n,a,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var _=H.T,T={};H.T=T,Ff(t,!1,n,a);try{var N=h(),z=H.S;if(z!==null&&z(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=Yb(N,o);nl(t,n,G,On(t))}else nl(t,n,o,On(t))}catch(J){nl(t,n,{then:function(){},status:"rejected",reason:J},On())}finally{re.p=f,_!==null&&T.types!==null&&(_.types=T.types),H.T=_}}function eS(){}function qf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Yp(t).queue;Kp(t,h,n,me,a===null?eS:function(){return Xp(t),a(o)})}function Yp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Xp(t){var n=Yp(t);n.next===null&&(n=t.alternate.memoizedState),nl(t,n.next.queue,{},On())}function Hf(){return Zt(vl)}function $p(){return wt().memoizedState}function Jp(){return wt().memoizedState}function tS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=On();t=Ps(a);var o=js(n,t,a);o!==null&&(Tn(o,n,a),Jo(o,n,a)),n={cache:_f()},t.payload=n;return}n=n.return}}function nS(t,n,a){var o=On();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?Wp(n,a):(a=of(t,n,a,o),a!==null&&(Tn(a,t,o),ey(a,n,o)))}function Zp(t,n,a){var o=On();nl(t,n,a,o)}function nl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))Wp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,T=f(_,a);if(h.hasEagerState=!0,h.eagerState=T,Rn(T,_))return ju(t,n,h,0),ht===null&&Pu(),!1}catch{}if(a=of(t,n,h,o),a!==null)return Tn(a,t,o),ey(a,n,o),!0}return!1}function Ff(t,n,a,o){if(o={lane:2,revertLane:bd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(r(479))}else n=of(t,a,o,2),n!==null&&Tn(n,t,2)}function ic(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Wp(t,n){ka=$u=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function ey(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ao(t,a)}}var il={readContext:Zt,use:Wu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};il.useEffectEvent=Et;var ty={readContext:Zt,use:Wu,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:Zt,useEffect:Lp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,tc(4194308,4,qp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return tc(4194308,4,t,n)},useInsertionEffect:function(t,n){tc(4,2,t,n)},useMemo:function(t,n){var a=dn();n=n===void 0?null:n;var o=t();if(Kr){kn(!0);try{t()}finally{kn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=dn();if(a!==void 0){var h=a(n);if(Kr){kn(!0);try{a(n)}finally{kn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=nS.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=jf(t);var n=t.queue,a=Zp.bind(null,Ne,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:zf,useDeferredValue:function(t,n){var a=dn();return Bf(a,t,n)},useTransition:function(){var t=jf(!1);return t=Kp.bind(null,Ne,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=Ne,h=dn();if(Fe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ht===null)throw Error(r(349));(Ue&127)!==0||bp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Lp(Ap.bind(null,o,f,t),[t]),o.flags|=2048,ja(9,{destroy:void 0},Sp.bind(null,o,f,a,n),null),a},useId:function(){var t=dn(),n=ht.identifierPrefix;if(Fe){var a=Di,o=Ni;a=(o&~(1<<32-bt(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Xb++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Hf,useFormState:Vp,useActionState:Vp,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ff.bind(null,Ne,!0,a),a.dispatch=n,[t,n]},useMemoCache:Mf,useCacheRefresh:function(){return dn().memoizedState=tS.bind(null,Ne)},useEffectEvent:function(t){var n=dn(),a={impl:t};return n.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Gf={readContext:Zt,use:Wu,useCallback:Fp,useContext:Zt,useEffect:Uf,useImperativeHandle:Hp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Gp,useReducer:ec,useRef:jp,useState:function(){return ec(Wi)},useDebugValue:zf,useDeferredValue:function(t,n){var a=wt();return Qp(a,ot.memoizedState,t,n)},useTransition:function(){var t=ec(Wi)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:tl(t),n]},useSyncExternalStore:Tp,useId:$p,useHostTransitionStatus:Hf,useFormState:Mp,useActionState:Mp,useOptimistic:function(t,n){var a=wt();return xp(a,ot,t,n)},useMemoCache:Mf,useCacheRefresh:Jp};Gf.useEffectEvent=Up;var ny={readContext:Zt,use:Wu,useCallback:Fp,useContext:Zt,useEffect:Uf,useImperativeHandle:Hp,useInsertionEffect:zp,useLayoutEffect:Bp,useMemo:Gp,useReducer:Pf,useRef:jp,useState:function(){return Pf(Wi)},useDebugValue:zf,useDeferredValue:function(t,n){var a=wt();return ot===null?Bf(a,t,n):Qp(a,ot.memoizedState,t,n)},useTransition:function(){var t=Pf(Wi)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:tl(t),n]},useSyncExternalStore:Tp,useId:$p,useHostTransitionStatus:Hf,useFormState:Pp,useActionState:Pp,useOptimistic:function(t,n){var a=wt();return ot!==null?xp(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:Jp};ny.useEffectEvent=Up;function Qf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Kf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=On(),h=Ps(o);h.payload=n,a!=null&&(h.callback=a),n=js(t,h,o),n!==null&&(Tn(n,t,o),Jo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=On(),h=Ps(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=js(t,h,o),n!==null&&(Tn(n,t,o),Jo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=On(),o=Ps(a);o.tag=2,n!=null&&(o.callback=n),n=js(t,o,a),n!==null&&(Tn(n,t,a),Jo(n,t,a))}};function iy(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Ho(a,o)||!Ho(h,f):!0}function sy(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Kf.enqueueReplaceState(n,n.state,null)}function Yr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function ry(t){ku(t)}function ay(t){console.error(t)}function oy(t){ku(t)}function sc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ly(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,n,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,n)},a}function uy(t){return t=Ps(t),t.tag=3,t}function cy(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){ly(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ly(n,a,o),typeof h!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function iS(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ca(n,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?pc():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Gu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),vd(t,o,h)),!1;case 22:return a.flags|=65536,o===Gu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),vd(t,o,h)),!1}throw Error(r(435,a.tag))}return vd(t,o,h),pc(),!1}if(Fe)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==df&&(t=Error(r(422),{cause:o}),Qo(Bn(t,a)))):(o!==df&&(n=Error(r(423),{cause:o}),Qo(Bn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Bn(o,a),h=Yf(t.stateNode,o,h),Af(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(r(520),{cause:o});if(f=Bn(f,a),hl===null?hl=[f]:hl.push(f),Tt!==4&&(Tt=2),n===null)return!0;o=Bn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yf(a.stateNode,o,t),Af(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hs===null||!Hs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=uy(h),cy(h,t,a,o),Af(a,h),!1}a=a.return}while(a!==null);return!1}var Xf=Error(r(461)),Pt=!1;function Wt(t,n,a,o){n.child=t===null?mp(n,null,a,o):Qr(n,t.child,a,o)}function hy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return qr(n),o=Nf(t,n,a,_,f,h),T=Df(),t!==null&&!Pt?(Of(t,n,h),es(t,n,h)):(Fe&&T&&hf(n),n.flags|=1,Wt(t,n,o,h),n.child)}function fy(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!lf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,dy(t,n,f,o,h)):(t=Uu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!id(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(_,o)&&t.ref===n.ref)return es(t,n,h)}return n.flags|=1,t=Yi(f,o),t.ref=n.ref,t.return=n,n.child=t}function dy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Ho(f,o)&&t.ref===n.ref)if(Pt=!1,n.pendingProps=o=f,id(t,h))(t.flags&131072)!==0&&(Pt=!0);else return n.lanes=t.lanes,es(t,n,h)}return $f(t,n,a,o,h)}function my(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return gy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?yp(n,f):Rf(),_p(n);else return o=n.lanes=536870912,gy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Hu(n,f.cachePool),yp(n,f),Us(),n.memoizedState=null):(t!==null&&Hu(n,null),Rf(),Us());return Wt(t,n,h,a),n.child}function sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function gy(t,n,a,o,h){var f=Ef();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Hu(n,null),Rf(),_p(n),t!==null&&Ca(t,n,o,!0),n.childLanes=h,null}function rc(t,n){return n=oc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function py(t,n,a){return Qr(n,t.child,null,a),t=rc(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function sS(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(o.mode==="hidden")return t=rc(n,o),n.lanes=536870912,sl(null,t);if(If(n),(t=dt)?(t=I_(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=n,n.child=a,Jt=n,dt=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return rc(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(If(n),h)if(n.flags&256)n.flags&=-257,n=py(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Pt||Ca(t,n,a,!1),h=(a&t.childLanes)!==0,Pt||h){if(o=ht,o!==null&&(_=wo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Lr(t,_),Tn(o,t,_),Xf;pc(),n=py(t,n,a)}else t=f.treeContext,dt=Qn(_.nextSibling),Jt=n,Fe=!0,Os=null,Fn=!1,t!==null&&np(n,t),n=rc(n,o),n.flags|=4096;return n}return t=Yi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ac(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function $f(t,n,a,o,h){return qr(n),a=Nf(t,n,a,o,void 0,h),o=Df(),t!==null&&!Pt?(Of(t,n,h),es(t,n,h)):(Fe&&o&&hf(n),n.flags|=1,Wt(t,n,a,h),n.child)}function yy(t,n,a,o,h,f){return qr(n),n.updateQueue=null,a=Ep(n,o,a,h),vp(t),o=Df(),t!==null&&!Pt?(Of(t,n,f),es(t,n,f)):(Fe&&o&&hf(n),n.flags|=1,Wt(t,n,a,f),n.child)}function _y(t,n,a,o,h){if(qr(n),n.stateNode===null){var f=wa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Zt(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Kf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},bf(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Zt(_):wa,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Qf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Kf.enqueueReplaceState(f,f.state,null),Wo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,N=Yr(a,T);f.props=N;var z=f.context,G=a.contextType;_=wa,typeof G=="object"&&G!==null&&(_=Zt(G));var J=a.getDerivedStateFromProps;G=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==_)&&sy(n,f,o,_),ks=!1;var B=n.memoizedState;f.state=B,Wo(n,o,f,h),Zo(),z=n.memoizedState,T||B!==z||ks?(typeof J=="function"&&(Qf(n,a,J,o),z=n.memoizedState),(N=ks||iy(n,a,N,o,B,z,_))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=_,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Sf(t,n),_=n.memoizedProps,G=Yr(a,_),f.props=G,J=n.pendingProps,B=f.context,z=a.contextType,N=wa,typeof z=="object"&&z!==null&&(N=Zt(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==J||B!==N)&&sy(n,f,o,N),ks=!1,B=n.memoizedState,f.state=B,Wo(n,o,f,h),Zo();var F=n.memoizedState;_!==J||B!==F||ks||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof T=="function"&&(Qf(n,a,T,o),F=n.memoizedState),(G=ks||iy(n,a,G,o,B,F,N)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=N,o=G):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ac(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Qr(n,t.child,null,h),n.child=Qr(n,null,a,h)):Wt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=es(t,n,h),t}function vy(t,n,a,o){return zr(),n.flags|=256,Wt(t,n,a,o),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zf(t){return{baseLanes:t,cachePool:lp()}}function Wf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function Ey(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Ls(n):Us(),(t=dt)?(t=I_(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=n,n.child=a,Jt=n,dt=null)):t=null,t===null)throw Vs(n);return kd(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Us(),h=n.mode,T=oc({mode:"hidden",children:T},h),o=Ur(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Zf(a),o.childLanes=Wf(t,_,a),n.memoizedState=Jf,sl(null,o)):(Ls(n),ed(n,T))}var N=t.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(Ls(n),n.flags&=-257,n=td(t,n,a)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),T=o.fallback,h=n.mode,o=oc({mode:"visible",children:o.children},h),T=Ur(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Qr(n,t.child,null,a),o=n.child,o.memoizedState=Zf(a),o.childLanes=Wf(t,_,a),n.memoizedState=Jf,n=sl(null,o));else if(Ls(n),kd(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,Qo({value:o,source:null,stack:null}),n=td(t,n,a)}else if(Pt||Ca(t,n,a,!1),_=(a&t.childLanes)!==0,Pt||_){if(_=ht,_!==null&&(o=wo(_,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,Lr(t,o),Tn(_,t,o),Xf;Md(T)||pc(),n=td(t,n,a)}else Md(T)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,dt=Qn(T.nextSibling),Jt=n,Fe=!0,Os=null,Fn=!1,t!==null&&np(n,t),n=ed(n,o.children),n.flags|=4096);return n}return h?(Us(),T=o.fallback,h=n.mode,N=t.child,z=N.sibling,o=Yi(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?T=Yi(z,T):(T=Ur(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,sl(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Zf(a):(h=T.cachePool,h!==null?(N=Mt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=lp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Wf(t,_,a),n.memoizedState=Jf,sl(t.child,o)):(Ls(n),a=t.child,t=a.sibling,a=Yi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function ed(t,n){return n=oc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oc(t,n){return t=xn(22,t,null,n),t.lanes=0,t}function td(t,n,a){return Qr(n,t.child,null,a),t=ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ty(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),pf(t.return,n,a)}function nd(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function by(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=At.current,T=(_&2)!==0;if(T?(_=_&1|2,n.flags|=128):_&=1,ie(At,_),Wt(t,n,o,a),o=Fe?Go:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ty(t,a,n);else if(t.tag===19)Ty(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),nd(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}nd(n,!0,a,null,f,o);break;case"together":nd(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function es(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),qs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ca(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Yi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Yi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function id(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function rS(t,n,a){switch(n.tag){case 3:fe(n,n.stateNode.containerInfo),Ms(n,Mt,t.memoizedState.cache),zr();break;case 27:case 5:Qe(n);break;case 4:fe(n,n.stateNode.containerInfo);break;case 10:Ms(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,If(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ey(t,n,a):(Ls(n),t=es(t,n,a),t!==null?t.sibling:null);Ls(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ca(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return by(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(At,At.current),o)break;return null;case 22:return n.lanes=0,my(t,n,a,n.pendingProps);case 24:Ms(n,Mt,t.memoizedState.cache)}return es(t,n,a)}function Sy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Pt=!0;else{if(!id(t,a)&&(n.flags&128)===0)return Pt=!1,rS(t,n,a);Pt=(t.flags&131072)!==0}else Pt=!1,Fe&&(n.flags&1048576)!==0&&tp(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Fr(n.elementType),n.type=t,typeof t=="function")lf(t)?(o=Yr(t,o),n.tag=1,n=_y(null,n,t,o,a)):(n.tag=0,n=$f(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===ce){n.tag=11,n=hy(null,n,t,o,a);break e}else if(h===C){n.tag=14,n=fy(null,n,t,o,a);break e}}throw n=Ve(t)||t,Error(r(306,n,""))}}return n;case 0:return $f(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Yr(o,n.pendingProps),_y(t,n,o,h,a);case 3:e:{if(fe(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Sf(t,n),Wo(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Ms(n,Mt,o),o!==f.cache&&yf(n,[Mt],a,!0),Zo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vy(t,n,o,a);break e}else if(o!==h){h=Bn(Error(r(424)),n),Qo(h),n=vy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,dt=Qn(t.firstChild),Jt=n,Fe=!0,Os=null,Fn=!0,a=mp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zr(),o===h){n=es(t,n,a);break e}Wt(t,n,o,a)}n=n.child}return n;case 26:return ac(t,n),t===null?(a=M_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Fe||(a=n.type,t=n.pendingProps,o=Sc(Ee.current).createElement(a),o[Dt]=n,o[Gt]=t,en(o,a,t),Ot(o),n.stateNode=o):n.memoizedState=M_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qe(n),t===null&&Fe&&(o=n.stateNode=D_(n.type,n.pendingProps,Ee.current),Jt=n,Fn=!0,h=dt,Ks(n.type)?(Pd=h,dt=Qn(o.firstChild)):dt=h),Wt(t,n,n.pendingProps.children,a),ac(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=o=dt)&&(o=kS(o,n.type,n.pendingProps,Fn),o!==null?(n.stateNode=o,Jt=n,dt=Qn(o.firstChild),Fn=!1,h=!0):h=!1),h||Vs(n)),Qe(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Dd(h,f)?o=null:_!==null&&Dd(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Nf(t,n,$b,null,null,a),vl._currentValue=h),ac(t,n),Wt(t,n,o,a),n.child;case 6:return t===null&&Fe&&((t=a=dt)&&(a=PS(a,n.pendingProps,Fn),a!==null?(n.stateNode=a,Jt=n,dt=null,t=!0):t=!1),t||Vs(n)),null;case 13:return Ey(t,n,a);case 4:return fe(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Qr(n,null,o,a):Wt(t,n,o,a),n.child;case 11:return hy(t,n,n.type,n.pendingProps,a);case 7:return Wt(t,n,n.pendingProps,a),n.child;case 8:return Wt(t,n,n.pendingProps.children,a),n.child;case 12:return Wt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ms(n,n.type,o.value),Wt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=Zt(h),o=o(h),n.flags|=1,Wt(t,n,o,a),n.child;case 14:return fy(t,n,n.type,n.pendingProps,a);case 15:return dy(t,n,n.type,n.pendingProps,a);case 19:return by(t,n,a);case 31:return sS(t,n,a);case 22:return my(t,n,a,n.pendingProps);case 24:return qr(n),o=Zt(Mt),t===null?(h=Ef(),h===null&&(h=ht,f=_f(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},bf(n),Ms(n,Mt,h)):((t.lanes&a)!==0&&(Sf(t,n),Wo(n,null,null,a),Zo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ms(n,Mt,o)):(o=f.cache,Ms(n,Mt,o),o!==h.cache&&yf(n,[Mt],a,!0))),Wt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ts(t){t.flags|=4}function sd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if($y())t.flags|=8192;else throw Gr=Gu,Tf}else t.flags&=-16777217}function Ay(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!U_(n))if($y())t.flags|=8192;else throw Gr=Gu,Tf}function lc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mu():536870912,t.lanes|=n,Ba|=n)}function rl(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function aS(t,n,a){var o=n.pendingProps;switch(ff(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ji(Mt),je(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ia(n)?ts(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,mf())),mt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ts(n),f!==null?(mt(n),Ay(n,f)):(mt(n),sd(n,h,null,o,a))):f?f!==t.memoizedState?(ts(n),mt(n),Ay(n,f)):(mt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&ts(n),mt(n),sd(n,h,t,o,a)),null;case 27:if(Ct(n),a=Ee.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}t=ne.current,Ia(n)?ip(n):(t=D_(h,o,a),n.stateNode=t,ts(n))}return mt(n),null;case 5:if(Ct(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}if(f=ne.current,Ia(n))ip(n);else{var _=Sc(Ee.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Dt]=n,f[Gt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(en(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ts(n)}}return mt(n),sd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ee.current,Ia(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Jt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||Vs(n,!0)}else t=Sc(t).createTextNode(o),t[Dt]=n,n.stateNode=t}return mt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ia(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Dt]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),t=!1}else a=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return mt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Dt]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),h=!1}else h=mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),lc(n,n.updateQueue),mt(n),null);case 4:return je(),t===null&&Rd(n.stateNode.containerInfo),mt(n),null;case 10:return Ji(n.type),mt(n),null;case 19:if(Q(At),o=n.memoizedState,o===null)return mt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)rl(o,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,rl(o,!1),t=f.updateQueue,n.updateQueue=t,lc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Zg(a,t),a=a.sibling;return ie(At,At.current&1|2),Fe&&Xi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&hn()>dc&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,lc(n,t),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Fe)return mt(n),null}else 2*hn()-o.renderingStartTime>dc&&a!==536870912&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=hn(),t.sibling=null,a=At.current,ie(At,h?a&1|2:a&1),Fe&&Xi(n,o.treeForkCount),t):(mt(n),null);case 22:case 23:return Cn(n),xf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),a=n.updateQueue,a!==null&&lc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&Q(Hr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ji(Mt),mt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function oS(t,n){switch(ff(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ji(Mt),je(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ct(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(r(340));zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(At),null;case 4:return je(),null;case 10:return Ji(n.type),null;case 22:case 23:return Cn(n),xf(),t!==null&&Q(Hr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ji(Mt),null;case 25:return null;default:return null}}function wy(t,n){switch(ff(n),n.tag){case 3:Ji(Mt),je();break;case 26:case 27:case 5:Ct(n);break;case 4:je();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:Q(At);break;case 10:Ji(n.type);break;case 22:case 23:Cn(n),xf(),t!==null&&Q(Hr);break;case 24:Ji(Mt)}}function al(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(T){st(n,n.return,T)}}function zs(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var N=a,z=T;try{z()}catch(G){st(h,N,G)}}}o=o.next}while(o!==f)}}catch(G){st(n,n.return,G)}}function Ry(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{pp(n,a)}catch(o){st(t,t.return,o)}}}function xy(t,n,a){a.props=Yr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,n,o)}}function ol(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,n,h)}}function Oi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,n,h)}else a.current=null}function Iy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function rd(t,n,a){try{var o=t.stateNode;CS(o,t.type,a,n),o[Gt]=n}catch(h){st(t,t.return,h)}}function Cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ks(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ti));else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(od(t,n,a),t=t.sibling;t!==null;)od(t,n,a),t=t.sibling}function uc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Ks(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uc(t,n,a),t=t.sibling;t!==null;)uc(t,n,a),t=t.sibling}function Ny(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,o,a),n[Dt]=t,n[Gt]=a}catch(f){st(t,t.return,f)}}var ns=!1,jt=!1,ld=!1,Dy=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function lS(t,n){if(t=t.containerInfo,Cd=Nc,t=Hg(t),ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,z=0,G=0,J=t,B=null;t:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(T=_+h),J!==f||o!==0&&J.nodeType!==3||(N=_+o),J.nodeType===3&&(_+=J.nodeValue.length),(F=J.firstChild)!==null;)B=J,J=F;for(;;){if(J===t)break t;if(B===a&&++z===h&&(T=_),B===f&&++G===o&&(N=_),(F=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=F}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Nd={focusedElem:t,selectionRange:a},Nc=!1,Kt=n;Kt!==null;)if(n=Kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Kt=t;else for(;Kt!==null;){switch(n=Kt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var he=Yr(a.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){st(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Vd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Kt=t;break}Kt=n.return}}function Oy(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ss(t,a),o&4&&al(5,a);break;case 1:if(ss(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){st(a,a.return,_)}else{var h=Yr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(a,a.return,_)}}o&64&&Ry(a),o&512&&ol(a,a.return);break;case 3:if(ss(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{pp(t,n)}catch(_){st(a,a.return,_)}}break;case 27:n===null&&o&4&&Ny(a);case 26:case 5:ss(t,a),n===null&&o&4&&Iy(a),o&512&&ol(a,a.return);break;case 12:ss(t,a);break;case 31:ss(t,a),o&4&&ky(t,a);break;case 13:ss(t,a),o&4&&Py(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=yS.bind(null,a),jS(t,a))));break;case 22:if(o=a.memoizedState!==null||ns,!o){n=n!==null&&n.memoizedState!==null||jt,h=ns;var f=jt;ns=o,(jt=n)&&!f?rs(t,a,(a.subtreeFlags&8772)!==0):ss(t,a),ns=h,jt=f}break;case 30:break;default:ss(t,a)}}function Vy(t){var n=t.alternate;n!==null&&(t.alternate=null,Vy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,yn=!1;function is(t,n,a){for(a=a.child;a!==null;)My(t,n,a),a=a.sibling}function My(t,n,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:jt||Oi(a,n),is(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Oi(a,n);var o=yt,h=yn;Ks(a.type)&&(yt=a.stateNode,yn=!1),is(t,n,a),pl(a.stateNode),yt=o,yn=h;break;case 5:jt||Oi(a,n);case 6:if(o=yt,h=yn,yt=null,is(t,n,a),yt=o,yn=h,yt!==null)if(yn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){st(a,n,f)}else try{yt.removeChild(a.stateNode)}catch(f){st(a,n,f)}break;case 18:yt!==null&&(yn?(t=yt,R_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):R_(yt,a.stateNode));break;case 4:o=yt,h=yn,yt=a.stateNode.containerInfo,yn=!0,is(t,n,a),yt=o,yn=h;break;case 0:case 11:case 14:case 15:zs(2,a,n),jt||zs(4,a,n),is(t,n,a);break;case 1:jt||(Oi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&xy(a,n,o)),is(t,n,a);break;case 21:is(t,n,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,is(t,n,a),jt=o;break;default:is(t,n,a)}}function ky(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){st(n,n.return,a)}}}function Py(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){st(n,n.return,a)}}function uS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dy),n;default:throw Error(r(435,t.tag))}}function cc(t,n){var a=uS(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=_S.bind(null,t,o);o.then(h,h)}})}function _n(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Ks(T.type)){yt=T.stateNode,yn=!1;break e}break;case 5:yt=T.stateNode,yn=!1;break e;case 3:case 4:yt=T.stateNode.containerInfo,yn=!0;break e}T=T.return}if(yt===null)throw Error(r(160));My(f,_,h),yt=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)jy(n,t),n=n.sibling}var oi=null;function jy(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(n,t),vn(t),o&4&&(zs(3,t,t.return),al(3,t),zs(5,t,t.return));break;case 1:_n(n,t),vn(t),o&512&&(jt||a===null||Oi(a,a.return)),o&64&&ns&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=oi;if(_n(n,t),vn(t),o&512&&(jt||a===null||Oi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,o,a),f[Dt]=t,Ot(f),o=f;break e;case"link":var _=j_("link","href",h).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(f=_[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}f=h.createElement(o),en(f,o,a),h.head.appendChild(f);break;case"meta":if(_=j_("meta","content",h).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(f=_[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}f=h.createElement(o),en(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Dt]=t,Ot(f),o=f}t.stateNode=o}else L_(h,t.type,t.stateNode);else t.stateNode=P_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?L_(h,t.type,t.stateNode):P_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(n,t),vn(t),o&512&&(jt||a===null||Oi(a,a.return)),a!==null&&o&4&&rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(n,t),vn(t),o&512&&(jt||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{pn(h,"")}catch(he){st(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,rd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ld=!0);break;case 6:if(_n(n,t),vn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(he){st(t,t.return,he)}}break;case 3:if(Rc=null,h=oi,oi=Ac(n.containerInfo),_n(n,t),oi=h,vn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(he){st(t,t.return,he)}ld&&(ld=!1,Ly(t));break;case 4:o=oi,oi=Ac(t.stateNode.containerInfo),_n(n,t),vn(t),oi=o;break;case 12:_n(n,t),vn(t);break;case 31:_n(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 13:_n(n,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=hn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=ns,G=jt;if(ns=z||h,jt=G||N,_n(n,t),jt=G,ns=z,vn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||ns||jt||Xr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var J=N.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(he){st(N,N.return,he)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(he){st(N,N.return,he)}}}else if(n.tag===18){if(a===null){N=n;try{var F=N.stateNode;h?x_(F,!0):x_(N.stateNode,!1)}catch(he){st(N,N.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,cc(t,a))));break;case 19:_n(n,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 30:break;case 21:break;default:_n(n,t),vn(t)}}function vn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Cy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=ad(t);uc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(pn(_,""),a.flags&=-33);var T=ad(t);uc(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=ad(t);od(t,z,N);break;default:throw Error(r(161))}}catch(G){st(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ly(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ly(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ss(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Oy(t,n.alternate,n),n=n.sibling}function Xr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:zs(4,n,n.return),Xr(n);break;case 1:Oi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&xy(n,n.return,a),Xr(n);break;case 27:pl(n.stateNode);case 26:case 5:Oi(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}t=t.sibling}}function rs(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:rs(h,f,a),al(4,f);break;case 1:if(rs(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)gp(N[h],T)}catch(z){st(o,o.return,z)}}a&&_&64&&Ry(f),ol(f,f.return);break;case 27:Ny(f);case 26:case 5:rs(h,f,a),a&&o===null&&_&4&&Iy(f),ol(f,f.return);break;case 12:rs(h,f,a);break;case 31:rs(h,f,a),a&&_&4&&ky(h,f);break;case 13:rs(h,f,a),a&&_&4&&Py(h,f);break;case 22:f.memoizedState===null&&rs(h,f,a),ol(f,f.return);break;case 30:break;default:rs(h,f,a)}n=n.sibling}}function ud(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ko(a))}function cd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t))}function li(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Uy(t,n,a,o),n=n.sibling}function Uy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:li(t,n,a,o),h&2048&&al(9,n);break;case 1:li(t,n,a,o);break;case 3:li(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){li(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,T=f.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){st(n,n.return,N)}}else li(t,n,a,o);break;case 31:li(t,n,a,o);break;case 13:li(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?li(t,n,a,o):ll(t,n):f._visibility&2?li(t,n,a,o):(f._visibility|=2,La(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ud(_,n);break;case 24:li(t,n,a,o),h&2048&&cd(n.alternate,n);break;default:li(t,n,a,o)}}function La(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,T=a,N=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:La(f,_,T,N,h),al(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?La(f,_,T,N,h):ll(f,_):(G._visibility|=2,La(f,_,T,N,h)),h&&z&2048&&ud(_.alternate,_);break;case 24:La(f,_,T,N,h),h&&z&2048&&cd(_.alternate,_);break;default:La(f,_,T,N,h)}n=n.sibling}}function ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:ll(a,o),h&2048&&ud(o.alternate,o);break;case 24:ll(a,o),h&2048&&cd(o.alternate,o);break;default:ll(a,o)}n=n.sibling}}var ul=8192;function Ua(t,n,a){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)zy(t,n,a),t=t.sibling}function zy(t,n,a){switch(t.tag){case 26:Ua(t,n,a),t.flags&ul&&t.memoizedState!==null&&XS(a,oi,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,n,a);break;case 3:case 4:var o=oi;oi=Ac(t.stateNode.containerInfo),Ua(t,n,a),oi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Ua(t,n,a),ul=o):Ua(t,n,a));break;default:Ua(t,n,a)}}function By(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,Hy(o,t)}By(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qy(t),t=t.sibling}function qy(t){switch(t.tag){case 0:case 11:case 15:cl(t),t.flags&2048&&zs(9,t,t.return);break;case 3:cl(t);break;case 12:cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):cl(t);break;default:cl(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,Hy(o,t)}By(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:zs(8,n,n.return),hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Hy(t,n){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:zs(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Kt=o;else e:for(a=t;Kt!==null;){o=Kt;var h=o.sibling,f=o.return;if(Vy(o),o===a){Kt=null;break e}if(h!==null){h.return=f,Kt=h;break e}Kt=f}}}var cS={getCacheForType:function(t){var n=Zt(Mt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Zt(Mt).controller.signal}},hS=typeof WeakMap=="function"?WeakMap:Map,We=0,ht=null,ke=null,Ue=0,it=0,Nn=null,Bs=!1,za=!1,hd=!1,as=0,Tt=0,qs=0,$r=0,fd=0,Dn=0,Ba=0,hl=null,En=null,dd=!1,fc=0,Fy=0,dc=1/0,mc=null,Hs=null,qt=0,Fs=null,qa=null,os=0,md=0,gd=null,Gy=null,fl=0,pd=null;function On(){return(We&2)!==0&&Ue!==0?Ue&-Ue:H.T!==null?bd():gu()}function Qy(){if(Dn===0)if((Ue&536870912)===0||Fe){var t=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Dn=t}else Dn=536870912;return t=In.current,t!==null&&(t.flags|=32),Dn}function Tn(t,n,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Gs(t,Ue,Dn,!1)),Ar(t,a),((We&2)===0||t!==ht)&&(t===ht&&((We&2)===0&&($r|=a),Tt===4&&Gs(t,Ue,Dn,!1)),Vi(t))}function Ky(t,n,a){if((We&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Zn(t,n),h=o?mS(t,n):_d(t,n,!0),f=o;do{if(h===0){za&&!o&&Gs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!fS(a)){h=_d(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var T=t;h=hl;var N=T.current.memoizedState.isDehydrated;if(N&&(Ha(T,_).flags|=256),_=_d(T,_,!1),_!==2){if(hd&&!N){T.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break e}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ha(t,0),Gs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Gs(o,n,Dn,!Bs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=fc+300-hn(),10<h)){if(Gs(o,n,Dn,!Bs),gi(o,0,!0)!==0)break e;os=n,o.timeoutHandle=A_(Yy.bind(null,o,a,En,mc,dd,n,Dn,$r,Ba,Bs,f,"Throttled",-0,0),h);break e}Yy(o,a,En,mc,dd,n,Dn,$r,Ba,Bs,f,null,-0,0)}}break}while(!0);Vi(t)}function Yy(t,n,a,o,h,f,_,T,N,z,G,J,B,F){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},zy(n,f,J);var he=(f&62914560)===f?fc-hn():(f&4194048)===f?Fy-hn():0;if(he=$S(J,he),he!==null){os=f,t.cancelPendingCommit=he(n_.bind(null,t,n,f,a,o,h,_,T,N,G,J,null,B,F)),Gs(t,f,_,!z);return}}n_(t,n,f,a,o,h,_,T,N)}function fS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Gs(t,n,a,o){n&=~fd,n&=~$r,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-bt(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&wr(t,a,n)}function gc(){return(We&6)===0?(dl(0),!1):!0}function yd(){if(ke!==null){if(it===0)var t=ke.return;else t=ke,$i=Br=null,Vf(t),Va=null,Xo=0,t=ke;for(;t!==null;)wy(t.alternate,t),t=t.return;ke=null}}function Ha(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,OS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),os=0,yd(),ht=t,ke=a=Yi(t.current,null),Ue=n,it=0,Nn=null,Bs=!1,za=Zn(t,n),hd=!1,Ba=Dn=fd=$r=qs=Tt=0,En=hl=null,dd=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-bt(o),f=1<<h;n|=t[h],o&=~f}return as=n,Pu(),a}function Xy(t,n){Ne=null,H.H=il,n===Oa||n===Fu?(n=hp(),it=3):n===Tf?(n=hp(),it=4):it=n===Xf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,ke===null&&(Tt=1,sc(t,Bn(n,t.current)))}function $y(){var t=In.current;return t===null?!0:(Ue&4194048)===Ue?Gn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Gn:!1}function Jy(){var t=H.H;return H.H=il,t===null?il:t}function Zy(){var t=H.A;return H.A=cS,t}function pc(){Tt=4,Bs||(Ue&4194048)!==Ue&&In.current!==null||(za=!0),(qs&134217727)===0&&($r&134217727)===0||ht===null||Gs(ht,Ue,Dn,!1)}function _d(t,n,a){var o=We;We|=2;var h=Jy(),f=Zy();(ht!==t||Ue!==n)&&(mc=null,Ha(t,n)),n=!1;var _=Tt;e:do try{if(it!==0&&ke!==null){var T=ke,N=Nn;switch(it){case 8:yd(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var z=it;if(it=0,Nn=null,Fa(t,T,N,z),a&&za){_=0;break e}break;default:z=it,it=0,Nn=null,Fa(t,T,N,z)}}dS(),_=Tt;break}catch(G){Xy(t,G)}while(!0);return n&&t.shellSuspendCounter++,$i=Br=null,We=o,H.H=h,H.A=f,ke===null&&(ht=null,Ue=0,Pu()),_}function dS(){for(;ke!==null;)Wy(ke)}function mS(t,n){var a=We;We|=2;var o=Jy(),h=Zy();ht!==t||Ue!==n?(mc=null,dc=hn()+500,Ha(t,n)):za=Zn(t,n);e:do try{if(it!==0&&ke!==null){n=ke;var f=Nn;t:switch(it){case 1:it=0,Nn=null,Fa(t,n,f,1);break;case 2:case 9:if(up(f)){it=0,Nn=null,e_(n);break}n=function(){it!==2&&it!==9||ht!==t||(it=7),Vi(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:up(f)?(it=0,Nn=null,e_(n)):(it=0,Nn=null,Fa(t,n,f,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var T=ke;if(_?U_(_):T.stateNode.complete){it=0,Nn=null;var N=T.sibling;if(N!==null)ke=N;else{var z=T.return;z!==null?(ke=z,yc(z)):ke=null}break t}}it=0,Nn=null,Fa(t,n,f,5);break;case 6:it=0,Nn=null,Fa(t,n,f,6);break;case 8:yd(),Tt=6;break e;default:throw Error(r(462))}}gS();break}catch(G){Xy(t,G)}while(!0);return $i=Br=null,H.H=o,H.A=h,We=a,ke!==null?0:(ht=null,Ue=0,Pu(),Tt)}function gS(){for(;ke!==null&&!Kh();)Wy(ke)}function Wy(t){var n=Sy(t.alternate,t,as);t.memoizedProps=t.pendingProps,n===null?yc(t):ke=n}function e_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=yy(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=yy(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Vf(n);default:wy(a,n),n=ke=Zg(n,as),n=Sy(a,n,as)}t.memoizedProps=t.pendingProps,n===null?yc(t):ke=n}function Fa(t,n,a,o){$i=Br=null,Vf(n),Va=null,Xo=0;var h=n.return;try{if(iS(t,h,n,a,Ue)){Tt=1,sc(t,Bn(a,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Tt=1,sc(t,Bn(a,t.current)),ke=null;return}n.flags&32768?(Fe||o===1?t=!0:za||(Ue&536870912)!==0?t=!1:(Bs=t=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),t_(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){t_(n,Bs);return}t=n.return;var a=aS(n.alternate,n,as);if(a!==null){ke=a;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);Tt===0&&(Tt=5)}function t_(t,n){do{var a=oS(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);Tt=6,ke=null}function n_(t,n,a,o,h,f,_,T,N){t.cancelPendingCommit=null;do _c();while(qt!==0);if((We&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=af,$h(t,a,f,_,T,N),t===ht&&(ke=ht=null,Ue=0),qa=n,Fs=t,os=a,md=f,gd=h,Gy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vS(Ts,function(){return o_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=re.p,re.p=2,_=We,We|=4;try{lS(t,n,a)}finally{We=_,re.p=h,H.T=o}}qt=1,i_(),s_(),r_()}}function i_(){if(qt===1){qt=0;var t=Fs,n=qa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=re.p;re.p=2;var h=We;We|=4;try{jy(n,t);var f=Nd,_=Hg(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(_!==T&&T&&T.ownerDocument&&qg(T.ownerDocument.documentElement,T)){if(N!==null&&ef(T)){var z=N.start,G=N.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var J=T.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var F=B.getSelection(),he=T.textContent.length,Te=Math.min(N.start,he),ut=N.end===void 0?Te:Math.min(N.end,he);!F.extend&&Te>ut&&(_=ut,ut=Te,Te=_);var P=Bg(T,Te),M=Bg(T,ut);if(P&&M&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var L=J.createRange();L.setStart(P.node,P.offset),F.removeAllRanges(),Te>ut?(F.addRange(L),F.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),F.addRange(L))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var X=J[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Nc=!!Cd,Nd=Cd=null}finally{We=h,re.p=o,H.T=a}}t.current=n,qt=2}}function s_(){if(qt===2){qt=0;var t=Fs,n=qa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=re.p;re.p=2;var h=We;We|=4;try{Oy(t,n.alternate,n)}finally{We=h,re.p=o,H.T=a}}qt=3}}function r_(){if(qt===4||qt===3){qt=0,lu();var t=Fs,n=qa,a=os,o=Gy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,qa=Fs=null,a_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hs=null),Fi(a),n=n.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=re.p,re.p=2,H.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];f(T.value,{componentStack:T.stack})}}finally{H.T=n,re.p=h}}(os&3)!==0&&_c(),Vi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===pd?fl++:(fl=0,pd=t):fl=0,dl(0)}}function a_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ko(n)))}function _c(){return i_(),s_(),r_(),o_()}function o_(){if(qt!==5)return!1;var t=Fs,n=md;md=0;var a=Fi(os),o=H.T,h=re.p;try{re.p=32>a?32:a,H.T=null,a=gd,gd=null;var f=Fs,_=os;if(qt=0,qa=Fs=null,os=0,(We&6)!==0)throw Error(r(331));var T=We;if(We|=4,qy(f.current),Uy(f,f.current,_,a),We=T,dl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Jn,f)}catch{}return!0}finally{re.p=h,H.T=o,a_(t,n)}}function l_(t,n,a){n=Bn(a,n),n=Yf(t.stateNode,n,2),t=js(t,n,2),t!==null&&(Ar(t,2),Vi(t))}function st(t,n,a){if(t.tag===3)l_(t,t,a);else for(;n!==null;){if(n.tag===3){l_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hs===null||!Hs.has(o))){t=Bn(a,t),a=uy(2),o=js(n,a,2),o!==null&&(cy(a,o,n,t),Ar(o,2),Vi(o));break}}n=n.return}}function vd(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new hS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(hd=!0,h.add(a),t=pS.bind(null,t,n,a),n.then(t,t))}function pS(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Ue&a)===a&&(Tt===4||Tt===3&&(Ue&62914560)===Ue&&300>hn()-fc?(We&2)===0&&Ha(t,0):fd|=a,Ba===Ue&&(Ba=0)),Vi(t)}function u_(t,n){n===0&&(n=mu()),t=Lr(t,n),t!==null&&(Ar(t,n),Vi(t))}function yS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),u_(t,a)}function _S(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),u_(t,a)}function vS(t,n){return tt(t,n)}var vc=null,Ga=null,Ed=!1,Ec=!1,Td=!1,Qs=0;function Vi(t){t!==Ga&&t.next===null&&(Ga===null?vc=Ga=t:Ga=Ga.next=t),Ec=!0,Ed||(Ed=!0,TS())}function dl(t,n){if(!Td&&Ec){Td=!0;do for(var a=!1,o=vc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(_&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,d_(o,f))}else f=Ue,f=gi(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Zn(o,f)||(a=!0,d_(o,f));o=o.next}while(a);Td=!1}}function ES(){c_()}function c_(){Ec=Ed=!1;var t=0;Qs!==0&&DS()&&(t=Qs);for(var n=hn(),a=null,o=vc;o!==null;){var h=o.next,f=h_(o,n);f===0?(o.next=null,a===null?vc=h:a.next=h,h===null&&(Ga=a)):(a=o,(t!==0||(f&3)!==0)&&(Ec=!0)),o=h}qt!==0&&qt!==5||dl(t),Qs!==0&&(Qs=0)}function h_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-bt(f),T=1<<_,N=h[_];N===-1?((T&a)===0||(T&o)!==0)&&(h[_]=Xh(T,n)):N<=n&&(t.expiredLanes|=T),f&=~T}if(n=ht,a=Ue,a=gi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&fi(o),Fi(a)){case 2:case 8:a=So;break;case 32:a=Ts;break;case 268435456:a=uu;break;default:a=Ts}return o=f_.bind(null,t),a=tt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&fi(o),t.callbackPriority=2,t.callbackNode=null,2}function f_(t,n){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_c()&&t.callbackNode!==a)return null;var o=Ue;return o=gi(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Ky(t,o,n),h_(t,hn()),t.callbackNode!=null&&t.callbackNode===a?f_.bind(null,t):null)}function d_(t,n){if(_c())return null;Ky(t,n,!0)}function TS(){VS(function(){(We&6)!==0?tt(bo,ES):c_()})}function bd(){if(Qs===0){var t=Na;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),Qs=t}return Qs}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function g_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function bS(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=m_((h[Gt]||null).action),_=o.submitter;_&&(n=(n=_[Gt]||null)?m_(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var T=new Ri("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var N=_?g_(h,_):new FormData(h);qf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=_?g_(h,_):new FormData(h),qf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Sd=0;Sd<rf.length;Sd++){var Ad=rf[Sd],SS=Ad.toLowerCase(),AS=Ad[0].toUpperCase()+Ad.slice(1);ai(SS,"on"+AS)}ai(Qg,"onAnimationEnd"),ai(Kg,"onAnimationIteration"),ai(Yg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(zb,"onTransitionRun"),ai(Bb,"onTransitionStart"),ai(qb,"onTransitionCancel"),ai(Xg,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function p_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],N=T.instance,z=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){ku(G)}h.currentTarget=null,f=N}else for(_=0;_<o.length;_++){if(T=o[_],N=T.instance,z=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=z;try{f(h)}catch(G){ku(G)}h.currentTarget=null,f=N}}}}function Pe(t,n){var a=n[ca];a===void 0&&(a=n[ca]=new Set);var o=t+"__bubble";a.has(o)||(y_(n,t,2,!1),a.add(o))}function wd(t,n,a){var o=0;n&&(o|=4),y_(a,t,o,n)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[Tc]){t[Tc]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(wS.has(a)||wd(a,!1,t),wd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tc]||(n[Tc]=!0,wd("selectionchange",!1,n))}}function y_(t,n,a,o){switch(Q_(n)){case 2:var h=WS;break;case 8:h=eA;break;default:h=Bd}a=h.bind(null,n,a,t),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function xd(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=vi(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=f=_;continue e}T=T.parentNode}}o=o.return}xs(function(){var z=f,G=jn(a),J=[];e:{var B=$g.get(t);if(B!==void 0){var F=Ri,he=t;switch(t){case"keypress":if(Or(a)===0)break e;case"keydown":case"keyup":F=Ou;break;case"focusin":he="focus",F=Mr;break;case"focusout":he="blur",F=Mr;break;case"beforeblur":case"afterblur":F=Mr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Qg:case Kg:case Yg:F=wu;break;case Xg:F=S;break;case"scroll":case"scrollend":F=Lo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ki;break;case"toggle":case"beforetoggle":F=Ce}var Te=(n&4)!==0,ut=!Te&&(t==="scroll"||t==="scrollend"),P=Te?B!==null?B+"Capture":null:B;Te=[];for(var M=z,L;M!==null;){var X=M;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||P===null||(X=ni(M,P),X!=null&&Te.push(gl(M,X,L))),ut)break;M=M.return}0<Te.length&&(B=new F(B,he,null,a,G),J.push({event:B,listeners:Te}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&a!==ko&&(he=a.relatedTarget||a.fromElement)&&(vi(he)||he[yi]))break e;if((F||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,F?(he=a.relatedTarget||a.toElement,F=z,he=he?vi(he):null,he!==null&&(ut=u(he),Te=he.tag,he!==ut||Te!==5&&Te!==27&&Te!==6)&&(he=null)):(F=null,he=z),F!==he)){if(Te=Uo,X="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Ki,X="onPointerLeave",P="onPointerEnter",M="pointer"),ut=F==null?B:An(F),L=he==null?B:An(he),B=new Te(X,M+"leave",F,a,G),B.target=ut,B.relatedTarget=L,X=null,vi(G)===z&&(Te=new Te(P,M+"enter",he,a,G),Te.target=L,Te.relatedTarget=ut,X=Te),ut=X,F&&he)t:{for(Te=RS,P=F,M=he,L=0,X=P;X;X=Te(X))L++;X=0;for(var _e=M;_e;_e=Te(_e))X++;for(;0<L-X;)P=Te(P),L--;for(;0<X-L;)M=Te(M),X--;for(;L--;){if(P===M||M!==null&&P===M.alternate){Te=P;break t}P=Te(P),M=Te(M)}Te=null}else Te=null;F!==null&&__(J,B,F,Te,!1),he!==null&&ut!==null&&__(J,ut,he,Te,!0)}}e:{if(B=z?An(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var $e=kg;else if(Vg(B))if(Pg)$e=jb;else{$e=kb;var ge=Mb}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ma(z.elementType)&&($e=kg):$e=Pb;if($e&&($e=$e(t,z))){Mg(J,$e,a,G);break e}ge&&ge(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Oo(B,"number",B.value)}switch(ge=z?An(z):window,t){case"focusin":(Vg(ge)||ge.contentEditable==="true")&&(ba=ge,tf=z,Fo=null);break;case"focusout":Fo=tf=ba=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,Fg(J,a,G);break;case"selectionchange":if(Ub)break;case"keydown":case"keyup":Fg(J,a,G)}var Oe;if(Ze)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ta?kr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Ci&&a.locale!=="ko"&&(Ta||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ta&&(Oe=jo()):(wi=G,Po="value"in wi?wi.value:wi.textContent,Ta=!0)),ge=bc(z,ze),0<ge.length&&(ze=new Ii(ze,t,null,a,G),J.push({event:ze,listeners:ge}),Oe?ze.data=Oe:(Oe=Ea(a),Oe!==null&&(ze.data=Oe)))),(Oe=Un?Nb(t,a):Db(t,a))&&(ze=bc(z,"onBeforeInput"),0<ze.length&&(ge=new Ii("onBeforeInput","beforeinput",null,a,G),J.push({event:ge,listeners:ze}),ge.data=Oe)),bS(J,t,z,a,G)}p_(J,n)})}function gl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function bc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(t,a),h!=null&&o.unshift(gl(t,h,f)),h=ni(t,n),h!=null&&o.push(gl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function RS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function __(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var T=a,N=T.alternate,z=T.stateNode;if(T=T.tag,N!==null&&N===o)break;T!==5&&T!==26&&T!==27||z===null||(N=z,h?(z=ni(a,f),z!=null&&_.unshift(gl(a,z,N))):h||(z=ni(a,f),z!=null&&_.push(gl(a,z,N)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var xS=/\r\n?/g,IS=/\u0000|\uFFFD/g;function v_(t){return(typeof t=="string"?t:""+t).replace(xS,`
`).replace(IS,"")}function E_(t,n){return n=v_(n),v_(t)===n}function lt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||pn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&pn(t,""+o);break;case"className":wn(t,"class",o);break;case"tabIndex":wn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){wn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ga(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ga(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ti);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),fa(t,"popover",o);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=bu.get(a)||a,fa(t,a,o))}}function Id(t,n,a,o,h,f){switch(a){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?pn(t,o):(typeof o=="number"||typeof o=="bigint")&&pn(t,""+o);break;case"onScroll":o!=null&&Pe("scroll",t);break;case"onScrollEnd":o!=null&&Pe("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):fa(t,a,o)}}}function en(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,f,_,a,null)}}h&&lt(t,n,"srcSet",a.srcSet,a,null),o&&lt(t,n,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=f=_=h=null,N=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":_=G;break;case"checked":N=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:lt(t,n,o,G,a,null)}}vu(t,f,T,N,z,_,h,!1);return;case"select":Pe("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:lt(t,n,h,T,a,null)}n=f,a=_,t.multiple=!!o,n!=null?Ss(t,!!o,n,!1):a!=null&&Ss(t,!!o,a,!0);return;case"textarea":Pe("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:lt(t,n,_,T,a,null)}As(t,o,h,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(o=a[N],o!=null)&&(N==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":lt(t,n,N,o,a,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(o=0;o<ml.length;o++)Pe(ml[o],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,z,o,a,null)}return;default:if(ma(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&Id(t,n,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&lt(t,n,T,o,a,null))}function CS(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,T=null,N=null,z=null,G=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=J;default:o.hasOwnProperty(F)||lt(t,n,F,null,o,J)}}for(var B in o){var F=o[B];if(J=a[B],o.hasOwnProperty(B)&&(F!=null||J!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":G=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==J&&lt(t,n,B,F,o,J)}}da(t,_,T,N,z,G,f,h);return;case"select":F=_=T=B=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":_=f;default:f!==N&&lt(t,n,h,f,o,N)}n=T,a=_,o=F,B!=null?Ss(t,!!a,B,!1):!!o!=!!a&&(n!=null?Ss(t,!!a,n,!0):Ss(t,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:lt(t,n,T,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&lt(t,n,_,h,o,f)}Eu(t,B,F);return;case"option":for(var he in a)B=a[he],a.hasOwnProperty(he)&&B!=null&&!o.hasOwnProperty(he)&&(he==="selected"?t.selected=!1:lt(t,n,he,null,o,B));for(N in o)B=o[N],F=a[N],o.hasOwnProperty(N)&&B!==F&&(B!=null||F!=null)&&(N==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":lt(t,n,N,B,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)B=a[Te],a.hasOwnProperty(Te)&&B!=null&&!o.hasOwnProperty(Te)&&lt(t,n,Te,null,o,B);for(z in o)if(B=o[z],F=a[z],o.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:lt(t,n,z,B,o,F)}return;default:if(ma(n)){for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!==void 0&&!o.hasOwnProperty(ut)&&Id(t,n,ut,void 0,o,B);for(G in o)B=o[G],F=a[G],!o.hasOwnProperty(G)||B===F||B===void 0&&F===void 0||Id(t,n,G,B,o,F);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!o.hasOwnProperty(P)&&lt(t,n,P,null,o,B);for(J in o)B=o[J],F=a[J],!o.hasOwnProperty(J)||B===F||B==null&&F==null||lt(t,n,J,B,o,F)}function T_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,T=h.duration;if(f&&T&&T_(_)){for(_=0,T=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],z=N.startTime;if(z>T)break;var G=N.transferSize,J=N.initiatorType;G&&T_(J)&&(N=N.responseEnd,_+=G*(N<T?1:(T-z)/(N-z)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Cd=null,Nd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function b_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function S_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Dd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Od=null;function DS(){var t=window.event;return t&&t.type==="popstate"?t===Od?!1:(Od=t,!0):(Od=null,!1)}var A_=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,w_=typeof Promise=="function"?Promise:void 0,VS=typeof queueMicrotask=="function"?queueMicrotask:typeof w_<"u"?function(t){return w_.resolve(null).then(t).catch(MS)}:A_;function MS(t){setTimeout(function(){throw t})}function Ks(t){return t==="head"}function R_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Xa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,pl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,T=f.nodeName;f[_i]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&pl(t.ownerDocument.body);a=h}while(a);Xa(n)}function x_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vd(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function kS(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[_i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function PS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function I_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qn(t.nextSibling),t===null))return null;return t}function Md(t){return t.data==="$?"||t.data==="$~"}function kd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jS(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Pd=null;function C_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Qn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function N_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function D_(t,n,a){switch(n=Sc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ha(t)}var Kn=new Map,O_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ls=re.d;re.d={f:LS,r:US,D:zS,C:BS,L:qS,m:HS,X:GS,S:FS,M:QS};function LS(){var t=ls.f(),n=gc();return t||n}function US(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?Xp(n):ls.r(t)}var Qa=typeof document>"u"?null:document;function V_(t,n,a){var o=Qa;if(o&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),O_.has(h)||(O_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),en(n,"link",t),Ot(n),o.head.appendChild(n)))}}function zS(t){ls.D(t),V_("dns-prefetch",t,null)}function BS(t,n){ls.C(t,n),V_("preconnect",t,n)}function qS(t,n,a){ls.L(t,n,a);var o=Qa;if(o&&t&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gn(a.imageSizes)+'"]')):h+='[href="'+gn(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Ya(t)}Kn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Kn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(yl(f))||n==="script"&&o.querySelector(_l(f))||(n=o.createElement("link"),en(n,"link",t),Ot(n),o.head.appendChild(n)))}}function HS(t,n){ls.m(t,n);var a=Qa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(o)+'"][href="'+gn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!Kn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Kn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(f)))return}o=a.createElement("link"),en(o,"link",t),Ot(o),a.head.appendChild(o)}}}function FS(t,n,a){ls.S(t,n,a);var o=Qa;if(o&&t){var h=Ei(o).hoistableStyles,f=Ka(t);n=n||"default";var _=h.get(f);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(yl(f)))T.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Kn.get(f))&&jd(t,a);var N=_=o.createElement("link");Ot(N),en(N,"link",t),N._p=new Promise(function(z,G){N.onload=z,N.onerror=G}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,wc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(f,_)}}}function GS(t,n){ls.X(t,n);var a=Qa;if(a&&t){var o=Ei(a).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(t=A({src:t,async:!0},n),(n=Kn.get(h))&&Ld(t,n),f=a.createElement("script"),Ot(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function QS(t,n){ls.M(t,n);var a=Qa;if(a&&t){var o=Ei(a).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Kn.get(h))&&Ld(t,n),f=a.createElement("script"),Ot(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function M_(t,n,a,o){var h=(h=Ee.current)?Ac(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ka(a.href),a=Ei(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var f=Ei(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(yl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Kn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(t,a),f||KS(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(a),a=Ei(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ka(t){return'href="'+gn(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function k_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function KS(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),en(n,"link",a),Ot(n),t.head.appendChild(n))}function Ya(t){return'[src="'+gn(t)+'"]'}function _l(t){return"script[async]"+t}function P_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+gn(a.href)+'"]');if(o)return n.instance=o,Ot(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),en(o,"style",h),wc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ka(a.href);var f=t.querySelector(yl(h));if(f)return n.state.loading|=4,n.instance=f,Ot(f),f;o=k_(a),(h=Kn.get(h))&&jd(o,h),f=(t.ownerDocument||t).createElement("link"),Ot(f);var _=f;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),en(f,"link",o),n.state.loading|=4,wc(f,a.precedence,t),n.instance=f;case"script":return f=Ya(a.src),(h=t.querySelector(_l(f)))?(n.instance=h,Ot(h),h):(o=a,(h=Kn.get(f))&&(o=A({},a),Ld(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),en(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,wc(o,a.precedence,t));return n.instance}function wc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function jd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ld(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Rc=null;function j_(t,n,a){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(a,o)}else h=Rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[_i]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var T=o.get(_);T?T.push(f):o.set(_,[f])}}return o}function L_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function YS(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function U_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function XS(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(o.href),f=n.querySelector(yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=xc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ot(f);return}f=n.ownerDocument||n,o=k_(o),(h=Kn.get(h))&&jd(o,h),f=f.createElement("link"),Ot(f);var _=f;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),en(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=xc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ud=0;function $S(t,n){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ud===0&&(Ud=62500*NS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ud?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,n.forEach(JS,t),Ic=null,xc.call(t))}function JS(t,n){if(!(n.state.loading&4)){var a=Ic.get(t);if(a)var o=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=xc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var vl={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function ZS(t,n,a,o,h,f,_,T,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function z_(t,n,a,o,h,f,_,T,N,z,G,J){return t=new ZS(t,n,a,_,N,z,G,J,T),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),t.current=f,f.stateNode=t,n=_f(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},bf(f),t}function B_(t){return t?(t=wa,t):wa}function q_(t,n,a,o,h,f){h=B_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ps(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=js(t,o,n),a!==null&&(Tn(a,t,n),Jo(a,t,n))}function H_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function zd(t,n){H_(t,n),(t=t.alternate)&&H_(t,n)}function F_(t){if(t.tag===13||t.tag===31){var n=Lr(t,67108864);n!==null&&Tn(n,t,67108864),zd(t,67108864)}}function G_(t){if(t.tag===13||t.tag===31){var n=On();n=Rr(n);var a=Lr(t,n);a!==null&&Tn(a,t,n),zd(t,n)}}var Nc=!0;function WS(t,n,a,o){var h=H.T;H.T=null;var f=re.p;try{re.p=2,Bd(t,n,a,o)}finally{re.p=f,H.T=h}}function eA(t,n,a,o){var h=H.T;H.T=null;var f=re.p;try{re.p=8,Bd(t,n,a,o)}finally{re.p=f,H.T=h}}function Bd(t,n,a,o){if(Nc){var h=qd(o);if(h===null)xd(t,n,o,Dc,a),K_(t,o);else if(nA(h,t,n,a,o))o.stopPropagation();else if(K_(t,o),n&4&&-1<tA.indexOf(t)){for(;h!==null;){var f=Pn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=mi(f.pendingLanes);if(_!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-bt(_);T.entanglements[1]|=N,_&=~N}Vi(f),(We&6)===0&&(dc=hn()+500,dl(0))}}break;case 31:case 13:T=Lr(f,2),T!==null&&Tn(T,f,2),gc(),zd(f,2)}if(f=qd(o),f===null&&xd(t,n,o,Dc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else xd(t,n,o,null,a)}}function qd(t){return t=jn(t),Hd(t)}var Dc=null;function Hd(t){if(Dc=null,t=vi(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function Q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case bo:return 2;case So:return 8;case Ts:case Yh:return 32;case uu:return 268435456;default:return 32}default:return 32}}var Fd=!1,Ys=null,Xs=null,$s=null,El=new Map,Tl=new Map,Js=[],tA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(t,n){switch(t){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(n.pointerId)}}function bl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Pn(n),n!==null&&F_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function nA(t,n,a,o,h){switch(n){case"focusin":return Ys=bl(Ys,t,n,a,o,h),!0;case"dragenter":return Xs=bl(Xs,t,n,a,o,h),!0;case"mouseover":return $s=bl($s,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,bl(El.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,bl(Tl.get(f)||null,t,n,a,o,h)),!0}return!1}function Y_(t){var n=vi(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Wn(t.priority,function(){G_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Wn(t.priority,function(){G_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=qd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);ko=o,a.target.dispatchEvent(o),ko=null}else return n=Pn(a),n!==null&&F_(n),t.blockedOn=a,!1;n.shift()}return!0}function X_(t,n,a){Oc(t)&&a.delete(n)}function iA(){Fd=!1,Ys!==null&&Oc(Ys)&&(Ys=null),Xs!==null&&Oc(Xs)&&(Xs=null),$s!==null&&Oc($s)&&($s=null),El.forEach(X_),Tl.forEach(X_)}function Vc(t,n){t.blockedOn===n&&(t.blockedOn=null,Fd||(Fd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,iA)))}var Mc=null;function $_(t){Mc!==t&&(Mc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Hd(o||a)===null)continue;break}var f=Pn(a);f!==null&&(t.splice(n,3),n-=3,qf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Xa(t){function n(N){return Vc(N,t)}Ys!==null&&Vc(Ys,t),Xs!==null&&Vc(Xs,t),$s!==null&&Vc($s,t),El.forEach(n),Tl.forEach(n);for(var a=0;a<Js.length;a++){var o=Js[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)Y_(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Gt]||null;if(typeof f=="function")_||$_(a);else if(_){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Gt]||null)T=_.formAction;else if(Hd(h)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),$_(a)}}}function J_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Gd(t){this._internalRoot=t}kc.prototype.render=Gd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=On();q_(a,o,t,n,null,null)},kc.prototype.unmount=Gd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;q_(t.current,2,null,t,null,null),gc(),n[yi]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=gu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Js.length&&n!==0&&n<Js[a].priority;a++);Js.splice(a,0,t),a===0&&Y_(t)}};var Z_=e.version;if(Z_!=="19.2.3")throw Error(r(527,Z_,"19.2.3"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var sA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Jn=Pc.inject(sA),Xt=Pc}catch{}}return Al.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=ry,f=ay,_=oy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=z_(t,1,!1,null,null,a,o,null,h,f,_,J_),t[yi]=n.current,Rd(t),new Gd(n)},Al.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=ry,_=ay,T=oy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=z_(t,1,!0,n,a??null,o,h,N,f,_,T,J_),n.context=B_(null),a=n.current,o=On(),o=Rr(o),h=Ps(o),h.callback=null,js(a,h,o),a=o,n.current.lanes=a,Ar(n,a),Vi(n),t[yi]=n.current,Rd(t),new kc(n)},Al.version="19.2.3",Al}var lv;function pA(){if(lv)return Yd.exports;lv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Yd.exports=gA(),Yd.exports}var yA=pA();const _A=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),uv=s=>{const e=vA(s);return e.charAt(0).toUpperCase()+e.slice(1)},H0=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),EA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var TA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const bA=de.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...g},y)=>de.createElement("svg",{ref:y,...TA,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:H0("lucide",l),...!u&&!EA(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,b])=>de.createElement(p,b)),...Array.isArray(u)?u:[u]]));const Bt=(s,e)=>{const i=de.forwardRef(({className:r,...l},u)=>de.createElement(bA,{ref:u,iconNode:e,className:H0(`lucide-${_A(uv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=uv(s),i};const SA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],F0=Bt("database",SA);const AA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wA=Bt("eye",AA);const RA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fm=Bt("loader-circle",RA);const xA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jl=Bt("lock",xA);const IA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CA=Bt("log-out",IA);const NA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ll=Bt("mail",NA);const DA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],OA=Bt("map-pin",DA);const VA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],MA=Bt("pen",VA);const kA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],PA=Bt("phone",kA);const jA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cv=Bt("plus",jA);const LA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],G0=Bt("printer",LA);const UA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zA=Bt("rotate-ccw",UA);const BA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qA=Bt("save",BA);const HA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],FA=Bt("search",HA);const GA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QA=Bt("settings",GA);const KA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],YA=Bt("shield",KA);const XA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$A=Bt("trash-2",XA);const JA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Q0=Bt("user",JA);const ZA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],K0=Bt("users",ZA);const WA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xl=Bt("x",WA);var Fc={exports:{}},e1=Fc.exports,hv;function t1(){return hv||(hv=1,(function(s,e){(function(i,r){s.exports=r(Th())})(typeof self<"u"?self:e1,function(i){return(function(){var r={155:function(Y){Y.exports=i}},l={};function u(Y){var te=l[Y];if(te!==void 0)return te.exports;var ce=l[Y]={exports:{}};return r[Y](ce,ce.exports,u),ce.exports}u.d=function(Y,te){for(var ce in te)u.o(te,ce)&&!u.o(Y,ce)&&Object.defineProperty(Y,ce,{enumerable:!0,get:te[ce]})},u.o=function(Y,te){return Object.prototype.hasOwnProperty.call(Y,te)},u.r=function(Y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})};var d={};u.r(d),u.d(d,{useReactToPrint:function(){return pe}});var g=u(155);const y="printWindow";function p({level:Y="error",messages:te,suppressErrors:ce=!1}){ce||(Y==="error"?console.error(te):Y==="warning"?console.warn(te):console.debug(te))}function b(Y,te){if(te||!Y){const ce=document.getElementById(y);ce&&document.body.removeChild(ce)}}function A(Y){return Y instanceof Error?Y:new Error("Unknown Error")}function I(Y,te){const{documentTitle:ce,onAfterPrint:ue,onPrintError:ye,preserveAfterPrint:C,print:w,suppressErrors:R}=te;setTimeout(()=>{var V,D;if(Y.contentWindow){let x=function(){ue?.(),b(C)};var k=x;if(Y.contentWindow.focus(),w)w(Y).then(x).catch(Ve=>{ye?ye("print",A(Ve)):p({messages:["An error was thrown by the specified `print` function"],suppressErrors:R})});else{if(Y.contentWindow.print){const Ve=(D=(V=Y.contentDocument)===null||V===void 0?void 0:V.title)!==null&&D!==void 0?D:"",Xe=Y.ownerDocument.title;ce&&(Y.ownerDocument.title=ce,Y.contentDocument&&(Y.contentDocument.title=ce)),Y.contentWindow.print(),ce&&(Y.ownerDocument.title=Xe,Y.contentDocument&&(Y.contentDocument.title=Ve))}else p({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:R});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(Ve=>{var Xe,H;return((H=(Xe=navigator.userAgent)!==null&&Xe!==void 0?Xe:navigator.vendor)!==null&&H!==void 0?H:"opera"in window&&window.opera).match(Ve)})?setTimeout(x,500):x()}}else p({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:R})},500)}function U(Y){const te=[],ce=document.createTreeWalker(Y,NodeFilter.SHOW_ELEMENT,null);let ue=ce.nextNode();for(;ue;)te.push(ue),ue=ce.nextNode();return te}function K(Y,te,ce){const ue=U(Y),ye=U(te);if(ue.length===ye.length)for(let C=0;C<ue.length;C++){const w=ue[C],R=ye[C],V=w.shadowRoot;if(V!==null){const D=R.attachShadow({mode:V.mode});D.innerHTML=V.innerHTML,K(V,D,ce)}}else p({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",Y,te],suppressErrors:ce})}const ee=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function W(Y,te,ce,ue){var ye,C,w,R,V;const{contentNode:D,clonedContentNode:k,clonedImgNodes:x,clonedVideoNodes:Ve,numResourcesToLoad:Xe,originalCanvasNodes:H}=ce,{bodyClass:re,fonts:me,ignoreGlobalStyles:Me,pageStyle:De,nonce:O,suppressErrors:Q,copyShadowRoots:ie}=ue;Y.onload=null;const ne=(ye=Y.contentDocument)!==null&&ye!==void 0?ye:(C=Y.contentWindow)===null||C===void 0?void 0:C.document;if(ne){const oe=ne.body.appendChild(k);ie&&K(D,oe,!!Q),me&&(!((w=Y.contentDocument)===null||w===void 0)&&w.fonts&&(!((R=Y.contentWindow)===null||R===void 0)&&R.FontFace)?me.forEach(Le=>{const be=new FontFace(Le.family,Le.source,{weight:Le.weight,style:Le.style});Y.contentDocument.fonts.add(be),be.loaded.then(()=>{te(be)}).catch(ct=>{te(be,["Failed loading the font:",be,"Load error:",A(ct)])})}):(me.forEach(Le=>{te(Le)}),p({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:Q})));const Ee=De??ee,we=ne.createElement("style");O&&(we.setAttribute("nonce",O),ne.head.setAttribute("nonce",O)),we.appendChild(ne.createTextNode(Ee)),ne.head.appendChild(we),re&&ne.body.classList.add(...re.split(" "));const fe=ne.querySelectorAll("canvas");for(let Le=0;Le<H.length;++Le){const be=H[Le],ct=fe[Le];if(ct===void 0){p({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",be],suppressErrors:Q});continue}const Ke=ct.getContext("2d");Ke&&Ke.drawImage(be,0,0)}for(let Le=0;Le<x.length;Le++){const be=x[Le],ct=be.getAttribute("src");if(ct){const Ke=new Image;Ke.onload=()=>{te(be)},Ke.onerror=(rt,vt,rn,Ye,tt)=>{te(be,["Error loading <img>",be,"Error",tt])},Ke.src=ct}else te(be,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',be])}for(let Le=0;Le<Ve.length;Le++){const be=Ve[Le];be.preload="auto";const ct=be.getAttribute("poster");if(ct){const Ke=new Image;Ke.onload=()=>{te(be)},Ke.onerror=(rt,vt,rn,Ye,tt)=>{te(be,["Error loading video poster",ct,"for video",be,"Error:",tt])},Ke.src=ct}else be.readyState>=2?te(be):be.src?(be.onloadeddata=()=>{te(be)},be.onerror=(Ke,rt,vt,rn,Ye)=>{te(be,["Error loading video",be,"Error",Ye])},be.onstalled=()=>{te(be,["Loading video stalled, skipping",be])}):te(be,["Error loading video, `src` is empty",be])}const je="select",Qe=D.querySelectorAll(je),Ct=ne.querySelectorAll(je);for(let Le=0;Le<Qe.length;Le++)Ct[Le].value=Qe[Le].value;if(!Me){const Le=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let be=0,ct=Le.length;be<ct;++be){const Ke=Le[be];if(Ke.tagName.toLowerCase()==="style"){const rt=ne.createElement(Ke.tagName),vt=Ke.sheet;if(vt){let rn="";try{const Ye=vt.cssRules.length;for(let tt=0;tt<Ye;++tt)typeof vt.cssRules[tt].cssText=="string"&&(rn+=`${vt.cssRules[tt].cssText}\r
`)}catch(Ye){p({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Ke,`Original error: ${A(Ye).message}`],level:"warning"})}rt.setAttribute("id",`react-to-print-${be}`),O&&rt.setAttribute("nonce",O),rt.appendChild(ne.createTextNode(rn)),ne.head.appendChild(rt)}}else if(Ke.getAttribute("href"))if(Ke.hasAttribute("disabled"))p({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Ke],level:"warning"}),te(Ke);else{const rt=ne.createElement(Ke.tagName);for(let vt=0,rn=Ke.attributes.length;vt<rn;++vt){const Ye=Ke.attributes[vt];Ye&&rt.setAttribute(Ye.nodeName,(V=Ye.nodeValue)!==null&&V!==void 0?V:"")}rt.onload=()=>{te(rt)},rt.onerror=(vt,rn,Ye,tt,fi)=>{te(rt,["Failed to load",rt,"Error:",fi])},O&&rt.setAttribute("nonce",O),ne.head.appendChild(rt)}else p({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Ke],level:"warning"}),te(Ke)}}}Xe===0&&I(Y,ue)}function pe({bodyClass:Y,contentRef:te,copyShadowRoots:ce,documentTitle:ue,fonts:ye,ignoreGlobalStyles:C,nonce:w,onAfterPrint:R,onBeforePrint:V,onPrintError:D,pageStyle:k,preserveAfterPrint:x,print:Ve,printIframeProps:Xe,suppressErrors:H}){return(0,g.useCallback)(me=>{function Me(){const De={bodyClass:Y,contentRef:te,copyShadowRoots:ce,documentTitle:ue,fonts:ye,ignoreGlobalStyles:C,nonce:w,onAfterPrint:R,onPrintError:D,pageStyle:k,preserveAfterPrint:x,print:Ve,suppressErrors:H},O=(function(ne){const oe=document.createElement("iframe");return oe.width=`${document.documentElement.clientWidth}px`,oe.height=`${document.documentElement.clientHeight}px`,oe.style.position="absolute",oe.style.top=`-${document.documentElement.clientHeight+100}px`,oe.style.left=`-${document.documentElement.clientWidth+100}px`,oe.id=y,oe.srcdoc="<!DOCTYPE html>",ne&&(ne.allow&&(oe.allow=ne.allow),ne.referrerPolicy!==void 0&&(oe.referrerPolicy=ne.referrerPolicy),ne.sandbox!==void 0&&(oe.sandbox=ne.sandbox)),oe})(Xe),Q=(function(ne,oe){const{contentRef:Ee,fonts:we,ignoreGlobalStyles:fe,suppressErrors:je}=oe,Qe=(function({contentRef:rt,optionalContent:vt,suppressErrors:rn}){return vt&&typeof vt=="function"?(rt&&p({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),vt()):rt?rt.current:void p({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:rn})})({contentRef:Ee,optionalContent:ne,suppressErrors:je});if(!Qe)return;const Ct=Qe.cloneNode(!0),Le=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),be=Ct.querySelectorAll("img"),ct=Ct.querySelectorAll("video"),Ke=we?we.length:0;return{contentNode:Qe,clonedContentNode:Ct,clonedImgNodes:be,clonedVideoNodes:ct,numResourcesToLoad:(fe?0:Le.length)+be.length+ct.length+Ke,originalCanvasNodes:Qe.querySelectorAll("canvas")}})(me,De);if(!Q)return void p({messages:["There is nothing to print"],suppressErrors:H});const ie=(function(ne,oe,Ee){const{suppressErrors:we}=ne,fe=[],je=[];return function(Qe,Ct){fe.includes(Qe)?p({level:"debug",messages:["Tried to mark a resource that has already been handled",Qe],suppressErrors:we}):(Ct?(p({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...Ct],suppressErrors:we}),je.push(Qe)):fe.push(Qe),fe.length+je.length===oe&&I(Ee,ne))}})(De,Q.numResourcesToLoad,O);(function(ne,oe,Ee,we){ne.onload=()=>{W(ne,oe,Ee,we)},document.body.appendChild(ne)})(O,ie,Q,De)}b(x,!0),V?V().then(()=>{Me()}).catch(De=>{D?.("onBeforePrint",A(De))}):Me()},[Y,te,ce,ue,ye,C,w,R,V,D,k,x,Ve,H])}return d})()})})(Fc)),Fc.exports}var n1=t1();function i1({isDemo:s,onSetupClick:e}){return s?E.jsx("div",{className:"bg-indigo-50 border-b border-indigo-100 p-4",children:E.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-100 rounded-full text-indigo-600",children:E.jsx(F0,{size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-indigo-900",children:"Demo Mode Active"}),E.jsx("p",{className:"text-sm text-indigo-700",children:"Data is saved to your browser (Local Storage). Connect Firebase to save to the cloud."})]})]}),E.jsx("button",{onClick:e,className:"hidden sm:inline-flex items-center gap-2 text-sm font-medium text-indigo-600 hover:text-indigo-800 underline decoration-indigo-300 underline-offset-2",children:"Setup Firebase "})]})}):null}const bh="/address-book/assets/logo-B5OdyF-r.png";function s1({children:s,isDemo:e,onLogout:i,onSetupClick:r,onUserManagementClick:l,isAdmin:u}){return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[E.jsx(i1,{isDemo:e,onSetupClick:r}),E.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("img",{src:bh,alt:"Logo",className:"w-10 h-10 rounded-lg object-cover"}),E.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Address Label Printer"})]}),i&&E.jsxs("div",{className:"flex items-center gap-2",children:[u&&E.jsxs("button",{onClick:l,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",title:"Manage Users",children:[E.jsx(K0,{className:"h-5 w-5 mr-2 text-blue-600"}),"Users"]}),E.jsxs("button",{onClick:i,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:[E.jsx(CA,{className:"h-5 w-5 mr-2"}),"Sign out"]})]})]})}),E.jsx("main",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:s}),E.jsx("footer",{className:"bg-white border-t border-gray-200 py-6 mt-auto",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-sm text-gray-500",children:E.jsxs("p",{children:[" ",new Date().getFullYear()," Address Label Printer. Built with React & Firebase."]})})})]})}function Y0(s){if(!s)return null;const e=s.split(",");return E.jsx(E.Fragment,{children:e.map((i,r)=>{const l=r===e.length-1,u=i.trim();return!u&&!l?E.jsx("br",{},r):E.jsxs("span",{className:"block",children:[u,!l&&","]},r)})})}function r1({contact:s,onDelete:e,onEdit:i,canEdit:r,canDelete:l,onSelect:u,isSelected:d}){return E.jsxs("div",{className:`bg-white rounded-xl shadow-sm border hover:shadow-md transition-all duration-200 overflow-hidden group relative ${d?"border-blue-500 ring-1 ring-blue-500 bg-blue-50/10":"border-gray-100"}`,children:[E.jsx("div",{className:"absolute top-4 right-4 z-10",children:E.jsx("input",{type:"checkbox",checked:d||!1,onChange:g=>u(s.id,g.target.checked),className:"h-5 w-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500 cursor-pointer"})}),E.jsxs("div",{className:"p-5",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-50 overflow-hidden flex items-center justify-center border border-blue-100",children:E.jsx(Q0,{size:24,className:"text-blue-400"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:s.name}),E.jsxs("p",{className:"text-xs text-gray-500",children:["Added ",new Date(s.created_at).toLocaleDateString()]})]})]}),E.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity mr-8",children:[r&&E.jsx("button",{onClick:()=>i(s),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:E.jsx(MA,{size:16})}),l&&E.jsx("button",{onClick:()=>e(s.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:E.jsx($A,{size:16})})]})]}),E.jsxs("div",{className:"mt-6 space-y-3",children:[E.jsxs("div",{className:"flex items-center gap-3 text-gray-600 text-sm",children:[E.jsx(PA,{size:16,className:"text-gray-400"}),E.jsx("a",{href:`tel:${s.phone}`,className:"hover:text-blue-600",children:s.phone})]}),E.jsxs("div",{className:"flex items-start gap-3 text-gray-600 text-sm",children:[E.jsx(OA,{size:16,className:"text-gray-400 mt-1 shrink-0"}),E.jsxs("div",{children:[Y0(s.address),E.jsx("span",{children:[s.city,s.state,s.pincode,s.country].filter(Boolean).join(", ")})]})]})]})]})]})}function a1({isOpen:s,onClose:e,onSubmit:i,initialData:r=null}){const[l,u]=de.useState({name:"",phone:"",address:"",city:"",state:"",country:"",pincode:""}),[d,g]=de.useState(!1);if(de.useEffect(()=>{u(r?{name:r.name||"",phone:r.phone||"",address:r.address||"",city:r.city||"",state:r.state||"",country:r.country||"",pincode:r.pincode||"",...r}:{name:"",phone:"",address:"",city:"",state:"",country:"",pincode:""})},[r,s]),!s)return null;async function y(p){p.preventDefault(),g(!0);try{await i(l),e()}catch(b){console.error(b),alert(`Failed to save contact: ${b.message||"Unknown error"}`)}finally{g(!1)}}return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50/50",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Edit Contact":"New Contact"}),E.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:E.jsx(Xl,{size:20})})]}),E.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),E.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.name,onChange:p=>u({...l,name:p.target.value}),placeholder:"e.g. John Doe"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),E.jsx("input",{type:"tel",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.phone,onChange:p=>u({...l,phone:p.target.value}),placeholder:"+1 (555) 000-0000"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),E.jsx("textarea",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all resize-none",rows:"2",value:l.address,onChange:p=>u({...l,address:p.target.value}),placeholder:"Street address"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.city,onChange:p=>u({...l,city:p.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.state,onChange:p=>u({...l,state:p.target.value})})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.country,onChange:p=>u({...l,country:p.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pin Code"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.pincode,onChange:p=>u({...l,pincode:p.target.value})})]})]})]}),E.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 mt-6",children:[E.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200",children:"Cancel"}),E.jsxs("button",{type:"submit",disabled:d,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[d&&E.jsx(fm,{className:"animate-spin mr-2",size:16}),r?"Save Changes":"Add Contact"]})]})]})]})})}const zm=cA.forwardRef(({contacts:s,pageSize:e="A5",orientation:i="landscape"},r)=>E.jsxs("div",{ref:r,className:"p-8 bg-white",children:[E.jsx("style",{type:"text/css",media:"print",children:`
                    @page {
                        size: ${e} ${i};
                        margin: 0;
                    }
                    body {
                        -webkit-print-color-adjust: exact;
                    }
                `}),s.map(l=>E.jsx("div",{className:"mb-8 border-2 border-gray-800 p-8 rounded-xl break-inside-avoid page-break-after-always",style:{pageBreakAfter:"always",width:"100%",height:"100%"},children:E.jsxs("div",{className:"flex flex-col gap-2 text-gray-900 font-sans",children:[E.jsx("h1",{className:"text-3xl font-bold mb-4 uppercase tracking-wide border-b-2 border-gray-800 pb-2",children:l.name}),E.jsxs("div",{className:"text-xl leading-relaxed space-y-1",children:[E.jsx("div",{className:"font-medium",children:Y0(l.address)}),E.jsxs("p",{children:[l.city,", ",l.state]}),E.jsxs("p",{children:[l.country," - ",E.jsx("span",{className:"font-bold",children:l.pincode})]})]}),E.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300",children:E.jsxs("p",{className:"text-lg font-mono",children:[E.jsx("span",{className:"font-bold mr-2",children:"PH:"}),l.phone]})})]})},l.id))]}));zm.displayName="PrintableLabel";const o1=()=>{};var fv={};const X0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},l1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},$0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,p=y?s[l+2]:0,b=u>>2,A=(u&3)<<4|g>>4;let I=(g&15)<<2|p>>6,U=p&63;y||(U=64,d||(I=64)),r.push(i[b],i[A],i[I],i[U])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(X0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):l1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const p=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||g==null||p==null||A==null)throw new u1;const I=u<<2|g>>4;if(r.push(I),p!==64){const U=g<<4&240|p>>2;if(r.push(U),A!==64){const K=p<<6&192|A;r.push(K)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class u1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(s){const e=X0(s);return $0.encodeByteArray(e,!0)},th=function(s){return c1(s).replace(/\./g,"")},J0=function(s){try{return $0.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const f1=()=>h1().__FIREBASE_DEFAULTS__,d1=()=>{if(typeof process>"u"||typeof fv>"u")return;const s=fv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},m1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&J0(s[1]);return e&&JSON.parse(e)},Sh=()=>{try{return o1()||f1()||d1()||m1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Z0=s=>Sh()?.emulatorHosts?.[s],g1=s=>{const e=Z0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},W0=()=>Sh()?.config,eE=s=>Sh()?.[`_${s}`];class p1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tE(s){return(await fetch(s,{credentials:"include"})).ok}function y1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[th(JSON.stringify(i)),th(JSON.stringify(d)),""].join(".")}const Dl={};function _1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?s.emulator.push(e):s.prod.push(e);return s}function v1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let dv=!1;function nE(s,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Dl[s]===e||Dl[s]||dv)return;Dl[s]=e;function i(I){return`__firebase__banner__${I}`}const r="__firebase__banner",u=_1().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,U){I.setAttribute("width","24"),I.setAttribute("id",U),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function p(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{dv=!0,d()},I}function b(I,U){I.setAttribute("id",U),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=v1(r),U=i("text"),K=document.getElementById(U)||document.createElement("span"),ee=i("learnmore"),W=document.getElementById(ee)||document.createElement("a"),pe=i("preprendIcon"),Y=document.getElementById(pe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const te=I.element;g(te),b(W,ee);const ce=p();y(Y,pe),te.append(Y,K,W,ce),document.body.appendChild(te)}u?(K.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function T1(){const s=Sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function A1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w1(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function R1(){return!T1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x1(){try{return typeof indexedDB=="object"}catch{return!1}}function I1(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const C1="FirebaseError";class ys extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=C1,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?N1(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ys(l,g,r)}}function N1(s,e){return s.replace(D1,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const D1=/\{\$([^}]+)}/g;function O1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ta(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(mv(u)&&mv(d)){if(!ta(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function mv(s){return s!==null&&typeof s=="object"}function Jl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Rl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function V1(s,e){const i=new M1(s,e);return i.subscribe.bind(i)}class M1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");k1(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Zd),l.error===void 0&&(l.error=Zd),l.complete===void 0&&(l.complete=Zd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k1(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Zd(){}function Ft(s){return s&&s._delegate?s._delegate:s}class na{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jr="[DEFAULT]";class P1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new p1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L1(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j1(s){return s===Jr?void 0:s}function L1(s){return s.instantiationMode==="EAGER"}class U1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new P1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const z1={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},B1=Be.INFO,q1={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},H1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=q1[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=B1,this._logHandler=H1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const F1=(s,e)=>e.some(i=>s instanceof i);let gv,pv;function G1(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q1(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,dm=new WeakMap,sE=new WeakMap,Wd=new WeakMap,qm=new WeakMap;function K1(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(lr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&iE.set(i,s)}).catch(()=>{}),qm.set(e,s),e}function Y1(s){if(dm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});dm.set(s,e)}let mm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return dm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||sE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return lr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function X1(s){mm=s(mm)}function $1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(em(this),e,...i);return sE.set(r,e.sort?e.sort():[e]),lr(r)}:Q1().includes(s)?function(...e){return s.apply(em(this),e),lr(iE.get(this))}:function(...e){return lr(s.apply(em(this),e))}}function J1(s){return typeof s=="function"?$1(s):(s instanceof IDBTransaction&&Y1(s),F1(s,G1())?new Proxy(s,mm):s)}function lr(s){if(s instanceof IDBRequest)return K1(s);if(Wd.has(s))return Wd.get(s);const e=J1(s);return e!==s&&(Wd.set(s,e),qm.set(e,s)),e}const em=s=>qm.get(s);function Z1(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),g=lr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(lr(d.result),y.oldVersion,y.newVersion,lr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const W1=["get","getKey","getAll","getAllKeys","count"],ew=["put","add","delete","clear"],tm=new Map;function yv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=ew.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||W1.includes(i)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&y.done]))[0]};return tm.set(e,u),u}X1(s=>({...s,get:(e,i,r)=>yv(e,i)||s.get(e,i,r),has:(e,i)=>!!yv(e,i)||s.has(e,i)}));class tw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function nw(s){return s.getComponent()?.type==="VERSION"}const gm="@firebase/app",_v="0.14.6";const hs=new Bm("@firebase/app"),iw="@firebase/app-compat",sw="@firebase/analytics-compat",rw="@firebase/analytics",aw="@firebase/app-check-compat",ow="@firebase/app-check",lw="@firebase/auth",uw="@firebase/auth-compat",cw="@firebase/database",hw="@firebase/data-connect",fw="@firebase/database-compat",dw="@firebase/functions",mw="@firebase/functions-compat",gw="@firebase/installations",pw="@firebase/installations-compat",yw="@firebase/messaging",_w="@firebase/messaging-compat",vw="@firebase/performance",Ew="@firebase/performance-compat",Tw="@firebase/remote-config",bw="@firebase/remote-config-compat",Sw="@firebase/storage",Aw="@firebase/storage-compat",ww="@firebase/firestore",Rw="@firebase/ai",xw="@firebase/firestore-compat",Iw="firebase",Cw="12.6.0";const pm="[DEFAULT]",Nw={[gm]:"fire-core",[iw]:"fire-core-compat",[rw]:"fire-analytics",[sw]:"fire-analytics-compat",[ow]:"fire-app-check",[aw]:"fire-app-check-compat",[lw]:"fire-auth",[uw]:"fire-auth-compat",[cw]:"fire-rtdb",[hw]:"fire-data-connect",[fw]:"fire-rtdb-compat",[dw]:"fire-fn",[mw]:"fire-fn-compat",[gw]:"fire-iid",[pw]:"fire-iid-compat",[yw]:"fire-fcm",[_w]:"fire-fcm-compat",[vw]:"fire-perf",[Ew]:"fire-perf-compat",[Tw]:"fire-rc",[bw]:"fire-rc-compat",[Sw]:"fire-gcs",[Aw]:"fire-gcs-compat",[ww]:"fire-fst",[xw]:"fire-fst-compat",[Rw]:"fire-vertex","fire-js":"fire-js",[Iw]:"fire-js-all"};const nh=new Map,Dw=new Map,ym=new Map;function vv(s,e){try{s.container.addComponent(e)}catch(i){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ao(s){const e=s.name;if(ym.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;ym.set(e,s);for(const i of nh.values())vv(i,s);for(const i of Dw.values())vv(i,s);return!0}function Hm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Vn(s){return s==null?!1:s.settings!==void 0}const Ow={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new $l("app","Firebase",Ow);class Vw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const go=Cw;function rE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:pm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw ur.create("bad-app-name",{appName:String(l)});if(i||(i=W0()),!i)throw ur.create("no-options");const u=nh.get(l);if(u){if(ta(i,u.options)&&ta(r,u.config))return u;throw ur.create("duplicate-app",{appName:l})}const d=new U1(l);for(const y of ym.values())d.addComponent(y);const g=new Vw(i,r,d);return nh.set(l,g),g}function aE(s=pm){const e=nh.get(s);if(!e&&s===pm&&W0())return rE();if(!e)throw ur.create("no-app",{appName:s});return e}function cr(s,e,i){let r=Nw[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}ao(new na(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Mw="firebase-heartbeat-database",kw=1,Ul="firebase-heartbeat-store";let nm=null;function oE(){return nm||(nm=Z1(Mw,kw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),nm}async function Pw(s){try{const i=(await oE()).transaction(Ul),r=await i.objectStore(Ul).get(lE(s));return await i.done,r}catch(e){if(e instanceof ys)hs.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e?.message});hs.warn(i.message)}}}async function Ev(s,e){try{const r=(await oE()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(e,lE(s)),await r.done}catch(i){if(i instanceof ys)hs.warn(i.message);else{const r=ur.create("idb-set",{originalErrorMessage:i?.message});hs.warn(r.message)}}}function lE(s){return`${s.name}!${s.options.appId}`}const jw=1024,Lw=30;class Uw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Bw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>Lw){const l=qw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Tv(),{heartbeatsToSend:i,unsentEntries:r}=zw(this._heartbeatsCache.heartbeats),l=th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return hs.warn(e),""}}}function Tv(){return new Date().toISOString().substring(0,10)}function zw(s,e=jw){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),bv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),bv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Bw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x1()?I1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Pw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ev(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bv(s){return th(JSON.stringify({version:2,heartbeats:s})).length}function qw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Hw(s){ao(new na("platform-logger",e=>new tw(e),"PRIVATE")),ao(new na("heartbeat",e=>new Uw(e),"PRIVATE")),cr(gm,_v,s),cr(gm,_v,"esm2020"),cr("fire-js","")}Hw("");var Fw="firebase",Gw="12.7.0";cr(Fw,Gw,"app");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,uE;(function(){var s;function e(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(V,D,k){for(var x=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)x[Ve-2]=arguments[Ve];return w.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,R){R||(R=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],D=C.g[2];let k=C.g[3],x;x=w+(k^R&(D^k))+V[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(D^w&(R^D))+V[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(R^k&(w^R))+V[2]+606105819&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(w^D&(k^w))+V[3]+3250441966&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(k^R&(D^k))+V[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(D^w&(R^D))+V[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(R^k&(w^R))+V[6]+2821735955&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(w^D&(k^w))+V[7]+4249261313&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(k^R&(D^k))+V[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(D^w&(R^D))+V[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(R^k&(w^R))+V[10]+4294925233&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(w^D&(k^w))+V[11]+2304563134&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(k^R&(D^k))+V[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=k+(D^w&(R^D))+V[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=D+(R^k&(w^R))+V[14]+2792965006&4294967295,D=k+(x<<17&4294967295|x>>>15),x=R+(w^D&(k^w))+V[15]+1236535329&4294967295,R=D+(x<<22&4294967295|x>>>10),x=w+(D^k&(R^D))+V[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(w^R))+V[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(k^w))+V[11]+643717713&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(D^k))+V[0]+3921069994&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(R^D))+V[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(w^R))+V[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(k^w))+V[15]+3634488961&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(D^k))+V[4]+3889429448&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(R^D))+V[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(w^R))+V[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(k^w))+V[3]+4107603335&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(D^k))+V[8]+1163531501&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(D^k&(R^D))+V[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=k+(R^D&(w^R))+V[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=D+(w^R&(k^w))+V[7]+1735328473&4294967295,D=k+(x<<14&4294967295|x>>>18),x=R+(k^w&(D^k))+V[12]+2368359562&4294967295,R=D+(x<<20&4294967295|x>>>12),x=w+(R^D^k)+V[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^D)+V[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^R)+V[11]+1839030562&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^w)+V[14]+4259657740&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^k)+V[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^D)+V[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^R)+V[7]+4139469664&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^w)+V[10]+3200236656&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^k)+V[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^D)+V[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^R)+V[3]+3572445317&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^w)+V[6]+76029189&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(R^D^k)+V[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=k+(w^R^D)+V[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=D+(k^w^R)+V[15]+530742520&4294967295,D=k+(x<<16&4294967295|x>>>16),x=R+(D^k^w)+V[2]+3299628645&4294967295,R=D+(x<<23&4294967295|x>>>9),x=w+(D^(R|~k))+V[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~D))+V[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~R))+V[14]+2878612391&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~w))+V[5]+4237533241&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~k))+V[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~D))+V[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~R))+V[10]+4293915773&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~w))+V[1]+2240044497&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~k))+V[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~D))+V[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~R))+V[6]+2734768916&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~w))+V[13]+1309151649&4294967295,R=D+(x<<21&4294967295|x>>>11),x=w+(D^(R|~k))+V[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=k+(R^(w|~D))+V[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=D+(w^(k|~R))+V[2]+718787259&4294967295,D=k+(x<<15&4294967295|x>>>17),x=R+(k^(D|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+k&4294967295}r.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=R;)l(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<w;)if(V[D++]=C.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<w;)if(V[D++]=C[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)C[w++]=this.g[R]>>>V&255;return C};function u(C,w){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function d(C,w){this.h=w;const R=[];let V=!0;for(let D=C.length-1;D>=0;D--){const k=C[D]|0;V&&k==w||(R[D]=k,V=!1)}this.g=R}var g={};function y(C){return-128<=C&&C<128?u(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return A;if(C<0)return W(p(-C));const w=[];let R=1;for(let V=0;C>=R;V++)w[V]=C/R|0,R*=4294967296;return new d(w,0)}function b(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return W(b(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(w,8));let V=A;for(let k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k);const x=parseInt(C.substring(k,k+D),w);D<8?(D=p(Math.pow(w,D)),V=V.j(D).add(p(x))):(V=V.j(R),V=V.add(p(x)))}return V}var A=y(0),I=y(1),U=y(16777216);s=d.prototype,s.m=function(){if(ee(this))return-W(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(K(this))return"0";if(ee(this))return"-"+W(this).toString(C);const w=p(Math.pow(C,6));var R=this;let V="";for(;;){const D=ce(R,w).g;R=pe(R,D.j(w));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=D,K(R))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function K(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function ee(C){return C.h==-1}s.l=function(C){return C=pe(this,C),ee(C)?-1:K(C)?0:1};function W(C){const w=C.g.length,R=[];for(let V=0;V<w;V++)R[V]=~C.g[V];return new d(R,~C.h).add(I)}s.abs=function(){return ee(this)?W(this):this},s.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(C.i(D)&65535),x=(k>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=x>>>16,k&=65535,x&=65535,R[D]=x<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function pe(C,w){return C.add(W(w))}s.j=function(C){if(K(this)||K(C))return A;if(ee(this))return ee(C)?W(this).j(W(C)):W(W(this).j(C));if(ee(C))return W(this.j(W(C)));if(this.l(U)<0&&C.l(U)<0)return p(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var V=0;V<2*w;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const k=this.i(V)>>>16,x=this.i(V)&65535,Ve=C.i(D)>>>16,Xe=C.i(D)&65535;R[2*V+2*D]+=x*Xe,Y(R,2*V+2*D),R[2*V+2*D+1]+=k*Xe,Y(R,2*V+2*D+1),R[2*V+2*D+1]+=x*Ve,Y(R,2*V+2*D+1),R[2*V+2*D+2]+=k*Ve,Y(R,2*V+2*D+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new d(R,0)};function Y(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function te(C,w){this.g=C,this.h=w}function ce(C,w){if(K(w))throw Error("division by zero");if(K(C))return new te(A,A);if(ee(C))return w=ce(W(C),w),new te(W(w.g),W(w.h));if(ee(w))return w=ce(C,W(w)),new te(W(w.g),w.h);if(C.g.length>30){if(ee(C)||ee(w))throw Error("slowDivide_ only works with positive integers.");for(var R=I,V=w;V.l(C)<=0;)R=ue(R),V=ue(V);var D=ye(R,1),k=ye(V,1);for(V=ye(V,2),R=ye(R,2);!K(V);){var x=k.add(V);x.l(C)<=0&&(D=D.add(R),k=x),V=ye(V,1),R=ye(R,1)}return w=pe(C,D.j(w)),new te(D,w)}for(D=A;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=p(R),x=k.j(w);ee(x)||x.l(C)>0;)R-=V,k=p(R),x=k.j(w);K(k)&&(k=I),D=D.add(k),C=pe(C,x)}return new te(D,C)}s.B=function(C){return ce(this,C).h},s.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)&C.i(V);return new d(R,this.h&C.h)},s.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)|C.i(V);return new d(R,this.h|C.h)},s.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let V=0;V<w;V++)R[V]=this.i(V)^C.i(V);return new d(R,this.h^C.h)};function ue(C){const w=C.g.length+1,R=[];for(let V=0;V<w;V++)R[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(R,C.h)}function ye(C,w){const R=w>>5;w%=32;const V=C.g.length-R,D=[];for(let k=0;k<V;k++)D[k]=w>0?C.i(k+R)>>>w|C.i(k+R+1)<<32-w:C.i(k+R);return new d(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,uE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=b,hr=d}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cE,xl,hE,Gc,_m,fE,dE,mE;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function b(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,j,q){for(var se=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)se[Ce-2]=arguments[Ce];return m.prototype[j].apply(S,se)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function K(c,m){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const q=j.length||0;c.length=v+q;for(let se=0;se<q;se++)c[v+se]=j[se]}else c.push(j)}}class ee{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(c){d.setTimeout(()=>{throw c},0)}function pe(){var c=C;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class Y{constructor(){this.h=this.g=null}add(m,v){const S=te.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var te=new ee(()=>new ce,c=>c.reset());class ce{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ye=!1,C=new Y,w=()=>{const c=Promise.resolve(void 0);ue=()=>{c.then(R)}};function R(){for(var c;c=pe();){try{c.h.call(c.g)}catch(v){W(v)}var m=te;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}ye=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function Ve(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(Ve,D),Ve.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ve.Z.h.call(this)},Ve.prototype.h=function(){Ve.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Xe="closure_listenable_"+(Math.random()*1e6|0),H=0;function re(c,m,v,S,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=j,this.key=++H,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function De(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function O(c){const m={};for(const v in c)m[v]=c[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,m){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ne(c){this.src=c,this.g={},this.h=0}ne.prototype.add=function(c,m,v,S,j){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=Ee(c,m,S,j);return se>-1?(m=c[se],v||(m.fa=!1)):(m=new re(m,this.src,q,!!S,j),m.fa=v,c.push(m)),m};function oe(c,m){const v=m.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(S,j,1),q&&(me(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ee(c,m,v,S){for(let j=0;j<c.length;++j){const q=c[j];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return j}return-1}var we="closure_lm_"+(Math.random()*1e6|0),fe={};function je(c,m,v,S,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)je(c,m[q],v,S,j);return null}return v=rn(v),c&&c[Xe]?c.J(m,v,g(S)?!!S.capture:!1,j):Qe(c,m,v,!1,S,j)}function Qe(c,m,v,S,j,q){if(!m)throw Error("Invalid event type");const se=g(j)?!!j.capture:!!j;let Ce=rt(c);if(Ce||(c[we]=Ce=new ne(c)),v=Ce.add(m,v,S,se,q),v.proxy)return v;if(S=Ct(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)k||(j=se),j===void 0&&(j=!1),c.addEventListener(m.toString(),S,j);else if(c.attachEvent)c.attachEvent(ct(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ct(){function c(v){return m.call(c.src,c.listener,v)}const m=Ke;return c}function Le(c,m,v,S,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)Le(c,m[q],v,S,j);else S=g(S)?!!S.capture:!!S,v=rn(v),c&&c[Xe]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Ee(m,v,S,j),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=rt(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ee(m,v,S,j)),(v=c>-1?m[c]:null)&&be(v))}function be(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Xe])oe(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(ct(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=rt(m))?(oe(v,c),v.h==0&&(v.src=null,m[we]=null)):me(c)}}}function ct(c){return c in fe?fe[c]:fe[c]="on"+c}function Ke(c,m){if(c.da)c=!0;else{m=new Ve(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&be(c),c=v.call(S,m)}return c}function rt(c){return c=c[we],c instanceof ne?c:null}var vt="__closure_events_fn_"+(Math.random()*1e9>>>0);function rn(c){return typeof c=="function"?c:(c[vt]||(c[vt]=function(m){return c.handleEvent(m)}),c[vt])}function Ye(){V.call(this),this.i=new ne(this),this.M=this,this.G=null}A(Ye,V),Ye.prototype[Xe]=!0,Ye.prototype.removeEventListener=function(c,m,v,S){Le(this,c,m,v,S)};function tt(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var j=m;m=new D(S,c),ie(m,j)}j=!0;let q,se;if(v)for(se=v.length-1;se>=0;se--)q=m.g=v[se],j=fi(q,S,!0,m)&&j;if(q=m.g=c,j=fi(q,S,!0,m)&&j,j=fi(q,S,!1,m)&&j,v)for(se=0;se<v.length;se++)q=m.g=v[se],j=fi(q,S,!1,m)&&j}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)me(v[S]);delete c.g[m],c.h--}}this.G=null},Ye.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},Ye.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function fi(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const se=m[q];if(se&&!se.da&&se.capture==v){const Ce=se.listener,St=se.ha||se.src;se.fa&&oe(c.i,se),j=Ce.call(St,S)!==!1&&j}}return j&&!S.defaultPrevented}function Kh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function lu(c){c.g=Kh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class hn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(c){V.call(this),this.h=c,this.g={}}A(br,V);var bo=[];function So(c){Me(c.g,function(m,v){this.g.hasOwnProperty(v)&&be(m)},c),c.g={}}br.prototype.N=function(){br.Z.N.call(this),So(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ts=d.JSON.stringify,Yh=d.JSON.parse,uu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function cu(){}function hu(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){D.call(this,"d")}A(Xt,D);function kn(){D.call(this,"c")}A(kn,D);var bt={},fu=null;function ua(){return fu=fu||new Ye}bt.Ia="serverreachability";function du(c){D.call(this,bt.Ia,c)}A(du,D);function di(c){const m=ua();tt(m,new du(m))}bt.STAT_EVENT="statevent";function Sr(c,m){D.call(this,bt.STAT_EVENT,c),this.stat=m}A(Sr,D);function Nt(c){const m=ua();tt(m,new Sr(m,c))}bt.Ja="timingevent";function mi(c,m){D.call(this,bt.Ja,c),this.size=m}A(mi,D);function gi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function Xh(c,m,v,S,j,q){c.info(function(){if(c.g)if(q){var se="",Ce=q.split("&");for(let Ze=0;Ze<Ce.length;Ze++){var St=Ce[Ze].split("=");if(St.length>1){const pt=St[0];St=St[1];const Un=pt.split("_");se=Un.length>=2&&Un[1]=="type"?se+(pt+"="+St+"&"):se+(pt+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+v+`
`+se})}function mu(c,m,v,S,j,q,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+v+`
`+q+" "+se})}function pi(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+$h(c,v)+(S?" "+S:"")})}function Ar(c,m){c.info(function(){return"TIMEOUT: "+m})}Zn.prototype.info=function(){};function $h(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return Ts(q)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function Rr(){}A(Rr,cu),Rr.prototype.g=function(){return new XMLHttpRequest},wo=new Rr;function Fi(c){return encodeURIComponent(String(c))}function gu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Wn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Dt={},Gt={};function yi(c,m,v){c.M=1,c.A=xr(Vt(m)),c.u=v,c.R=!0,ca(c,null)}function ca(c,m){c.F=Date.now(),_i(c),c.B=Vt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ma(v.i,"t",S),c.C=0,v=c.j.L,c.h=new ei,c.g=Nu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new hn(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(bo[0]=j.toString()),j=bo);for(let q=0;q<j.length;q++){const se=je(v,j[q],S||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),di(),Xh(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const m=this.O;m&&ii(c)==3?m.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=ii(this.g),St=this.g.ya(),Ze=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ce!=4||St==7||(St==8||Ze<=0?di(3):di(2)),vi(this);var m=this.g.ca();this.X=m;var v=Jh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var q=S;break t}}q=null}if(c=q)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,Nt(12),An(this),Pn(this);break e}}if(this.R){c=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=yu(this,v),pt==Gt){Ce==4&&(this.m=4,Nt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Dt){this.m=4,Nt(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,pt,null),Ei(this,pt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||v.length!=0||this.h.h||(this.m=1,Nt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(se),se.P=!0,Nt(11))}}else pi(this.i,this.l,v,null),Ei(this,v);Ce==4&&An(this),this.o&&!this.K&&(Ce==4?Ru(this.j,this):(this.o=!1,_i(this)))}else Qi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),An(this),Pn(this)}}}catch{}};function Jh(c){if(!pu(c))return c.g.la();const m=$t(c.g);if(m==="")return"";let v="";const S=m.length,j=ii(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),Pn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(j&&q==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Gt:(v=Number(m.substring(v,S)),isNaN(v)?Dt:(S+=1,S+v>m.length?Gt:(m=m.slice(S,S+v),c.C=S+v,m)))}Wn.prototype.cancel=function(){this.K=!0,An(this)};function _i(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(p(c.aa,c),m)}function vi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(di(),Nt(17)),An(this),this.m=2,Pn(this)):ha(this,this.T-c)};function Pn(c){c.j.I==0||c.K||Ru(c.j,c)}function An(c){vi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,So(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ei(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||bi(v.h,c))){if(!c.L&&bi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),Cs(v);else break e;Mr(v),Nt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(p(v.Va,v),6e3));Ti(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&va(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Ze=j[m];const pt=Ze[0];if(!(pt<=v.K))if(v.K=pt,Ze=Ze[1],v.I==2)if(Ze[0]=="c"){v.M=Ze[1],v.ba=Ze[2];const Un=Ze[3];Un!=null&&(v.ka=Un,v.j.info("VER="+v.ka));const Ci=Ze[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const si=Ze[5];si!=null&&typeof si=="number"&&si>0&&(S=1.5*si,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ri=c.g;if(ri){const kr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var q=S.h;q.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Io(q,q.h),q.h=null))}if(S.G){const Ea=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(S.wa=Ea,nt(S.J,S.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=c;if(S.na=Cu(S,S.L?S.ba:null,S.W),se.L){Co(S.h,se);var Ce=se,St=S.O;St&&(Ce.H=St),Ce.D&&(vi(Ce),_i(Ce)),S.g=se}else Au(S);v.i.length>0&&xi(v)}else Ze[0]!="stop"&&Ze[0]!="close"||Ii(v,7);else v.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Ii(v,7):Lo(v):Ze[0]!="noop"&&v.l&&v.l.qa(Ze),v.A=0)}}di(4)}catch{}}var Ot=class{constructor(c,m){this.g=c,this.map=m}};function Ro(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ti(c){return c.h?1:c.g?c.g.size:0}function bi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Io(c,m){c.g?c.g.add(m):c.h=m}function Co(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return U(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let j,q=null;S>=0?(j=c[v].substring(0,S),q=c[v].substring(S+1)):j=c[v],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function wn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof wn?(this.l=c.l,Qt(this,c.j),this.o=c.o,this.g=c.g,bs(this,c.u),this.h=c.h,Do(this,bu(c.i)),this.m=c.m):c&&(m=String(c).match(_u))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),bs(this,m[4]),this.h=Si(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new As(null,this.l))}wn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Ir(m,da,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Ir(m,da,!0),"@"),c.push(Fi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ir(v,v.charAt(0)=="/"?Oo:vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ir(v,Eu)),c.join("")},wn.prototype.resolve=function(c){const m=Vt(this);let v=!!c.j;v?Qt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)bs(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=m.h.lastIndexOf("/");j!=-1&&(S=m.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let se=0;se<j.length;){const Ce=j[se++];Ce=="."?S&&se==j.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&se==j.length&&q.push("")):(q.push(Ce),S=!0)}S=q.join("/")}else S=j}return v?m.h=S:v=c.i.toString()!=="",v?Do(m,bu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Vt(c){return new wn(c)}function Qt(c,m,v){c.j=v?Si(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function bs(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Do(c,m,v){m instanceof As?(c.i=m,ga(c.i,c.l)):(v||(m=Ir(m,Ss)),c.i=new As(m,c.l))}function nt(c,m,v){c.i.set(m,v)}function xr(c){return nt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Si(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ir(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,gn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,vu=/[#\?:]/g,Oo=/[#\?]/g,Ss=/[#\?@]/g,Eu=/#/g;function As(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function pn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=As.prototype,s.add=function(c,m){pn(this),this.i=null,c=ws(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function Tu(c,m){pn(c),m=ws(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vo(c,m){return pn(c),m=ws(c,m),c.g.has(m)}s.forEach=function(c,m){pn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(m,j,S,this)},this)},this)};function Mo(c,m){pn(c);let v=[];if(typeof m=="string")Vo(c,m)&&(v=v.concat(c.g.get(ws(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return pn(this),this.i=null,c=ws(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Mo(this,c),c.length>0?String(c[0]):m):m};function ma(c,m,v){Tu(c,m),v.length>0&&(c.i=null,c.g.set(ws(c,m),U(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const j=Fi(v);v=Mo(this,v);for(let q=0;q<v.length;q++){let se=j;v[q]!==""&&(se+="="+Fi(v[q])),c.push(se)}}return this.i=c.join("&")};function bu(c){const m=new As;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function ws(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ga(c,m){m&&!c.j&&(pn(c),c.i=null,c.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&(Tu(this,S),ma(this,j,v))},c)),c.j=m}function ti(c,m){const v=new Zn;if(d.Image){const S=new Image;S.onload=b(jn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=b(jn,v,"TestLoadImage: error",!1,m,S),S.onabort=b(jn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(jn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function ko(c,m){const v=new Zn,S=new AbortController,j=setTimeout(()=>{S.abort(),jn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(j),q.ok?jn(v,"TestPingServer: ok",!0,m):jn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),jn(v,"TestPingServer: error",!1,m)})}function jn(c,m,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Rs(){this.g=new uu}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Ai,cu),Ai.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(c,m){Ye.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Cr,Ye),s=Cr.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,ni(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?xs(this):ni(this),this.readyState==3&&pa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,xs(this))},s.Na=function(c){this.g&&(this.response=c,xs(this))},s.ga=function(){this.g&&xs(this)};function xs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ni(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ln(c){let m="";return Me(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Nr(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Ln(v),typeof c=="string"?v!=null&&Fi(v):nt(c,m,v))}function at(c){Ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(at,Ye);var wi=/^https?$/i,Po=["POST","PUT"];s=at.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=I(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Dr(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of v)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Dr(this,q)}};function Dr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,jo(c),Gi(c)}function jo(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,tt(this,"complete"),tt(this,"abort"),Gi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(c){if(c.h&&typeof u<"u"){if(c.v&&ii(c)==4)setTimeout(c.Ca.bind(c),0);else if(tt(c,"readystatechange"),ii(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let se=String(c.D).match(_u)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),S=!wi.test(se?se.toLowerCase():"")}v=S}if(v)tt(c,"complete"),tt(c,"success");else{c.o=6;try{var j=ii(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",jo(c)}}finally{Gi(c)}}}}function Gi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||tt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Yh(m)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(c){const m={};c=(c.g&&ii(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(x(c[S]))continue;var v=gu(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[j]||[];m[j]=q,q.push(v)}De(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Is(c){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,c),this.Za=Ri("retryDelaySeedMs",1e4,c),this.Ta=Ri("forwardChannelMaxRetries",2,c),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Ba=new Rs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Is.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,S){Nt(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Cu(this,null,this.W),xi(this)};function Lo(c){if(ya(c),c.I==3){var m=c.V++,v=Vt(c.J);if(nt(v,"SID",c.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),Vr(c,v),m=new Wn(c,c.j,m),m.M=2,m.A=xr(Vt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}Iu(c)}function Cs(c){c.g&&(zo(c),c.g.cancel(),c.g=null)}function ya(c){Cs(c),c.v&&(d.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function xi(c){if(!xo(c.h)&&!c.m){c.m=!0;var m=c.Ea;ue||w(),ye||(ue(),ye=!0),C.add(m,c),c.D=0}}function _a(c,m){return Ti(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(p(c.Ea,c,m),xu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Wn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=O(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Su(this,j,m),v=Vt(this.J),nt(v,"RID",c),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),Vr(this,v),q&&(this.R?m="headers="+Fi(Ln(q))+"&"+m:this.u&&Nr(v,this.u,q)),Io(this.h,j),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),j.U=!0,yi(j,v,null)):yi(j,v,m),this.I=2}}else this.I==3&&(c?Uo(this,c):this.i.length==0||xo(this.h)||Uo(this))};function Uo(c,m){var v;m?v=m.l:v=c.V++;const S=Vt(c.J);nt(S,"SID",c.M),nt(S,"RID",v),nt(S,"AID",c.K),Vr(c,S),c.u&&c.o&&Nr(S,c.u,c.o),v=new Wn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Su(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,v),yi(v,S,m)}function Vr(c,m){c.H&&Me(c.H,function(v,S){nt(m,S,v)}),c.l&&Me({},function(v,S){nt(m,S,v)})}function Su(c,m,v){v=Math.min(c.i.length,v);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ce=-1;for(;;){const St=["count="+v];Ce==-1?v>0?(Ce=j[0].g,St.push("ofs="+Ce)):Ce=0:St.push("ofs="+Ce);let Ze=!0;for(let pt=0;pt<v;pt++){var q=j[pt].g;const Un=j[pt].map;if(q-=Ce,q<0)Ce=Math.max(0,j[pt].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var se=Un instanceof Map?Un:Object.entries(Un);for(const[Ci,si]of se){let ri=si;g(si)&&(ri=Ts(si)),St.push(q+Ci+"="+encodeURIComponent(ri))}}catch(Ci){throw St.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{S&&S(Un)}}if(Ze){se=St.join("&");break e}}se=void 0}return c=c.i.splice(0,v),m.G=c,se}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ue||w(),ye||(ue(),ye=!0),C.add(m,c),c.A=0}}function Mr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(p(c.Da,c),xu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),Cs(this),wu(this))};function zo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Vt(c.na);nt(m,"RID","rpc"),nt(m,"SID",c.M),nt(m,"AID",c.K),nt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&nt(m,"TO",c.ia),nt(m,"TYPE","xmlhttp"),Vr(c,m),c.u&&c.o&&Nr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=xr(Vt(m)),v.u=null,v.R=!0,ca(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Cs(this),Mr(this),Nt(19))};function va(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ru(c,m){var v=null;if(c.g==m){va(c),zo(c),c.g=null;var S=2}else if(bi(c.h,m))v=m.G,Co(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;S=ua(),tt(S,new mi(S,v)),xi(c)}else Au(c);else if(j=m.m,j==3||j==0&&m.X>0||!(S==1&&_a(c,m)||S==2&&Mr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),j){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function xu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ii(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),S=c.Ua;const j=!S;S=new wn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(S,"https"),xr(S),j?ti(S.toString(),v):ko(S.toString(),v)}else Nt(2);c.I=0,c.l&&c.l.pa(m),Iu(c),ya(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Iu(c){if(c.I=0,c.ja=[],c.l){const m=No(c.h);(m.length!=0||c.i.length!=0)&&(K(c.ja,m),K(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function Cu(c,m,v){var S=v instanceof wn?Vt(v):new wn(v);if(S.g!="")m&&(S.g=m+"."+S.g),bs(S,S.u);else{var j=d.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new wn(null);S&&Qt(q,S),m&&(q.g=m),j&&bs(q,j),v&&(q.h=v),S=q}return v=c.G,m=c.wa,v&&m&&nt(S,v,m),nt(S,"VER",c.ka),Vr(c,S),S}function Nu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new at(new Ai({ab:v})):new at(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ns(){}Ns.prototype.g=function(c,m){return new fn(c,m)};function fn(c,m){Ye.call(this),this.g=new Is(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!x(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ki(this)}A(fn,Ye),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Lo(this.g)},fn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ts(c),c=v);m.i.push(new Ot(m.Ya++,c)),m.I==3&&xi(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,fn.Z.N.call(this)};function Ou(c){Xt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Ou,Xt);function Vu(){kn.call(this),this.status=1}A(Vu,kn);function Ki(c){this.g=c}A(Ki,Du),Ki.prototype.ra=function(){tt(this.g,"a")},Ki.prototype.qa=function(c){tt(this.g,new Ou(c))},Ki.prototype.pa=function(c){tt(this.g,new Vu)},Ki.prototype.oa=function(){tt(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,mE=function(){return new Ns},dE=function(){return ua()},fE=bt,_m={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,Gc=wr,Ao.COMPLETE="complete",hE=Ao,hu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,xl=hu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,cE=at}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore",wv="4.9.3";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let po="12.7.0";const ia=new Bm("@firebase/firestore");function $a(){return ia.logLevel}function le(s,...e){if(ia.logLevel<=Be.DEBUG){const i=e.map(Fm);ia.debug(`Firestore (${po}): ${s}`,...i)}}function fs(s,...e){if(ia.logLevel<=Be.ERROR){const i=e.map(Fm);ia.error(`Firestore (${po}): ${s}`,...i)}}function oo(s,...e){if(ia.logLevel<=Be.WARN){const i=e.map(Fm);ia.warn(`Firestore (${po}): ${s}`,...i)}}function Fm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,gE(s,r,i)}function gE(s,e,i){let r=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw fs(r),new Error(r)}function et(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||gE(e,l,r)}function Re(s,e){return s}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class pE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class Kw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Yw{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ki,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ki)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new pE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class Xw{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $w{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Xw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const r=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Rv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Zw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Gm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Zw(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function vm(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return im(l)===im(u)?qe(l,u):im(l)?1:-1}return qe(s.length,e.length)}const Ww=55296,e2=57343;function im(s){const e=s.charCodeAt(0);return e>=Ww&&e<=e2}function lo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const xv="__name__";class Mi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ae(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Mi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return qe(e.length,i.length)}static compareSegments(e,i){const r=Mi.isNumericId(e),l=Mi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Mi.extractNumericId(e).compare(Mi.extractNumericId(i)):vm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class ft extends Mi{construct(e,i,r){return new ft(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const t2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Mi{construct(e,i,r){return new nn(e,i,r)}static isValidIdentifier(e){return t2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xv}static keyField(){return new nn([xv])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new ae($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ae($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new ae($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(i)}static emptyPath(){return new nn([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ft.fromString(e))}static fromName(e){return new ve(ft.fromString(e).popFirst(5))}static empty(){return new ve(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ft(e.slice()))}}function yE(s,e,i){if(!i)throw new ae($.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function n2(s,e,i,r){if(e===!0&&r===!0)throw new ae($.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Iv(s){if(!ve.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Cv(s){if(ve.isDocumentKey(s))throw new ae($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function _E(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Ah(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function $n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ae($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ah(s);throw new ae($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function zt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Zl(s,e){if(!_E(s))throw new ae($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new ae($.INVALID_ARGUMENT,i);return!0}const Nv=-62135596800,Dv=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Dv);return new gt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ae($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Nv)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zl(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Nv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:zt("string",gt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new gt(0,0))}static max(){return new xe(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function i2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(r===1e9?new gt(i+1,0):new gt(i,r));return new dr(l,ve.empty(),e)}function s2(s){return new dr(s.readTime,s.key,zl)}class dr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new dr(xe.min(),ve.empty(),zl)}static max(){return new dr(xe.max(),ve.empty(),zl)}}function r2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ve.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const a2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(s){if(s.code!==$.FAILED_PRECONDITION||s.message!==a2)throw s;le("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(y=>r(y)))})),d=!0,u===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;i(e[p]).next((b=>{d[p]=b,++g,g===u&&r(d)}),(b=>l(b)))}}))}static doWhile(e,i){return new Z(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function l2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _o(s){return s.name==="IndexedDbTransactionError"}class wh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wh.ce=-1;const Qm=-1;function Rh(s){return s==null}function ih(s){return s===0&&1/s==-1/0}function u2(s){return typeof s=="number"&&Number.isInteger(s)&&!ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const vE="";function c2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Ov(e)),e=h2(s.get(i),e);return Ov(e)}function h2(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case vE:i+="";break;default:i+=u}}return i}function Ov(s){return s+vE+""}function Vv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function f2(s,e){const i=[];for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&i.push(e(s[r],r,s));return i}function EE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _t{constructor(e,i){this.comparator=e,this.root=i||tn.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??tn.RED,this.left=l??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new tn(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new tn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Mv(this.data.getIterator())}getIteratorFrom(e){return new Mv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ht(this.comparator);return i.data=e,i}}class Mv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Mn([])}unionWith(e){let i=new Ht(nn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class TE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new TE("Invalid base64 string: "+u):u}})(e);return new sn(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new sn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=d2.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(s.seconds),nanos:Rt(s.nanos)}}function Rt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}const bE="server_timestamp",SE="__type__",AE="__previous_value__",wE="__local_write_time__";function Km(s){return(s?.mapValue?.fields||{})[SE]?.stringValue===bE}function xh(s){const e=s.mapValue.fields[AE];return Km(e)?xh(e):e}function Bl(s){const e=mr(s.mapValue.fields[wE].timestampValue);return new gt(e.seconds,e.nanos)}class m2{constructor(e,i,r,l,u,d,g,y,p,b){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=b}}const sh="(default)";class ql{constructor(e,i){this.projectId=e,this.database=i||sh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}const RE="__type__",g2="__max__",Uc={mapValue:{}},xE="__vector__",rh="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Km(s)?4:y2(s)?9007199254740991:p2(s)?10:11:Ae(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const i=pr(s);if(i!==pr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bl(s).isEqual(Bl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=mr(l.timestampValue),g=mr(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return gr(l.bytesValue).isEqual(gr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return Rt(l.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(l.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return Rt(l.integerValue)===Rt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=Rt(l.doubleValue),g=Rt(u.doubleValue);return d===g?ih(d)===ih(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return lo(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(Vv(d)!==Vv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Hi(d[y],g[y])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Hl(s,e){return(s.values||[]).find((i=>Hi(i,e)))!==void 0}function uo(s,e){if(s===e)return 0;const i=pr(s),r=pr(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=Rt(u.integerValue||u.doubleValue),y=Rt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return kv(s.timestampValue,e.timestampValue);case 4:return kv(Bl(s),Bl(e));case 5:return vm(s.stringValue,e.stringValue);case 6:return(function(u,d){const g=gr(u),y=gr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const b=qe(g[p],y[p]);if(b!==0)return b}return qe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=qe(Rt(u.latitude),Rt(d.latitude));return g!==0?g:qe(Rt(u.longitude),Rt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Pv(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[rh]?.arrayValue,b=y[rh]?.arrayValue,A=qe(p?.values?.length||0,b?.values?.length||0);return A!==0?A:Pv(p,b)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Uc.mapValue&&d===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},b=Object.keys(p);y.sort(),b.sort();for(let A=0;A<y.length&&A<b.length;++A){const I=vm(y[A],b[A]);if(I!==0)return I;const U=uo(g[y[A]],p[b[A]]);if(U!==0)return U}return qe(y.length,b.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function kv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=mr(s),r=mr(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function Pv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=uo(i[l],r[l]);if(u)return u}return qe(i.length,r.length)}function co(s){return Em(s)}function Em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=mr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return gr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ve.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=Em(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${Em(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Qc(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Qc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return vr(r.fields,((u,d)=>{l+=u.length+Qc(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function jv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Tm(s){return!!s&&"integerValue"in s}function Ym(s){return!!s&&"arrayValue"in s}function Lv(s){return!!s&&"nullValue"in s}function Uv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function p2(s){return(s?.mapValue?.fields||{})[RE]?.stringValue===xE}function Ol(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Ol(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ol(s.arrayValue.values[i]);return e}return{...s}}function y2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===g2}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(i)}setAll(e){let i=nn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Ol(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){vr(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Sn(Ol(this.value))}}function IE(s){const e=[];return vr(s.fields,((i,r)=>{const l=new nn([i]);if(Kc(r)){const u=IE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Mn(e)}class un{constructor(e,i,r,l,u,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new un(e,0,xe.min(),xe.min(),xe.min(),Sn.empty(),0)}static newFoundDocument(e,i,r,l){return new un(e,1,i,xe.min(),r,l,0)}static newNoDocument(e,i){return new un(e,2,i,xe.min(),xe.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new un(e,3,i,xe.min(),xe.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(e,i){this.position=e,this.inclusive=i}}function zv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=ve.comparator(ve.fromName(d.referenceValue),i.key):r=uo(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Hi(s.position[i],e.position[i]))return!1;return!0}class Fl{constructor(e,i="asc"){this.field=e,this.dir=i}}function _2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class CE{}class Ut extends CE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new E2(e,i,r):i==="array-contains"?new S2(e,r):i==="in"?new A2(e,r):i==="not-in"?new w2(e,r):i==="array-contains-any"?new R2(e,r):new Ut(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new T2(e,r):new b2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends CE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ci(e,i)}matches(e){return NE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NE(s){return s.op==="and"}function DE(s){return v2(s)&&NE(s)}function v2(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function bm(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+co(s.value);if(DE(s))return s.filters.map((e=>bm(e))).join(",");{const e=s.filters.map((i=>bm(i))).join(",");return`${s.op}(${e})`}}function OE(s,e){return s instanceof Ut?(function(r,l){return l instanceof Ut&&r.op===l.op&&r.field.isEqual(l.field)&&Hi(r.value,l.value)})(s,e):s instanceof ci?(function(r,l){return l instanceof ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&OE(d,l.filters[g])),!0):!1})(s,e):void Ae(19439)}function VE(s){return s instanceof Ut?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(s):s instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(VE).join(" ,")+"}"})(s):"Filter"}class E2 extends Ut{constructor(e,i,r){super(e,i,r),this.key=ve.fromName(r.referenceValue)}matches(e){const i=ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class T2 extends Ut{constructor(e,i){super(e,"in",i),this.keys=ME("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class b2 extends Ut{constructor(e,i){super(e,"not-in",i),this.keys=ME("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function ME(s,e){return(e.arrayValue?.values||[]).map((i=>ve.fromName(i.referenceValue)))}class S2 extends Ut{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ym(i)&&Hl(i.arrayValue,this.value)}}class A2 extends Ut{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class w2 extends Ut{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class R2 extends Ut{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ym(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Hl(this.value.arrayValue,r)))}}class x2{constructor(e,i=null,r=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function qv(s,e=null,i=[],r=[],l=null,u=null,d=null){return new x2(s,e,i,r,l,u,d)}function Xm(s){const e=Re(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>bm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),Rh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>co(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>co(r))).join(",")),e.Te=i}return e.Te}function $m(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!_2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!OE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Bv(s.startAt,e.startAt)&&Bv(s.endAt,e.endAt)}function Sm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class vo{constructor(e,i=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I2(s,e,i,r,l,u,d,g){return new vo(s,e,i,r,l,u,d,g)}function Jm(s){return new vo(s)}function Hv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function kE(s){return s.collectionGroup!==null}function Vl(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ht(nn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Fl(u,r))})),i.has(nn.keyField().canonicalString())||e.Ie.push(new Fl(nn.keyField(),r))}return e.Ie}function Pi(s){const e=Re(s);return e.Ee||(e.Ee=PE(e,Vl(s))),e.Ee}function C2(s){const e=Re(s);return e.de||(e.de=PE(e,s.explicitOrderBy)),e.de}function PE(s,e){if(s.limitType==="F")return qv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Fl(l.field,u)}));const i=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return qv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Am(s,e){const i=s.filters.concat([e]);return new vo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function wm(s,e,i){return new vo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ih(s,e){return $m(Pi(s),Pi(e))&&s.limitType===e.limitType}function jE(s){return`${Xm(Pi(s))}|lt:${s.limitType}`}function Ja(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>VE(l))).join(", ")}]`),Rh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function Ch(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ve.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Vl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const p=zv(d,g,y);return d.inclusive?p<=0:p<0})(r.startAt,Vl(r),l)||r.endAt&&!(function(d,g,y){const p=zv(d,g,y);return d.inclusive?p>=0:p>0})(r.endAt,Vl(r),l))})(s,e)}function N2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function LE(s){return(e,i)=>{let r=!1;for(const l of Vl(s)){const u=D2(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function D2(s,e,i){const r=s.field.isKeyField()?ve.comparator(e.key,i.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?uo(y,p):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class aa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return EE(this.inner)}size(){return this.innerSize}}const O2=new _t(ve.comparator);function ds(){return O2}const UE=new _t(ve.comparator);function Il(...s){let e=UE;for(const i of s)e=e.insert(i.key,i);return e}function zE(s){let e=UE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Zr(){return Ml()}function BE(){return Ml()}function Ml(){return new aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const V2=new _t(ve.comparator),M2=new Ht(ve.comparator);function He(...s){let e=M2;for(const i of s)e=e.add(i);return e}const k2=new Ht(qe);function P2(){return k2}function Zm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function qE(s){return{integerValue:""+s}}function j2(s,e){return u2(e)?qE(e):Zm(s,e)}class Nh{constructor(){this._=void 0}}function L2(s,e,i){return s instanceof oh?(function(l,u){const d={fields:{[SE]:{stringValue:bE},[wE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Km(u)&&(u=xh(u)),u&&(d.fields[AE]=u),{mapValue:d}})(i,e):s instanceof Gl?FE(s,e):s instanceof Ql?GE(s,e):(function(l,u){const d=HE(l,u),g=Fv(d)+Fv(l.Ae);return Tm(d)&&Tm(l.Ae)?qE(g):Zm(l.serializer,g)})(s,e)}function U2(s,e,i){return s instanceof Gl?FE(s,e):s instanceof Ql?GE(s,e):i}function HE(s,e){return s instanceof lh?(function(r){return Tm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class oh extends Nh{}class Gl extends Nh{constructor(e){super(),this.elements=e}}function FE(s,e){const i=QE(e);for(const r of s.elements)i.some((l=>Hi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ql extends Nh{constructor(e){super(),this.elements=e}}function GE(s,e){let i=QE(e);for(const r of s.elements)i=i.filter((l=>!Hi(l,r)));return{arrayValue:{values:i}}}class lh extends Nh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Fv(s){return Rt(s.integerValue||s.doubleValue)}function QE(s){return Ym(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function z2(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Gl&&l instanceof Gl||r instanceof Ql&&l instanceof Ql?lo(r.elements,l.elements,Hi):r instanceof lh&&l instanceof lh?Hi(r.Ae,l.Ae):r instanceof oh&&l instanceof oh})(s.transform,e.transform)}class B2{constructor(e,i){this.version=e,this.transformResults=i}}class Xn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function KE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Wm(s.key,Xn.none()):new Wl(s.key,s.data,Xn.none());{const i=s.data,r=Sn.empty();let l=new Ht(nn.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new Er(s.key,r,new Mn(l.toArray()),Xn.none())}}function q2(s,e,i){s instanceof Wl?(function(l,u,d){const g=l.value.clone(),y=Qv(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Er?(function(l,u,d){if(!Yc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=Qv(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(YE(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function kl(s,e,i,r){return s instanceof Wl?(function(u,d,g,y){if(!Yc(u.precondition,d))return g;const p=u.value.clone(),b=Kv(u.fieldTransforms,y,d);return p.setAll(b),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,i,r):s instanceof Er?(function(u,d,g,y){if(!Yc(u.precondition,d))return g;const p=Kv(u.fieldTransforms,y,d),b=d.data;return b.setAll(YE(u)),b.setAll(p),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(u,d,g){return Yc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function H2(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=HE(r.transform,l||null);u!=null&&(i===null&&(i=Sn.empty()),i.set(r.field,u))}return i||null}function Gv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&lo(r,l,((u,d)=>z2(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Wl extends Dh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Er extends Dh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function YE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function Qv(s,e,i){const r=new Map;et(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,g=e.data.field(u.field);r.set(u.field,U2(d,g,i[l]))}return r}function Kv(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,L2(u,d,e))}return r}class Wm extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F2 extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class G2{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&q2(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=BE();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const y=KE(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((i,r)=>Gv(i,r)))&&lo(this.baseMutations,e.baseMutations,((i,r)=>Gv(i,r)))}}class eg{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return V2})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new eg(e,i,r,l)}}class Q2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class K2{constructor(e,i,r){this.alias=e,this.aggregateType=i,this.fieldPath=r}}class Y2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Ge;function X2(s){switch(s){case $.OK:return Ae(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function XE(s){if(s===void 0)return fs("GRPC error has no .code"),$.UNKNOWN;switch(s){case Lt.OK:return $.OK;case Lt.CANCELLED:return $.CANCELLED;case Lt.UNKNOWN:return $.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return $.INTERNAL;case Lt.UNAVAILABLE:return $.UNAVAILABLE;case Lt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Lt.NOT_FOUND:return $.NOT_FOUND;case Lt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Lt.ABORTED:return $.ABORTED;case Lt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Lt.DATA_LOSS:return $.DATA_LOSS;default:return Ae(39323,{code:s})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function $2(){return new TextEncoder}const J2=new hr([4294967295,4294967295],0);function Yv(s){const e=$2().encode(s),i=new uE;return i.update(e),new Uint8Array(i.digest())}function Xv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hr([i,r],0),new hr([l,u],0)]}class tg{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=hr.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(hr.fromNumber(r)));return l.compare(J2)===1&&(l=new hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Yv(e),[r,l]=Xv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new tg(u,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Yv(e),[r,l]=Xv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Oh(xe.min(),l,new _t(qe),ds(),He())}}class eu{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new eu(r,i,He(),He(),He())}}class Xc{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class $E{constructor(e,i){this.targetId=e,this.Ce=i}}class JE{constructor(e,i,r=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class $v{constructor(){this.ve=0,this.Fe=Jv(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ae(38017,{changeType:u})}})),new eu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Jv()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Z2{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=zc(),this.He=zc(),this.Ye=new _t(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Sm(u))if(r===0){const d=new ve(u.path);this.et(i,d,un.newNoDocument(d,xe.min()))}else et(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=gr(r).toUint8Array()}catch(y){if(y instanceof TE)return oo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new tg(d,l,u)}catch(y){return oo(y instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Sm(g.target)){const y=new ve(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,un.newNoDocument(y,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=He();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Oh(e,i,this.Ye,this.je,r);return this.je=ds(),this.Je=zc(),this.He=zc(),this.Ye=new _t(qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new $v,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ht(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ht(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $v),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zc(){return new _t(ve.comparator)}function Jv(){return new _t(ve.comparator)}const W2={asc:"ASCENDING",desc:"DESCENDING"},eR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tR={and:"AND",or:"OR"};class nR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Rm(s,e){return s.useProto3Json||Rh(e)?e:{value:e}}function uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function iR(s,e){return uh(s,e.toTimestamp())}function ji(s){return et(!!s,49232),xe.fromTimestamp((function(i){const r=mr(i);return new gt(r.seconds,r.nanos)})(s))}function ng(s,e){return xm(s,e).canonicalString()}function xm(s,e){const i=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function WE(s){const e=ft.fromString(s);return et(rT(e),10190,{key:e.toString()}),e}function Im(s,e){return ng(s.databaseId,e.path)}function sm(s,e){const i=WE(e);if(i.get(1)!==s.databaseId.projectId)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ae($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ve(tT(i))}function eT(s,e){return ng(s.databaseId,e)}function sR(s){const e=WE(s);return e.length===4?ft.emptyPath():tT(e)}function Cm(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function tT(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Zv(s,e,i){return{name:Im(s,e),fields:i.value.mapValue.fields}}function rR(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,b){return p.useProto3Json?(et(b===void 0||typeof b=="string",58123),sn.fromBase64String(b||"")):(et(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),sn.fromUint8Array(b||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const b=p.code===void 0?$.UNKNOWN:XE(p.code);return new ae(b,p.message||"")})(d);i=new JE(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=sm(s,r.document.name),u=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):xe.min(),g=new Sn({mapValue:{fields:r.document.fields}}),y=un.newFoundDocument(l,u,d,g),p=r.targetIds||[],b=r.removedTargetIds||[];i=new Xc(p,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=sm(s,r.document),u=r.readTime?ji(r.readTime):xe.min(),d=un.newNoDocument(l,u),g=r.removedTargetIds||[];i=new Xc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=sm(s,r.document),u=r.removedTargetIds||[];i=new Xc([],u,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new Y2(l,u),g=r.targetId;i=new $E(g,d)}}return i}function aR(s,e){let i;if(e instanceof Wl)i={update:Zv(s,e.key,e.value)};else if(e instanceof Wm)i={delete:Im(s,e.key)};else if(e instanceof Er)i={update:Zv(s,e.key,e.data),updateMask:gR(e.fieldMask)};else{if(!(e instanceof F2))return Ae(16599,{Vt:e.type});i={verify:Im(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof lh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:iR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(s,e.precondition)),i}function oR(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?ji(l.updateTime):ji(u);return d.isEqual(xe.min())&&(d=ji(u)),new B2(d,l.transformResults||[])})(i,e)))):[]}function lR(s,e){return{documents:[eT(s,e.path)]}}function nT(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=eT(s,l);const u=(function(p){if(p.length!==0)return sT(ci.create(p,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((b=>(function(I){return{field:nr(I.field),direction:fR(I.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Rm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:l}}function uR(s,e,i,r){const{ft:l,parent:u}=nT(s,e),d={},g=[];let y=0;return i.forEach((p=>{const b="aggregate_"+y++;d[b]=p.alias,p.aggregateType==="count"?g.push({alias:b,count:{}}):p.aggregateType==="avg"?g.push({alias:b,avg:{field:nr(p.fieldPath)}}):p.aggregateType==="sum"&&g.push({alias:b,sum:{field:nr(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:g,structuredQuery:l.structuredQuery},parent:l.parent},gt:d,parent:u}}function cR(s){let e=sR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){et(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];i.where&&(u=(function(A){const I=iT(A);return I instanceof ci&&DE(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((I=>(function(K){return new Fl(Za(K.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(I)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let I;return I=typeof A=="object"?A.value:A,Rh(I)?null:I})(i.limit));let y=null;i.startAt&&(y=(function(A){const I=!!A.before,U=A.values||[];return new ah(U,I)})(i.startAt));let p=null;return i.endAt&&(p=(function(A){const I=!A.before,U=A.values||[];return new ah(U,I)})(i.endAt)),I2(e,l,d,u,g,"F",y,p)}function hR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function iT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Za(i.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(i.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(i.unaryFilter.field);return Ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Za(i.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ut.create(Za(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((r=>iT(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function fR(s){return W2[s]}function dR(s){return eR[s]}function mR(s){return tR[s]}function nr(s){return{fieldPath:s.canonicalString()}}function Za(s){return nn.fromServerFormat(s.fieldPath)}function sT(s){return s instanceof Ut?(function(i){if(i.op==="=="){if(Uv(i.value))return{unaryFilter:{field:nr(i.field),op:"IS_NAN"}};if(Lv(i.value))return{unaryFilter:{field:nr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uv(i.value))return{unaryFilter:{field:nr(i.field),op:"IS_NOT_NAN"}};if(Lv(i.value))return{unaryFilter:{field:nr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nr(i.field),op:dR(i.op),value:i.value}}})(s):s instanceof ci?(function(i){const r=i.getFilters().map((l=>sT(l)));return r.length===1?r[0]:{compositeFilter:{op:mR(i.op),filters:r}}})(s):Ae(54877,{filter:s})}function gR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function rT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class or{constructor(e,i,r,l,u=xe.min(),d=xe.min(),g=sn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pR{constructor(e){this.yt=e}}function yR(s){const e=cR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?wm(e,e.limit,"L"):e}class _R{constructor(){this.Cn=new vR}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(dr.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class vR{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Ht(ft.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ht(ft.comparator)).toArray()}}const Wv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(aT,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}const e0="LruGarbageCollector",ER=1048576;function t0([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class TR{constructor(e){this.Ir=e,this.buffer=new Ht(t0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();t0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bR{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(e0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_o(i)?le(e0,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Vr(3e5)}))}}class SR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(wh.ce);const r=new TR(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Wv)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wv):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,g,y,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,i)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(p=Date.now(),$a()<=Be.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(p-y)+`ms
Total Duration: ${p-b}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function AR(s,e){return new SR(s,e)}class wR{constructor(){this.changes=new aa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class xR{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&kl(r.mutation,l,Mn.empty(),gt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=Zr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=Il();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Zr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let u=ds();const d=Ml(),g=(function(){return Ml()})();return i.forEach(((y,p)=>{const b=r.get(p.key);l.has(p.key)&&(b===void 0||b.mutation instanceof Er)?u=u.insert(p.key,p):b!==void 0?(d.set(p.key,b.mutation.getFieldMask()),kl(b.mutation,p,b.mutation.getFieldMask(),gt.now())):d.set(p.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,b)=>d.set(p,b))),i.forEach(((p,b)=>g.set(p,new RR(b,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Ml();let l=new _t(((d,g)=>d-g)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=i.get(y);if(p===null)return;let b=r.get(y)||Mn.empty();b=g.applyToLocalView(p,b),r.set(y,b);const A=(l.get(g.batchId)||He()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,b=y.value,A=BE();b.forEach((I=>{if(!u.has(I)){const U=KE(i.get(I),r.get(I));U!==null&&A.set(I,U),u=u.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,A))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):kE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):Z.resolve(Zr());let g=zl,y=u;return d.next((p=>Z.forEach(p,((b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),u.get(b)?Z.resolve():this.remoteDocumentCache.getEntry(e,b).next((I=>{y=y.insert(b,I)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,He()))).next((b=>({batchId:g,changes:zE(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ve(i)).next((r=>{let l=Il();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,u).next((g=>Z.forEach(g,(y=>{const p=(function(A,I){return new vo(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,l).next((b=>{b.forEach(((A,I)=>{d=d.insert(A,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((y,p)=>{const b=p.getKey();d.get(b)===null&&(d=d.insert(b,un.newInvalidDocument(b)))}));let g=Il();return d.forEach(((y,p)=>{const b=u.get(y);b!==void 0&&kl(b.mutation,p,Mn.empty(),gt.now()),Ch(i,p)&&(g=g.insert(y,p))})),g}))}}class IR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:yR(l.bundledQuery),readTime:ji(l.readTime)}})(i)),Z.resolve()}}class CR{constructor(){this.overlays=new _t(ve.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Zr();return Z.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const l=Zr(),u=i.length+1,d=new ve(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new _t(((p,b)=>p-b));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>r){let b=u.get(p.largestBatchId);b===null&&(b=Zr(),u=u.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const g=Zr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,b)=>g.set(p,b))),!(g.size()>=l)););return Z.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Q2(i,r));let u=this.qr.get(i);u===void 0&&(u=He(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class NR{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class ig{constructor(){this.Qr=new Ht(Yt.$r),this.Ur=new Ht(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Yt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Yt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new ve(new ft([])),r=new Yt(i,e),l=new Yt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ve(new ft([])),r=new Yt(i,e),l=new Yt(i,e+1);let u=He();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Yt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ve.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||ve.comparator(e.key,i.key)}}class DR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Yt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new G2(u,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Yt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Qm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Yt(i,0),l=new Yt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ht(qe);return i.forEach((l=>{const u=new Yt(l,0),d=new Yt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;ve.isDocumentKey(u)||(u=u.child(""));const d=new Yt(new ve(u),0);let g=new Ht(qe);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){et(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const u=new Yt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Yt(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class OR{constructor(e){this.ri=e,this.docs=(function(){return new _t(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():un.newInvalidDocument(i))}getEntries(e,i){let r=ds();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():un.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=ds();const d=i.path,g=new ve(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:b}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||r2(s2(b),r)<=0||(l.has(b.key)||Ch(i,b))&&(u=u.insert(b.key,b.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,i,r,l){Ae(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new VR(this)}getSize(e){return Z.resolve(this.size)}}class VR extends wR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class MR{constructor(e){this.persistence=e,this.si=new aa((i=>Xm(i)),$m),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new ig,this.targetCount=0,this.ai=ho.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ho(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),Z.waitFor(u).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class oT{constructor(e,i){this.ui={},this.overlays={},this.ci=new wh(0),this.li=!1,this.li=!0,this.hi=new NR,this.referenceDelegate=e(this),this.Pi=new MR(this),this.indexManager=new _R,this.remoteDocumentCache=(function(l){return new OR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pR(i),this.Ii=new IR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new CR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new DR(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){le("MemoryPersistence","Starting transaction:",e);const l=new kR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class kR extends o2{constructor(e){super(),this.currentSequenceNumber=e}}class sg{constructor(e){this.persistence=e,this.Ri=new ig,this.Vi=null}static mi(e){return new sg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=ve.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new aa((r=>c2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=AR(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?Z.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,u.removeEntry(d,xe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class rg{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=He(),l=He();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new rg(e,i.fromCache,r,l)}}class PR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return R1()?8:l2(cn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new PR;return this.Ss(e,i,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?($a()<=Be.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):($a()<=Be.DEBUG&&le("QueryEngine","Query:",Ja(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?($a()<=Be.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):Z.resolve())}ys(e,i){if(Hv(i))return Z.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=wm(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=He(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(e,wm(i,null,"F")):this.vs(e,p,i,y)}))))})))))}ws(e,i,r,l){return Hv(i)||l.isEqual(xe.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?Z.resolve(null):($a()<=Be.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ja(i)),this.vs(e,d,i,i2(l,zl)).next((g=>g)))}))}Ds(e,i){let r=new Ht(LE(e));return i.forEach(((l,u)=>{Ch(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return $a()<=Be.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ja(i)),this.ps.getDocumentsMatchingQuery(e,i,dr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const ag="LocalStore",LR=3e8;class UR{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new _t(qe),this.xs=new aa((u=>Xm(u)),$m),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function zR(s,e,i,r){return new UR(s,e,i,r)}async function lT(s,e){const i=Re(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=He();for(const p of l){d.push(p.batchId);for(const b of p.mutations)y=y.add(b.key)}for(const p of u){g.push(p.batchId);for(const b of p.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(r,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function BR(s,e){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,b){const A=p.batch,I=A.keys();let U=Z.resolve();return I.forEach((K=>{U=U.next((()=>b.getEntry(y,K))).next((ee=>{const W=p.docVersions.get(K);et(W!==null,48541),ee.version.compareTo(W)<0&&(A.applyToRemoteDocument(ee,p),ee.isValidDocument()&&(ee.setReadTime(p.commitVersion),b.addEntry(ee)))}))})),U.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=He();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function uT(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function qR(s,e){const i=Re(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((b,A)=>{const I=l.get(A);if(!I)return;g.push(i.Pi.removeMatchingKeys(u,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(u,b.addedDocuments,A))));let U=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?U=U.withResumeToken(sn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):b.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(b.resumeToken,r)),l=l.insert(A,U),(function(ee,W,pe){return ee.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=LR?!0:pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0})(I,U,b)&&g.push(i.Pi.updateTargetData(u,U))}));let y=ds(),p=He();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,b))})),g.push(HR(u,d,e.documentUpdates).next((b=>{y=b.ks,p=b.qs}))),!r.isEqual(xe.min())){const b=i.Pi.getLastRemoteSnapshotVersion(u).next((A=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(b)}return Z.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(i.Ms=l,u)))}function HR(s,e,i){let r=He(),l=He();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=ds();return i.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(xe.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):le(ag,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function FR(s,e){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Qm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function GR(s,e){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new or(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Nm(s,e,i){const r=Re(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_o(d))throw d;le(ag,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function n0(s,e,i){const r=Re(s);let l=xe.min(),u=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,b){const A=Re(y),I=A.xs.get(b);return I!==void 0?Z.resolve(A.Ms.get(I)):A.Pi.getTargetData(p,b)})(r,d,Pi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:xe.min(),i?u:He()))).next((g=>(QR(r,N2(e),g),{documents:g,Qs:u})))))}function QR(s,e,i){let r=s.Os.get(e)||xe.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class i0{constructor(){this.activeTargetIds=P2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KR{constructor(){this.Mo=new i0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YR{Oo(e){}shutdown(){}}const s0="ConnectivityMonitor";class r0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(s0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(s0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function Dm(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const rm="RestConnection",XR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $R{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=Dm(),g=this.zo(e,i.toUriEncodedString());le(rm,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:p}=new URL(g),b=mo(p);return this.Jo(e,g,y,r,b).then((A=>(le(rm,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw oo(rm,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=XR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class JR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class ZR extends $R{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=Dm();return new Promise(((g,y)=>{const p=new cE;p.setWithCredentials(!0),p.listenOnce(hE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Gc.NO_ERROR:const A=p.getResponseJson();le(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Gc.TIMEOUT:le(on,`RPC '${e}' ${d} timed out`),y(new ae($.DEADLINE_EXCEEDED,"Request time out"));break;case Gc.HTTP_ERROR:const I=p.getStatus();if(le(on,`RPC '${e}' ${d} failed with status:`,I,"response text:",p.getResponseText()),I>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const K=U?.error;if(K&&K.status&&K.message){const ee=(function(pe){const Y=pe.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Y)>=0?Y:$.UNKNOWN})(K.status);y(new ae(ee,K.message))}else y(new ae($.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ae($.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{le(on,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(l);le(on,`RPC '${e}' ${d} sending request:`,l),p.send(i,"POST",b,r,15)}))}T_(e,i,r){const l=Dm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=mE(),g=dE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const b=u.join("");le(on,`Creating RPC '${e}' stream ${l}: ${b}`,y);const A=d.createWebChannel(b,y);this.I_(A);let I=!1,U=!1;const K=new JR({Yo:W=>{U?le(on,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(I||(le(on,`Opening RPC '${e}' stream ${l} transport.`),A.open(),I=!0),le(on,`RPC '${e}' stream ${l} sending:`,W),A.send(W))},Zo:()=>A.close()}),ee=(W,pe,Y)=>{W.listen(pe,(te=>{try{Y(te)}catch(ce){setTimeout((()=>{throw ce}),0)}}))};return ee(A,xl.EventType.OPEN,(()=>{U||(le(on,`RPC '${e}' stream ${l} transport opened.`),K.o_())})),ee(A,xl.EventType.CLOSE,(()=>{U||(U=!0,le(on,`RPC '${e}' stream ${l} transport closed`),K.a_(),this.E_(A))})),ee(A,xl.EventType.ERROR,(W=>{U||(U=!0,oo(on,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),K.a_(new ae($.UNAVAILABLE,"The operation could not be completed")))})),ee(A,xl.EventType.MESSAGE,(W=>{if(!U){const pe=W.data[0];et(!!pe,16349);const Y=pe,te=Y?.error||Y[0]?.error;if(te){le(on,`RPC '${e}' stream ${l} received error:`,te);const ce=te.status;let ue=(function(w){const R=Lt[w];if(R!==void 0)return XE(R)})(ce),ye=te.message;ue===void 0&&(ue=$.INTERNAL,ye="Unknown error status: "+ce+" with message "+te.message),U=!0,K.a_(new ae(ue,ye)),A.close()}else le(on,`RPC '${e}' stream ${l} received:`,pe),K.u_(pe)}})),ee(g,fE.STAT_EVENT,(W=>{W.stat===_m.PROXY?le(on,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===_m.NOPROXY&&le(on,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{K.__()}),0),K}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function am(){return typeof document<"u"?document:null}function Vh(s){return new nR(s,!0)}class cT{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const a0="PersistentStream";class hT{constructor(e,i,r,l,u,d,g,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new ae($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(a0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(le(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WR extends hT{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=rR(this.serializer,e),r=(function(u){if(!("targetChange"in u))return xe.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?ji(d.readTime):xe.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Cm(this.serializer),i.addTarget=(function(u,d){let g;const y=d.target;if(g=Sm(y)?{documents:lR(u,y)}:{query:nT(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=ZE(u,d.resumeToken);const p=Rm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(xe.min())>0){g.readTime=uh(u,d.snapshotVersion.toTimestamp());const p=Rm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const r=hR(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Cm(this.serializer),i.removeTarget=e,this.q_(i)}}class ex extends hT{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=oR(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Cm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>aR(this.serializer,r)))};this.q_(i)}}class tx{}class nx extends tx{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,xm(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ae($.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,xm(i,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ae($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ix{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const sa="RemoteStore";class sx{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{oa(this)&&(le(sa,"Restarting streams for network reachability change."),await(async function(y){const p=Re(y);p.Ea.add(4),await tu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Mh(p)})(this))}))})),this.Ra=new ix(r,l)}}async function Mh(s){if(oa(s))for(const e of s.da)await e(!0)}async function tu(s){for(const e of s.da)await e(!1)}function fT(s,e){const i=Re(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),cg(i)?ug(i):Eo(i).O_()&&lg(i,e))}function og(s,e){const i=Re(s),r=Eo(i);i.Ia.delete(e),r.O_()&&dT(i,e),i.Ia.size===0&&(r.O_()?r.L_():oa(i)&&i.Ra.set("Unknown"))}function lg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Eo(s).Y_(e)}function dT(s,e){s.Va.Ue(e),Eo(s).Z_(e)}function ug(s){s.Va=new Z2({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Eo(s).start(),s.Ra.ua()}function cg(s){return oa(s)&&!Eo(s).x_()&&s.Ia.size>0}function oa(s){return Re(s).Ea.size===0}function mT(s){s.Va=void 0}async function rx(s){s.Ra.set("Online")}async function ax(s){s.Ia.forEach(((e,i)=>{lg(s,e)}))}async function ox(s,e){mT(s),cg(s)?(s.Ra.ha(e),ug(s)):s.Ra.set("Unknown")}async function lx(s,e,i){if(s.Ra.set("Online"),e instanceof JE&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){le(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(s,r)}else if(e instanceof Xc?s.Va.Ze(e):e instanceof $E?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const r=await uT(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const b=u.Ia.get(p);b&&u.Ia.set(p,b.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const b=u.Ia.get(y);if(!b)return;u.Ia.set(y,b.withResumeToken(sn.EMPTY_BYTE_STRING,b.snapshotVersion)),dT(u,y);const A=new or(b.target,y,p,b.sequenceNumber);lg(u,A)})),u.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){le(sa,"Failed to raise snapshot:",r),await hh(s,r)}}async function hh(s,e,i){if(!_o(e))throw e;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>uT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(sa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Mh(s)}))}function gT(s,e){return e().catch((i=>hh(s,i,e)))}async function kh(s){const e=Re(s),i=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qm;for(;ux(e);)try{const l=await FR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,cx(e,l)}catch(l){await hh(e,l)}pT(e)&&yT(e)}function ux(s){return oa(s)&&s.Ta.length<10}function cx(s,e){s.Ta.push(e);const i=yr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function pT(s){return oa(s)&&!yr(s).x_()&&s.Ta.length>0}function yT(s){yr(s).start()}async function hx(s){yr(s).ra()}async function fx(s){const e=yr(s);for(const i of s.Ta)e.ea(i.mutations)}async function dx(s,e,i){const r=s.Ta.shift(),l=eg.from(r,e,i);await gT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await kh(s)}async function mx(s,e){e&&yr(s).X_&&await(async function(r,l){if((function(d){return X2(d)&&d!==$.ABORTED})(l.code)){const u=r.Ta.shift();yr(r).B_(),await gT(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await kh(r)}})(s,e),pT(s)&&yT(s)}async function o0(s,e){const i=Re(s);i.asyncQueue.verifyOperationInProgress(),le(sa,"RemoteStore received new credentials");const r=oa(i);i.Ea.add(3),await tu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mh(i)}async function gx(s,e){const i=Re(s);e?(i.Ea.delete(2),await Mh(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function Eo(s){return s.ma||(s.ma=(function(i,r,l){const u=Re(i);return u.sa(),new WR(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:rx.bind(null,s),t_:ax.bind(null,s),r_:ox.bind(null,s),H_:lx.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),cg(s)?ug(s):s.Ra.set("Unknown")):(await s.ma.stop(),mT(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(i,r,l){const u=Re(i);return u.sa(),new ex(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:hx.bind(null,s),r_:mx.bind(null,s),ta:fx.bind(null,s),na:dx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(sa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class hg{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,g=new hg(e,i,d,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(s,e){if(fs("AsyncQueue",`${e}: ${s}`),_o(s))return new ae($.UNAVAILABLE,`${e}: ${s}`);throw s}class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ve.comparator(i.key,r.key):(i,r)=>ve.comparator(i.key,r.key),this.keyedMap=Il(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class l0{constructor(){this.ga=new _t(ve.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class fo{constructor(e,i,r,l,u,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new fo(e,i,eo.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class px{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yx{constructor(){this.queries=u0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Re(i),u=l.queries;l.queries=u0(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new ae($.ABORTED,"Firestore shutting down"))}}function u0(){return new aa((s=>jE(s)),Ih)}async function _T(s,e){const i=Re(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new px,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=fg(d,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&dg(i)}async function vT(s,e){const i=Re(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _x(s,e){const i=Re(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&dg(i)}function vx(s,e,i){const r=Re(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function dg(s){s.Ca.forEach((e=>{e.next()}))}var Om,c0;(c0=Om||(Om={})).Ma="default",c0.Cache="cache";class ET{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Om.Cache}}class TT{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class Ex{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=LE(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new l0,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,A)=>{const I=l.get(b),U=Ch(this.query,A)?A:null,K=!!I&&this.mutatedKeys.has(I.key),ee=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let W=!1;I&&U?I.data.isEqual(U.data)?K!==ee&&(r.track({type:3,doc:U}),W=!0):this.su(I,U)||(r.track({type:2,doc:U}),W=!0,(y&&this.eu(U,y)>0||p&&this.eu(U,p)<0)&&(g=!0)):!I&&U?(r.track({type:0,doc:U}),W=!0):I&&!U&&(r.track({type:1,doc:I}),W=!0,(y||p)&&(g=!0)),W&&(U?(d=d.add(U),u=ee?u.add(b):u.delete(b)):(d=d.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,A)=>(function(U,K){const ee=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:W})}};return ee(U)-ee(K)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new fo(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new bT(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new TT(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mg="SyncEngine";class Tx{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class bx{constructor(e){this.key=e,this.hu=!1}}class Sx{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((g=>jE(g)),Ih),this.Iu=new Map,this.Eu=new Set,this.du=new _t(ve.comparator),this.Au=new Map,this.Ru=new ig,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ax(s,e,i=!0){const r=IT(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await ST(r,e,i,!0),l}async function wx(s,e){const i=IT(s);await ST(i,e,!0,!1)}async function ST(s,e,i,r){const l=await GR(s.localStore,Pi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let g;return r&&(g=await Rx(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&fT(s.remoteStore,l),g}async function Rx(s,e,i,r,l){s.pu=(A,I,U)=>(async function(ee,W,pe,Y){let te=W.view.ru(pe);te.Cs&&(te=await n0(ee.localStore,W.query,!1).then((({documents:C})=>W.view.ru(C,te))));const ce=Y&&Y.targetChanges.get(W.targetId),ue=Y&&Y.targetMismatches.get(W.targetId)!=null,ye=W.view.applyChanges(te,ee.isPrimaryClient,ce,ue);return f0(ee,W.targetId,ye.au),ye.snapshot})(s,A,I,U);const u=await n0(s.localStore,e,!0),d=new Ex(e,u.Qs),g=d.ru(u.documents),y=eu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,y);f0(s,i,p.au);const b=new Tx(e,i,d);return s.Tu.set(e,b),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),p.snapshot}async function xx(s,e,i){const r=Re(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Ih(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Nm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&og(r.remoteStore,l.targetId),Vm(r,l.targetId)})).catch(yo)):(Vm(r,l.targetId),await Nm(r.localStore,l.targetId,!0))}async function Ix(s,e){const i=Re(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),og(i.remoteStore,r.targetId))}async function Cx(s,e,i){const r=Px(s);try{const l=await(function(d,g){const y=Re(d),p=gt.now(),b=g.reduce(((U,K)=>U.add(K.key)),He());let A,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let K=ds(),ee=He();return y.Ns.getEntries(U,b).next((W=>{K=W,K.forEach(((pe,Y)=>{Y.isValidDocument()||(ee=ee.add(pe))}))})).next((()=>y.localDocuments.getOverlayedDocuments(U,K))).next((W=>{A=W;const pe=[];for(const Y of g){const te=H2(Y,A.get(Y.key).overlayedDocument);te!=null&&pe.push(new Er(Y.key,te,IE(te.value.mapValue),Xn.exists(!0)))}return y.mutationQueue.addMutationBatch(U,p,pe,g)})).next((W=>{I=W;const pe=W.applyToLocalDocumentSet(A,ee);return y.documentOverlayCache.saveOverlays(U,W.batchId,pe)}))})).then((()=>({batchId:I.batchId,changes:zE(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new _t(qe)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(r,l.batchId,i),await nu(r,l.changes),await kh(r.remoteStore)}catch(l){const u=fg(l,"Failed to persist write");i.reject(u)}}async function AT(s,e){const i=Re(s);try{const r=await qR(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?et(d.hu,14607):l.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await nu(i,r,e)}catch(r){await yo(r)}}function h0(s,e,i){const r=Re(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Re(d);y.onlineState=g;let p=!1;y.queries.forEach(((b,A)=>{for(const I of A.Sa)I.va(g)&&(p=!0)})),p&&dg(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Nx(s,e,i){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new _t(ve.comparator);d=d.insert(u,un.newNoDocument(u,xe.min()));const g=He().add(u),y=new Oh(xe.min(),new Map,new _t(qe),d,g);await AT(r,y),r.du=r.du.remove(u),r.Au.delete(e),gg(r)}else await Nm(r.localStore,e,!1).then((()=>Vm(r,e,i))).catch(yo)}async function Dx(s,e){const i=Re(s),r=e.batch.batchId;try{const l=await BR(i.localStore,e);RT(i,r,null),wT(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await nu(i,l)}catch(l){await yo(l)}}async function Ox(s,e,i){const r=Re(s);try{const l=await(function(d,g){const y=Re(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return y.mutationQueue.lookupMutationBatch(p,g).next((A=>(et(A!==null,37113),b=A.keys(),y.mutationQueue.removeMutationBatch(p,A)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>y.localDocuments.getDocuments(p,b)))}))})(r.localStore,e);RT(r,e,i),wT(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await nu(r,l)}catch(l){await yo(l)}}function wT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function RT(s,e,i){const r=Re(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Vm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||xT(s,r)}))}function xT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(og(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),gg(s))}function f0(s,e,i){for(const r of i)r instanceof TT?(s.Ru.addReference(r.key,e),Vx(s,r)):r instanceof bT?(le(mg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||xT(s,r.key)):Ae(19791,{wu:r})}function Vx(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(le(mg,"New document in limbo: "+i),s.Eu.add(r),gg(s))}function gg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ve(ft.fromString(e)),r=s.fu.next();s.Au.set(r,new bx(i)),s.du=s.du.insert(i,r),fT(s.remoteStore,new or(Pi(Jm(i.path)),r,"TargetPurposeLimboResolution",wh.ce))}}async function nu(s,e,i){const r=Re(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((p=>{if((p||i)&&r.isPrimaryClient){const b=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(p){l.push(p);const b=rg.As(y.targetId,p);u.push(b)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,p){const b=Re(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(p,(I=>Z.forEach(I.Es,(U=>b.persistence.referenceDelegate.addReference(A,I.targetId,U))).next((()=>Z.forEach(I.ds,(U=>b.persistence.referenceDelegate.removeReference(A,I.targetId,U)))))))))}catch(A){if(!_o(A))throw A;le(ag,"Failed to update sequence numbers: "+A)}for(const A of p){const I=A.targetId;if(!A.fromCache){const U=b.Ms.get(I),K=U.snapshotVersion,ee=U.withLastLimboFreeSnapshotVersion(K);b.Ms=b.Ms.insert(I,ee)}}})(r.localStore,u))}async function Mx(s,e){const i=Re(s);if(!i.currentUser.isEqual(e)){le(mg,"User change. New user:",e.toKey());const r=await lT(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new ae($.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nu(i,r.Ls)}}function kx(s,e){const i=Re(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function IT(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nx.bind(null,e),e.Pu.H_=_x.bind(null,e.eventManager),e.Pu.yu=vx.bind(null,e.eventManager),e}function Px(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ox.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return zR(this.persistence,new jR,e.initialUser,this.serializer)}Cu(e){return new oT(sg.mi,this.serializer)}Du(e){return new KR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class jx extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bR(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new oT((r=>ch.mi(r,i)),this.serializer)}}class Mm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mx.bind(null,this.syncEngine),await gx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yx})()}createDatastore(e){const i=Vh(e.databaseInfo.databaseId),r=(function(u){return new ZR(u)})(e.databaseInfo);return(function(u,d,g,y){return new nx(u,d,g,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,g){return new sx(r,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>h0(this.syncEngine,i,0)),(function(){return r0.v()?new r0:new YR})())}createSyncEngine(e,i){return(function(l,u,d,g,y,p,b){const A=new Sx(l,u,d,g,y,p);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Re(i);le(sa,"RemoteStore shutting down."),r.Ea.add(5),await tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mm.provider={build:()=>new Mm};class CT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const _r="FirestoreClient";class Lx{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{le(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(le(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=fg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function om(s,e){s.asyncQueue.verifyOperationInProgress(),le(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await lT(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function d0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Ux(s);le(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>o0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>o0(e.remoteStore,l))),s._onlineComponents=e}async function Ux(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(_r,"Using user provided OfflineComponentProvider");try{await om(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await om(s,new fh)}}else le(_r,"Using default OfflineComponentProvider"),await om(s,new jx(void 0));return s._offlineComponents}async function pg(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(_r,"Using user provided OnlineComponentProvider"),await d0(s,s._uninitializedComponentsProvider._online)):(le(_r,"Using default OnlineComponentProvider"),await d0(s,new Mm))),s._onlineComponents}function zx(s){return pg(s).then((e=>e.syncEngine))}function Bx(s){return pg(s).then((e=>e.datastore))}async function NT(s){const e=await pg(s),i=e.eventManager;return i.onListen=Ax.bind(null,e.syncEngine),i.onUnlisten=xx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=wx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Ix.bind(null,e.syncEngine),i}function qx(s,e,i={}){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const b=new CT({next:I=>{b.Nu(),d.enqueueAndForget((()=>vT(u,A)));const U=I.docs.has(g);!U&&I.fromCache?p.reject(new ae($.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&I.fromCache&&y&&y.source==="server"?p.reject(new ae($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),A=new ET(Jm(g.path),b,{includeMetadataChanges:!0,qa:!0});return _T(u,A)})(await NT(s),s.asyncQueue,e,i,r))),r.promise}function Hx(s,e,i={}){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const b=new CT({next:I=>{b.Nu(),d.enqueueAndForget((()=>vT(u,A))),I.fromCache&&y.source==="server"?p.reject(new ae($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),A=new ET(g,b,{includeMetadataChanges:!0,qa:!0});return _T(u,A)})(await NT(s),s.asyncQueue,e,i,r))),r.promise}function Fx(s,e,i){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>{try{const l=await Bx(s);r.resolve((async function(d,g,y){const p=Re(d),{request:b,gt:A,parent:I}=uR(p.serializer,C2(g),y);p.connection.$o||delete b.parent;const U=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,I,b,1)).filter((ee=>!!ee.result));et(U.length===1,64727);const K=U[0].result?.aggregateFields;return Object.keys(K).reduce(((ee,W)=>(ee[A[W]]=K[W],ee)),{})})(l,e,i))}catch(l){r.reject(l)}})),r.promise}function DT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const m0=new Map;const OT="firestore.googleapis.com",g0=!0;class p0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ae($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=g0}else this.host=e.host,this.ssl=e.ssl??g0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ER)throw new ae($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ae($.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new p0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new p0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Qw;switch(r.type){case"firstParty":return new $w(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=m0.get(i);r&&(le("ComponentProvider","Removing Datastore"),m0.delete(i),r.terminate())})(this),Promise.resolve()}}function Gx(s,e,i,r={}){s=$n(s,Ph);const l=mo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(tE(`https://${g}`),nE("Firestore",!0)),u.host!==OT&&u.host!==g&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!ta(y,d)&&(s._setSettings(y),r.mockUserToken)){let p,b;if(typeof r.mockUserToken=="string")p=r.mockUserToken,b=ln.MOCK_USER;else{p=y1(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new ae($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ln(A)}s._authCredentials=new Kw(new pE(p,b))}}class la{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class It{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}toJSON(){return{type:It._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Zl(i,It._jsonSchema))return new It(e,r||null,new ve(ft.fromString(i.referencePath)))}}It._jsonSchemaVersion="firestore/documentReference/1.0",It._jsonSchema={type:zt("string",It._jsonSchemaVersion),referencePath:zt("string")};class fr extends la{constructor(e,i,r){super(e,i,Jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new ve(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function Wr(s,e,...i){if(s=Ft(s),yE("collection","path",e),s instanceof Ph){const r=ft.fromString(e,...i);return Cv(r),new fr(s,null,r)}{if(!(s instanceof It||s instanceof fr))throw new ae($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...i));return Cv(r),new fr(s.firestore,null,r)}}function ms(s,e,...i){if(s=Ft(s),arguments.length===1&&(e=Gm.newId()),yE("doc","path",e),s instanceof Ph){const r=ft.fromString(e,...i);return Iv(r),new It(s,null,new ve(r))}{if(!(s instanceof It||s instanceof fr))throw new ae($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...i));return Iv(r),new It(s.firestore,s instanceof fr?s.converter:null,new ve(r))}}const y0="AsyncQueue";class _0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const r=am();r&&le(y0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=am();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=am();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;le(y0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",v0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=hg.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:v0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function v0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class Tr extends Ph{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new _0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _0(e),this._firestoreClient=void 0,await e}}}function Qx(s,e){const i=typeof s=="object"?s:aE(),r=typeof s=="string"?s:sh,l=Hm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=g1("firestore");u&&Gx(l,...u)}return l}function jh(s){if(s._terminated)throw new ae($.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Kx(s),s._firestoreClient}function Kx(s){const e=s._freezeSettings(),i=(function(l,u,d,g){return new m2(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,DT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new Lx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class Yx{constructor(e="count",i){this._internalFieldPath=i,this.type="AggregateField",this.aggregateType=e}}class Xx{constructor(e,i,r){this._userDataWriter=i,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(sn.fromBase64String(e))}catch(i){throw new ae($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Yn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zl(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:zt("string",Yn._jsonSchemaVersion),bytes:zt("string")};class Lh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ae($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yg{constructor(e){this._methodName=e}}class Li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ae($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ae($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(Zl(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:zt("string",Li._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zl(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ui(e.vectorValues);throw new ae($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:zt("string",Ui._jsonSchemaVersion),vectorValues:zt("object")};const $x=/^__.*__$/;class Jx{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}class VT{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Er(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function MT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class _g{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _g({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MT(this.Ac)&&$x.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Zx{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Vh(e)}Cc(e,i,r,l=!1){return new _g({Ac:e,methodName:i,Dc:r,path:nn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Uh(s){const e=s._freezeSettings(),i=Vh(s._databaseId);return new Zx(s._databaseId,!!e.ignoreUndefinedProperties,i)}function kT(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);vg("Data must be an object, but it was:",d,r);const g=PT(r,d);let y,p;if(u.merge)y=new Mn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const I=km(e,A,i);if(!d.contains(I))throw new ae($.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);LT(b,I)||b.push(I)}y=new Mn(b),p=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,p=d.fieldTransforms;return new Jx(new Sn(g),y,p)}class zh extends yg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function Wx(s,e,i,r){const l=s.Cc(1,e,i);vg("Data must be an object, but it was:",l,r);const u=[],d=Sn.empty();vr(r,((y,p)=>{const b=Eg(e,y,i);p=Ft(p);const A=l.yc(b);if(p instanceof zh)u.push(b);else{const I=iu(p,A);I!=null&&(u.push(b),d.set(b,I))}}));const g=new Mn(u);return new VT(d,g,l.fieldTransforms)}function eI(s,e,i,r,l,u){const d=s.Cc(1,e,i),g=[km(e,r,i)],y=[l];if(u.length%2!=0)throw new ae($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)g.push(km(e,u[I])),y.push(u[I+1]);const p=[],b=Sn.empty();for(let I=g.length-1;I>=0;--I)if(!LT(p,g[I])){const U=g[I];let K=y[I];K=Ft(K);const ee=d.yc(U);if(K instanceof zh)p.push(U);else{const W=iu(K,ee);W!=null&&(p.push(U),b.set(U,W))}}const A=new Mn(p);return new VT(b,A,d.fieldTransforms)}function tI(s,e,i,r=!1){return iu(i,s.Cc(r?4:3,e))}function iu(s,e){if(jT(s=Ft(s)))return vg("Unsupported field value:",e,s),PT(s,e);if(s instanceof yg)return(function(r,l){if(!MT(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=iu(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=gt.fromDate(r);return{timestampValue:uh(l.serializer,u)}}if(r instanceof gt){const u=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(l.serializer,u)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:ZE(l.serializer,r._byteString)};if(r instanceof It){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ui)return(function(d,g){return{mapValue:{fields:{[RE]:{stringValue:xE},[rh]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return Zm(g.serializer,p)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Ah(r)}`)})(s,e)}function PT(s,e){const i={};return EE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,((r,l)=>{const u=iu(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function jT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof Li||s instanceof Yn||s instanceof It||s instanceof yg||s instanceof Ui)}function vg(s,e,i){if(!jT(i)||!_E(i)){const r=Ah(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function km(s,e,i){if((e=Ft(e))instanceof Lh)return e._internalPath;if(typeof e=="string")return Eg(s,e);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const nI=new RegExp("[~\\*/\\[\\]]");function Eg(s,e,i){if(e.search(nI)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Lh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ae($.INVALID_ARGUMENT,g+s+y)}function LT(s,e){return s.some((i=>i.isEqual(e)))}class UT{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Bh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iI extends UT{data(){return super.data()}}function Bh(s,e){return typeof e=="string"?Eg(s,e):e instanceof Lh?e._internalPath:e._delegate._internalPath}function sI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ae($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class zT extends Tg{}function er(s,e,...i){let r=[];e instanceof Tg&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((y=>y instanceof bg)).length,g=u.filter((y=>y instanceof qh)).length;if(d>1||d>0&&g>0)throw new ae($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class qh extends zT{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new qh(e,i,r)}_apply(e){const i=this._parse(e);return BT(e._query,i),new la(e.firestore,e.converter,Am(e._query,i))}_parse(e){const i=Uh(e.firestore);return(function(u,d,g,y,p,b,A){let I;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ae($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){T0(A,b);const K=[];for(const ee of A)K.push(E0(y,u,ee));I={arrayValue:{values:K}}}else I=E0(y,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||T0(A,b),I=tI(g,d,A,b==="in"||b==="not-in");return Ut.create(p,b,I)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function tr(s,e,i){const r=e,l=Bh("where",s);return qh._create(l,r,i)}class bg extends Tg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new bg(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ci.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)BT(d,y),d=Am(d,y)})(e._query,i),new la(e.firestore,e.converter,Am(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends zT{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Sg(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ae($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(u,d)})(e._query,this._field,this._direction);return new la(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new vo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function rI(s,e="asc"){const i=e,r=Bh("orderBy",s);return Sg._create(r,i)}function E0(s,e,i){if(typeof(i=Ft(i))=="string"){if(i==="")throw new ae($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kE(e)&&i.indexOf("/")!==-1)throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ft.fromString(i));if(!ve.isDocumentKey(r))throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jv(s,new ve(r))}if(i instanceof It)return jv(s,i._key);throw new ae($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(i)}.`)}function T0(s,e){if(!Array.isArray(s)||s.length===0)throw new ae($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BT(s,e){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class aI{convertValue(e,i="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return vr(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[rh].arrayValue?.values?.map((r=>Rt(r.doubleValue)));return new Ui(i)}convertGeoPoint(e){return new Li(Rt(e.latitude),Rt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=xh(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ft.fromString(e);et(rT(r),9688,{name:e});const l=new ql(r.get(1),r.get(3)),u=new ve(r.popFirst(5));return l.isEqual(i)||fs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function qT(s,e,i){let r;return r=s?s.toFirestore(e):e,r}function oI(){return new Yx("count")}class Nl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends UT{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Bh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ea._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:zt("string",ea._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class $c extends ea{data(e={}){return super.data(e)}}class to{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Nl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new $c(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ae($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new $c(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new $c(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,b=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:lI(g.type),doc:y,oldIndex:p,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function b0(s){s=$n(s,It);const e=$n(s.firestore,Tr);return qx(jh(e),s._key).then((i=>cI(e,s,i)))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:zt("string",to._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class Ag extends aI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,i)}}function no(s){s=$n(s,la);const e=$n(s.firestore,Tr),i=jh(e),r=new Ag(e);return sI(s._query),Hx(i,s._query).then((l=>new to(e,r,s,l)))}function Pm(s,e,i){s=$n(s,It);const r=$n(s.firestore,Tr),l=qT(s.converter,e);return Hh(r,[kT(Uh(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Xn.none())])}function HT(s,e,i,...r){s=$n(s,It);const l=$n(s.firestore,Tr),u=Uh(l);let d;return d=typeof(e=Ft(e))=="string"||e instanceof Lh?eI(u,"updateDoc",s._key,e,i,r):Wx(u,"updateDoc",s._key,e),Hh(l,[d.toMutation(s._key,Xn.exists(!0))])}function uI(s){return Hh($n(s.firestore,Tr),[new Wm(s._key,Xn.none())])}function FT(s,e){const i=$n(s.firestore,Tr),r=ms(s),l=qT(s.converter,e);return Hh(i,[kT(Uh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then((()=>r))}function Hh(s,e){return(function(r,l){const u=new ki;return r.asyncQueue.enqueueAndForget((async()=>Cx(await zx(r),l,u))),u.promise})(jh(s),e)}function cI(s,e,i){const r=i.docs.get(e._key),l=new Ag(s);return new ea(s,l,e._key,r,new Nl(i.hasPendingWrites,i.fromCache),e.converter)}function lm(s){return hI(s,{count:oI()})}function hI(s,e){const i=$n(s.firestore,Tr),r=jh(i),l=f2(e,((u,d)=>new K2(d,u.aggregateType,u._internalFieldPath)));return Fx(r,s._query,l).then((u=>(function(g,y,p){const b=new Ag(g);return new Xx(y,b,p)})(i,s,u)))}(function(e,i=!0){(function(l){po=l})(go),ao(new na("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new Tr(new Yw(r.getProvider("auth-internal")),new Jw(d,r.getProvider("app-check-internal")),(function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ae($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(p.options.projectId,b)})(d,l),d);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),cr(Av,wv,e),cr(Av,wv,"esm2020")})();function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fI=GT,QT=new $l("auth","Firebase",GT());const mh=new Bm("@firebase/auth");function dI(s,...e){mh.logLevel<=Be.WARN&&mh.warn(`Auth (${go}): ${s}`,...e)}function Jc(s,...e){mh.logLevel<=Be.ERROR&&mh.error(`Auth (${go}): ${s}`,...e)}function hi(s,...e){throw wg(s,...e)}function zi(s,...e){return wg(s,...e)}function KT(s,e,i){const r={...fI(),[e]:i};return new $l("auth","Firebase",r).create(e,{appName:s.name})}function Bi(s){return KT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return QT.create(s,...e)}function Se(s,e,...i){if(!s)throw wg(e,...i)}function us(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Jc(e),new Error(e)}function gs(s,e){s||us(e)}function jm(){return typeof self<"u"&&self.location?.href||""}function mI(){return S0()==="http:"||S0()==="https:"}function S0(){return typeof self<"u"&&self.location?.protocol||null}function gI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mI()||S1()||"connection"in navigator)?navigator.onLine:!0}function pI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(e,i){this.shortDelay=e,this.longDelay=i,gs(i>e,"Short delay should be less than long delay!"),this.isMobile=E1()||A1()}get(){return gI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rg(s,e){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class YT{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vI=new su(3e4,6e4);function _s(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function vs(s,e,i,r,l={}){return XT(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const g=Jl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:y,...u};return b1()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&mo(s.emulatorConfig.host)&&(p.credentials="include"),YT.fetch()(await $T(s,s.config.apiHost,i,g),p)})}async function XT(s,e,i){s._canInitEmulator=!1;const r={...yI,...e};try{const l=new TI(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw qc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw qc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw qc(s,"user-disabled",d);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw KT(s,b,p);hi(s,b)}}catch(l){if(l instanceof ys)throw l;hi(s,"network-request-failed",{message:String(l)})}}async function ru(s,e,i,r,l={}){const u=await vs(s,e,i,r,l);return"mfaPendingCredential"in u&&hi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function $T(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?Rg(s.config,l):`${s.config.apiScheme}://${l}`;return _I.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function EI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),vI.get())})}}function qc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=zi(s,e,r);return l.customData._tokenResponse=i,l}function A0(s){return s!==void 0&&s.enterprise!==void 0}class bI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return EI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SI(s,e){return vs(s,"GET","/v2/recaptchaConfig",_s(s,e))}async function AI(s,e){return vs(s,"POST","/v1/accounts:delete",e)}async function gh(s,e){return vs(s,"POST","/v1/accounts:lookup",e)}function Pl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wI(s,e=!1){const i=Ft(s),r=await i.getIdToken(e),l=xg(r);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Pl(um(l.auth_time)),issuedAtTime:Pl(um(l.iat)),expirationTime:Pl(um(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function um(s){return Number(s)*1e3}function xg(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=J0(i);return l?JSON.parse(l):(Jc("Failed to decode base64 JWT payload"),null)}catch(l){return Jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function w0(s){const e=xg(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Kl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof ys&&RI(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function RI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class xI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Lm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ph(s){const e=s.auth,i=await s.getIdToken(),r=await Kl(s,gh(e,{idToken:i}));Se(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?JT(l.providerUserInfo):[],d=CI(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,p=g?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Lm(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,b)}async function II(s){const e=Ft(s);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function JT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function NI(s,e){const i=await XT(s,{},async()=>{const r=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await $T(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&mo(s.emulatorConfig.host)&&(y.credentials="include"),YT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function DI(s,e){return vs(s,"POST","/v2/accounts:revokeToken",_s(s,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=w0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await NI(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new io;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Se(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return us("not implemented")}}function Ws(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new xI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Lm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return wI(this,e)}reload(){return II(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(Bi(this.auth));const e=await this.getIdToken();return await Kl(this,AI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,p=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:I,isAnonymous:U,providerData:K,stsTokenManager:ee}=i;Se(A&&ee,e,"internal-error");const W=io.fromJSON(this.name,ee);Se(typeof A=="string",e,"internal-error"),Ws(r,e.name),Ws(l,e.name),Se(typeof I=="boolean",e,"internal-error"),Se(typeof U=="boolean",e,"internal-error"),Ws(u,e.name),Ws(d,e.name),Ws(g,e.name),Ws(y,e.name),Ws(p,e.name),Ws(b,e.name);const pe=new ui({uid:A,auth:e,email:l,emailVerified:I,displayName:r,isAnonymous:U,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:W,createdAt:p,lastLoginAt:b});return K&&Array.isArray(K)&&(pe.providerData=K.map(Y=>({...Y}))),y&&(pe._redirectEventId=y),pe}static async _fromIdTokenResponse(e,i,r=!1){const l=new io;l.updateFromServerResponse(i);const u=new ui({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await ph(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?JT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new io;g.updateFromIdToken(r);const y=new ui({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Lm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const R0=new Map;function cs(s){gs(s instanceof Function,"Expected a class definition");let e=R0.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,R0.set(s,e),e)}class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}ZT.type="NONE";const x0=ZT;function Zc(s,e,i){return`firebase:${s}:${e}:${i}`}class so{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Zc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Zc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await gh(this.auth,{idToken:e}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new so(cs(x0),e,r);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||cs(x0);const d=Zc(r,e.config.apiKey,e.name);let g=null;for(const p of i)try{const b=await p._get(d);if(b){let A;if(typeof b=="string"){const I=await gh(e,{idToken:b}).catch(()=>{});if(!I)break;A=await ui._fromGetAccountInfoResponse(e,I,b)}else A=ui._fromJSON(e,b);p!==u&&(g=A),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new so(u,e,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new so(u,e,r))}}function I0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sb(e))return"Blackberry";if(rb(e))return"Webos";if(eb(e))return"Safari";if((e.includes("chrome/")||tb(e))&&!e.includes("edge/"))return"Chrome";if(ib(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function WT(s=cn()){return/firefox\//i.test(s)}function eb(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tb(s=cn()){return/crios\//i.test(s)}function nb(s=cn()){return/iemobile/i.test(s)}function ib(s=cn()){return/android/i.test(s)}function sb(s=cn()){return/blackberry/i.test(s)}function rb(s=cn()){return/webos/i.test(s)}function Ig(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function OI(s=cn()){return Ig(s)&&!!window.navigator?.standalone}function VI(){return w1()&&document.documentMode===10}function ab(s=cn()){return Ig(s)||ib(s)||rb(s)||sb(s)||/windows phone/i.test(s)||nb(s)}function ob(s,e=[]){let i;switch(s){case"Browser":i=I0(cn());break;case"Worker":i=`${I0(cn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${go}/${r}`}class MI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function kI(s,e={}){return vs(s,"GET","/v2/passwordPolicy",_s(s,e))}const PI=6;class jI{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class LI{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C0(this),this.idTokenSubscription=new C0(this),this.beforeStateQueue=new MI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await gh(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(Bi(this));const i=e?Ft(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(Bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(Bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kI(this),i=new jI(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await DI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&cs(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&dI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Es(s){return Ft(s)}class C0{constructor(e){this.auth=e,this.observer=null,this.addObserver=V1(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UI(s){Fh=s}function lb(s){return Fh.loadJS(s)}function zI(){return Fh.recaptchaEnterpriseScript}function BI(){return Fh.gapiScript}function qI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class HI{constructor(){this.enterprise=new FI}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class FI{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const GI="recaptcha-enterprise",ub="NO_RECAPTCHA";class QI{constructor(e){this.type=GI,this.auth=Es(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{SI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new bI(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;A0(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(ub)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!i&&A0(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=zI();y.length!==0&&(y+=g),lb(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function N0(s,e,i,r=!1,l=!1){const u=new QI(s);let d;if(l)d=ub;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function yh(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await N0(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await N0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function KI(s,e){const i=Hm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(ta(u,e??{}))return l;hi(l,"already-initialized")}return i.initialize({options:e})}function YI(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(cs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function XI(s,e,i){const r=Es(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=cb(e),{host:d,port:g}=$I(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},b=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ta(p,r.config.emulator)&&ta(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,mo(d)?(tE(`${u}//${d}${y}`),nE("Auth",!0)):JI()}function cb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function $I(s){const e=cb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:D0(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:D0(d)}}}function D0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function JI(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Cg{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return us("not implemented")}_getIdTokenResponse(e){return us("not implemented")}_linkToIdToken(e,i){return us("not implemented")}_getReauthenticationResolver(e){return us("not implemented")}}async function ZI(s,e){return vs(s,"POST","/v1/accounts:signUp",e)}async function WI(s,e){return ru(s,"POST","/v1/accounts:signInWithPassword",_s(s,e))}async function hb(s,e){return vs(s,"POST","/v1/accounts:sendOobCode",_s(s,e))}async function eC(s,e){return hb(s,e)}async function tC(s,e){return hb(s,e)}async function nC(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",_s(s,e))}async function iC(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",_s(s,e))}class Yl extends Cg{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Yl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Yl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,i,"signInWithPassword",WI);case"emailLink":return nC(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,r,"signUpPassword",ZI);case"emailLink":return iC(e,{idToken:i,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ro(s,e){return ru(s,"POST","/v1/accounts:signInWithIdp",_s(s,e))}const sC="http://localhost";class ra extends Cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):hi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new ra(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ro(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,ro(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ro(e,i)}buildRequest(){const e={requestUri:sC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Jl(i)}return e}}function rC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aC(s){const e=wl(Rl(s)).link,i=e?wl(Rl(e)).deep_link_id:null,r=wl(Rl(s)).deep_link_id;return(r?wl(Rl(r)).link:null)||r||i||e||s}class Ng{constructor(e){const i=wl(Rl(e)),r=i.apiKey??null,l=i.oobCode??null,u=rC(i.mode??null);Se(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=aC(e);try{return new Ng(i)}catch{return null}}}class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,i){return Yl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Ng.parseLink(i);return Se(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class fb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends fb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ir extends au{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";class sr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return sr.credential(i,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";class rr extends au{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends au{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return ar.credential(i,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";async function db(s,e){return ru(s,"POST","/v1/accounts:signUp",_s(s,e))}class ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await ui._fromIdTokenResponse(e,r,l),d=O0(r);return new ps({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=O0(r);return new ps({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function O0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function oC(s){if(Vn(s.app))return Promise.reject(Bi(s));const e=Es(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ps({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await db(e,{returnSecureToken:!0}),r=await ps._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(r.user),r}class _h extends ys{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new _h(e,i,r,l)}}function mb(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(s,u,e,r):u})}async function lC(s,e,i=!1){const r=await Kl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ps._forOperation(s,"link",r)}async function uC(s,e,i=!1){const{auth:r}=s;if(Vn(r.app))return Promise.reject(Bi(r));const l="reauthenticate";try{const u=await Kl(s,mb(r,l,e,s),i);Se(u.idToken,r,"internal-error");const d=xg(u.idToken);Se(d,r,"internal-error");const{sub:g}=d;return Se(s.uid===g,r,"user-mismatch"),ps._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),u}}async function gb(s,e,i=!1){if(Vn(s.app))return Promise.reject(Bi(s));const r="signIn",l=await mb(s,r,e),u=await ps._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function cC(s,e){return gb(Es(s),e)}async function pb(s){const e=Es(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hC(s,e,i){const r=Es(s);await yh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",tC)}async function fC(s,e,i){if(Vn(s.app))return Promise.reject(Bi(s));const r=Es(s),d=await yh(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",db).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&pb(s),y}),g=await ps._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function dC(s,e,i){return Vn(s.app)?Promise.reject(Bi(s)):cC(Ft(s),To.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pb(s),r})}async function yb(s,e){const i=Ft(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:u}=await eC(i.auth,l);u!==s.email&&await s.reload()}function mC(s,e,i,r){return Ft(s).onIdTokenChanged(e,i,r)}function gC(s,e,i){return Ft(s).beforeAuthStateChanged(e,i)}function _b(s,e,i,r){return Ft(s).onAuthStateChanged(e,i,r)}function pC(s){return Ft(s).signOut()}const vh="__sak";class vb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const yC=1e3,_C=10;class Eb extends vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);VI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,_C):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},yC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Eb.type="LOCAL";const vC=Eb;class Tb extends vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Tb.type="SESSION";const bb=Tb;function EC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Gh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async p=>p(i.origin,u)),y=await EC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function Dg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class TC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=Dg("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const I=A;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(I.data.response);break;default:clearTimeout(b),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function qi(){return window}function bC(s){qi().location.href=s}function Sb(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function SC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AC(){return navigator?.serviceWorker?.controller||null}function wC(){return Sb()?self:null}const Ab="firebaseLocalStorageDb",RC=1,Eh="firebaseLocalStorage",wb="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Qh(s,e){return s.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function xC(){const s=indexedDB.deleteDatabase(Ab);return new ou(s).toPromise()}function Um(){const s=indexedDB.open(Ab,RC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Eh,{keyPath:wb})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Eh)?e(r):(r.close(),await xC(),e(await Um()))})})}async function V0(s,e,i){const r=Qh(s,!0).put({[wb]:e,value:i});return new ou(r).toPromise()}async function IC(s,e){const i=Qh(s,!1).get(e),r=await new ou(i).toPromise();return r===void 0?null:r.value}function M0(s,e){const i=Qh(s,!0).delete(e);return new ou(i).toPromise()}const CC=800,NC=3;class Rb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>NC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(wC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await SC(),!this.activeServiceWorker)return;this.sender=new TC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await V0(e,vh,"1"),await M0(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>V0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>IC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>M0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Qh(l,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rb.type="LOCAL";const DC=Rb;new su(3e4,6e4);function OC(s,e){return e?cs(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Og extends Cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ro(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function VC(s){return gb(s.auth,new Og(s),s.bypassAuthState)}function MC(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),uC(i,new Og(s),s.bypassAuthState)}async function kC(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),lC(i,new Og(s),s.bypassAuthState)}class xb{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VC;case"linkViaPopup":case"linkViaRedirect":return kC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:hi(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PC=new su(2e3,1e4);class Wa extends xb{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PC.get())};e()}}Wa.currentPopupAction=null;const jC="pendingRedirect",Wc=new Map;class LC extends xb{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await UC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function UC(s,e){const i=qC(e),r=BC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function zC(s,e){Wc.set(s._key(),e)}function BC(s){return cs(s._redirectPersistence)}function qC(s){return Zc(jC,s.config.apiKey,s.name)}async function HC(s,e,i=!1){if(Vn(s.app))return Promise.reject(Bi(s));const r=Es(s),l=OC(r,e),d=await new LC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const FC=600*1e3;class GC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Ib(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FC&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(e))}saveEventToCache(e){this.cachedEventUids.add(k0(e)),this.lastProcessedEventTime=Date.now()}}function k0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Ib({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function QC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ib(s);default:return!1}}async function KC(s,e={}){return vs(s,"GET","/v1/projects",e)}const YC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XC=/^https?/;async function $C(s){if(s.config.emulator)return;const{authorizedDomains:e}=await KC(s);for(const i of e)try{if(JC(i))return}catch{}hi(s,"unauthorized-domain")}function JC(s){const e=jm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!XC.test(i))return!1;if(YC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const ZC=new su(3e4,6e4);function P0(){const s=qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function WC(s){return new Promise((e,i)=>{function r(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),i(zi(s,"network-request-failed"))},timeout:ZC.get()})}if(qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(qi().gapi?.load)r();else{const l=qI("iframefcb");return qi()[l]=()=>{gapi.load?r():i(zi(s,"network-request-failed"))},lb(`${BI()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw eh=null,e})}let eh=null;function eN(s){return eh=eh||WC(s),eh}const tN=new su(5e3,15e3),nN="__/auth/iframe",iN="emulator/auth/iframe",sN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aN(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Rg(e,iN):`https://${s.config.authDomain}/${nN}`,r={apiKey:e.apiKey,appName:s.name,v:go},l=rN.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Jl(r).slice(1)}`}async function oN(s){const e=await eN(s),i=qi().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:aN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),g=qi().setTimeout(()=>{u(d)},tN.get());function y(){qi().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const lN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uN=500,cN=600,hN="_blank",fN="http://localhost";class j0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dN(s,e,i,r=uN,l=cN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...lN,width:r.toString(),height:l.toString(),top:u,left:d},p=cn().toLowerCase();i&&(g=tb(p)?hN:i),WT(p)&&(e=e||fN,y.scrollbars="yes");const b=Object.entries(y).reduce((I,[U,K])=>`${I}${U}=${K},`,"");if(OI(p)&&g!=="_self")return mN(e||"",g),new j0(null);const A=window.open(e||"",g,b);Se(A,s,"popup-blocked");try{A.focus()}catch{}return new j0(A)}function mN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const gN="__/auth/handler",pN="emulator/auth/handler",yN=encodeURIComponent("fac");async function L0(s,e,i,r,l,u){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:go,eventId:l};if(e instanceof fb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",O1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(e instanceof au){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await s._getAppCheckToken(),p=y?`#${yN}=${encodeURIComponent(y)}`:"";return`${_N(s)}?${Jl(g).slice(1)}${p}`}function _N({config:s}){return s.emulator?Rg(s,pN):`https://${s.authDomain}/${gN}`}const cm="webStorageSupport";class vN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bb,this._completeRedirectFn=HC,this._overrideRedirectResult=zC}async _openPopup(e,i,r,l){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await L0(e,i,r,jm(),l);return dN(e,u,Dg())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await L0(e,i,r,jm(),l);return bC(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(gs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await oN(e),r=new GC(e);return i.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(cm,{type:cm},l=>{const u=l?.[0]?.[cm];u!==void 0&&i(!!u),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$C(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return ab()||eb()||Ig()}}const EN=vN;var U0="@firebase/auth",z0="1.12.0";class TN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function bN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SN(s){ao(new na("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ob(s)},p=new LI(r,l,u,y);return YI(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ao(new na("auth-internal",e=>{const i=Es(e.getProvider("auth").getImmediate());return(r=>new TN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(U0,z0,bN(s)),cr(U0,z0,"esm2020")}const AN=300,wN=eE("authIdTokenMaxAge")||AN;let B0=null;const RN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>wN)return;const l=i?.token;B0!==l&&(B0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function xN(s=aE()){const e=Hm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=KI(s,{popupRedirectResolver:EN,persistence:[DC,vC,bb]}),r=eE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=RN(u.toString());gC(i,d,()=>d(i.currentUser)),mC(i,g=>d(g))}}const l=Z0("auth");return l&&XI(i,`http://${l}`),i}function IN(){return document.getElementsByTagName("head")?.[0]??document}UI({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=zi("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",IN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SN("Browser");function CN(){const s=localStorage.getItem("firebase_api_key"),e=localStorage.getItem("firebase_project_id"),i=localStorage.getItem("firebase_app_id"),r=localStorage.getItem("firebase_auth_domain")||void 0,l=localStorage.getItem("firebase_storage_bucket")||void 0,u=localStorage.getItem("firebase_messaging_sender_id")||void 0;return s&&e&&i?{apiKey:s,authDomain:r,projectId:e,storageBucket:l,messagingSenderId:u,appId:i}:null}let hm=null,xt=null,mn=null;const q0=CN();if(q0)try{hm=rE(q0),xt=Qx(hm),mn=xN(hm)}catch(s){console.error("Error initializing Firebase:",s)}const NN=(s,e)=>{if(!mn)throw new Error("Firebase not initialized");return dC(mn,s,e)},Cb=(s,e)=>{if(!mn)throw new Error("Firebase not initialized");return fC(mn,s,e)},DN=(s,e)=>{if(!mn)throw new Error("Firebase not initialized");return hC(mn,s)},ON=()=>{if(!mn)throw new Error("Firebase not initialized");return pC(mn)};async function Hc(){return mn?mn.currentUser?mn.currentUser:new Promise((s,e)=>{const i=_b(mn,r=>{r?(i(),s(r)):oC(mn).then(()=>{}).catch(()=>{i(),e(new Error("Authentication failed. Please enable 'Anonymous' sign-in method in Firebase Console -> Authentication."))})})}):null}function VN(s){if(!s.apiKey||!s.projectId||!s.appId)throw new Error("API Key, Project ID, and App ID are required.");localStorage.setItem("firebase_api_key",s.apiKey),localStorage.setItem("firebase_project_id",s.projectId),localStorage.setItem("firebase_app_id",s.appId),s.authDomain&&localStorage.setItem("firebase_auth_domain",s.authDomain),s.storageBucket&&localStorage.setItem("firebase_storage_bucket",s.storageBucket),s.messagingSenderId&&localStorage.setItem("firebase_messaging_sender_id",s.messagingSenderId),window.location.reload()}function MN(){localStorage.removeItem("firebase_api_key"),localStorage.removeItem("firebase_project_id"),localStorage.removeItem("firebase_app_id"),localStorage.removeItem("firebase_auth_domain"),localStorage.removeItem("firebase_storage_bucket"),localStorage.removeItem("firebase_messaging_sender_id"),window.location.reload()}function kN(){return!!xt}function PN({isOpen:s,onClose:e}){const[i,r]=de.useState(""),[l,u]=de.useState(""),[d,g]=de.useState(""),[y,p]=de.useState(""),[b,A]=de.useState(""),[I,U]=de.useState(""),[K,ee]=de.useState(!1);if(de.useEffect(()=>{s&&(r(localStorage.getItem("firebase_api_key")||""),u(localStorage.getItem("firebase_project_id")||""),g(localStorage.getItem("firebase_app_id")||""),p(localStorage.getItem("firebase_auth_domain")||""),A(localStorage.getItem("firebase_storage_bucket")||""),U(localStorage.getItem("firebase_messaging_sender_id")||""),ee(kN()))},[s]),!s)return null;const W=Y=>{Y.preventDefault();try{VN({apiKey:i,projectId:l,appId:d,authDomain:y,storageBucket:b,messagingSenderId:I})}catch(te){alert(te.message)}},pe=()=>{confirm("Are you sure you want to disconnect Firebase and return to Demo Mode?")&&MN()};return E.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:E.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[E.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:E.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:e})}),E.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),E.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[E.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:E.jsxs("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:e,children:[E.jsx("span",{className:"sr-only",children:"Close"}),E.jsx(Xl,{className:"h-6 w-6"})]})}),E.jsxs("div",{className:"sm:flex sm:items-start",children:[E.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10",children:E.jsx(F0,{className:"h-6 w-6 text-blue-600"})}),E.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[E.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Database Settings"}),E.jsxs("form",{onSubmit:W,className:"space-y-4",children:[E.jsx("p",{className:"text-sm text-gray-500",children:"Enter your Firebase Project configuration."}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"API Key *"}),E.jsx("input",{type:"text",required:!0,value:i,onChange:Y=>r(Y.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Project ID *"}),E.jsx("input",{type:"text",required:!0,value:l,onChange:Y=>u(Y.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"App ID *"}),E.jsx("input",{type:"text",required:!0,value:d,onChange:Y=>g(Y.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("details",{className:"text-xs text-gray-500",children:[E.jsx("summary",{className:"cursor-pointer mb-2",children:"Advanced (Optional)"}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Auth Domain"}),E.jsx("input",{type:"text",value:y,onChange:Y=>p(Y.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Storage Bucket"}),E.jsx("input",{type:"text",value:b,onChange:Y=>A(Y.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Messaging Sender ID"}),E.jsx("input",{type:"text",value:I,onChange:Y=>U(Y.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]})]})]}),E.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-2",children:[E.jsxs("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:[E.jsx(qA,{className:"mr-2 h-4 w-4"})," Save"]}),K&&E.jsxs("button",{type:"button",onClick:pe,className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:w-auto sm:text-sm",children:[E.jsx(zA,{className:"mr-2 h-4 w-4"})," Reset"]})]})]})]})]})]})]})})}function jN({isOpen:s,onClose:e,contacts:i,pageSize:r,orientation:l,onPrint:u}){return s?E.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:E.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[E.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:E.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:e})}),E.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),E.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[E.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 border-b border-gray-200",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Print Preview"}),E.jsxs("button",{onClick:e,className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[E.jsx("span",{className:"sr-only",children:"Close"}),E.jsx(Xl,{className:"h-6 w-6"})]})]}),E.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Settings: ",r," - ",l]})]}),E.jsx("div",{className:"bg-gray-50 p-6 h-[60vh] overflow-y-auto",children:E.jsx("div",{className:"mx-auto bg-white shadow-lg origin-top transform scale-75 sm:scale-100 transition-transform",children:E.jsx(zm,{contacts:i,pageSize:r,orientation:l})})}),E.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse border-t border-gray-200",children:[E.jsxs("button",{type:"button",onClick:u,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:[E.jsx(G0,{className:"mr-2 h-4 w-4"}),"Print"]}),E.jsx("button",{type:"button",onClick:e,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})]})]})]})}):null}function LN({isOpen:s,onClose:e}){const[i,r]=de.useState("invite"),[l,u]=de.useState(""),[d,g]=de.useState("user"),[y,p]=de.useState(!1),[b,A]=de.useState(""),[I,U]=de.useState(""),[K,ee]=de.useState({admins:0,users:0}),[W,pe]=de.useState([]);de.useEffect(()=>{s&&(Y(),te())},[s]);const Y=async()=>{if(xt)try{const ue=Wr(xt,"users"),ye=er(ue,tr("role","==","admin")),C=er(ue,tr("role","==","user")),[w,R]=await Promise.all([lm(ye),lm(C)]);ee({admins:w.data().count,users:R.data().count})}catch(ue){console.error("Error fetching stats:",ue)}},te=async()=>{if(xt)try{const ue=Wr(xt,"invites"),ye=er(ue),w=(await no(ye)).docs.map(R=>({id:R.id,...R.data()}));pe(w)}catch(ue){console.error("Error fetching invites:",ue)}},ce=async ue=>{if(ue.preventDefault(),!xt){A("User management is not available in Demo Mode.");return}A(""),U(""),p(!0);try{const ye=Wr(xt,"invites"),C=Wr(xt,"users"),w=er(ye,tr("role","==",d),tr("status","==","pending")),V=(await lm(w)).data().count;if(d==="admin"){if(K.admins+V>=3)throw new Error("Maximum limit of 3 Admins reached (including pending invites).")}else if(K.users+V>=5)throw new Error("Maximum limit of 5 Users reached (including pending invites).");const D=er(ye,tr("email","==",l));if(!(await no(D)).empty)throw new Error("This email has already been invited.");const x=er(C,tr("email","==",l));if(!(await no(x)).empty)throw new Error("User with this email already exists.");await FT(ye,{email:l,role:d,status:"pending",createdAt:new Date().toISOString()}),U(`Invitation sent to ${l}`),u(""),te()}catch(ye){A(ye.message)}finally{p(!1)}};return s?E.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:E.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[E.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:E.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:e})}),E.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),E.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",children:E.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-5",children:[E.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"User Management"}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:E.jsx(Xl,{className:"h-6 w-6"})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[E.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-center",children:[E.jsx("span",{className:"block text-xs text-blue-600 font-semibold uppercase",children:"Admins"}),E.jsxs("span",{className:"block text-2xl font-bold text-blue-900",children:[K.admins," / 3"]})]}),E.jsxs("div",{className:"bg-green-50 p-3 rounded-lg text-center",children:[E.jsx("span",{className:"block text-xs text-green-600 font-semibold uppercase",children:"Users"}),E.jsxs("span",{className:"block text-2xl font-bold text-green-900",children:[K.users," / 5"]})]})]}),E.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-6",children:[E.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Invite New User"}),E.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Ll,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"email",required:!0,value:l,onChange:ue=>u(ue.target.value),className:"block w-full pl-10 border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border",placeholder:"colleague@example.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),E.jsxs("select",{value:d,onChange:ue=>g(ue.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:[E.jsx("option",{value:"user",children:"User (View & Add)"}),E.jsx("option",{value:"admin",children:"Admin (Full Access)"})]})]}),b&&E.jsx("p",{className:"text-sm text-red-600",children:b}),I&&E.jsx("p",{className:"text-sm text-green-600",children:I}),E.jsx("button",{type:"submit",disabled:y,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:opacity-50",children:y?"Sending Invite...":"Send Invite"})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Recent Invites"}),E.jsx("div",{className:"bg-gray-50 rounded-md overflow-hidden max-h-40 overflow-y-auto",children:W.length===0?E.jsx("p",{className:"text-sm text-gray-500 p-4 text-center",children:"No invites sent yet."}):E.jsx("ul",{className:"divide-y divide-gray-200",children:W.map(ue=>E.jsx("li",{className:"px-4 py-3 flex items-center justify-between",children:E.jsxs("div",{className:"flex items-center",children:[ue.role==="admin"?E.jsx(YA,{className:"h-4 w-4 text-blue-500 mr-2"}):E.jsx(Q0,{className:"h-4 w-4 text-green-500 mr-2"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-gray-900",children:ue.email}),E.jsx("p",{className:"text-xs text-gray-500 capitalize",children:ue.status})]})]})},ue.id))})})]})]})})]})}):null}function UN({onBackToLogin:s}){const[e,i]=de.useState(""),[r,l]=de.useState(""),[u,d]=de.useState(""),[g,y]=de.useState(""),[p,b]=de.useState(""),[A,I]=de.useState(!1),U=async K=>{if(K.preventDefault(),y(""),I(!0),r!==u){y("Passwords do not match"),I(!1);return}try{const W=(await Cb(e,r)).user,pe=Wr(xt,"invites"),Y=er(pe,tr("email","==",e),tr("status","==","pending")),te=await no(Y);if(te.empty)throw await W.delete(),new Error("This email has not been invited. Please ask an administrator for an invitation.");const ce=te.docs[0],ue=ce.data();await yb(W),await Pm(ms(xt,"users",W.uid),{email:W.email,role:ue.role,createdAt:new Date().toISOString()}),await HT(ms(xt,"invites",ce.id),{status:"accepted",acceptedAt:new Date().toISOString(),userId:W.uid}),b("Account created successfully! Please check your email for verification before logging in.")}catch(ee){console.error(ee),ee.code==="auth/email-already-in-use"?y("An account with this email already exists."):y(ee.message||"Failed to create account")}finally{I(!1)}};return p?E.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:E.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:E.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[E.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:E.jsx(Ll,{className:"h-6 w-6 text-green-600"})}),E.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Registration Successful"}),E.jsx("div",{className:"mt-2 px-7 py-3",children:E.jsx("p",{className:"text-sm text-gray-500",children:p})}),E.jsx("div",{className:"mt-5 sm:mt-6",children:E.jsx("button",{type:"button",onClick:s,className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm",children:"Back to Sign In"})})]})})}):E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("img",{src:bh,alt:"Logo",className:"w-20 h-20 rounded-xl object-contain"})}),E.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create Account"}),E.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your invited email address to sign up."})]}),E.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:E.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[E.jsxs("form",{className:"space-y-6",onSubmit:U,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Ll,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:K=>i(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"you@example.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:K=>l(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:u,onChange:K=>d(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),g&&E.jsx("div",{className:"rounded-md bg-red-50 p-4",children:E.jsx("div",{className:"flex",children:E.jsx("div",{className:"ml-3",children:E.jsx("h3",{className:"text-sm font-medium text-red-800",children:g})})})}),E.jsx("div",{children:E.jsx("button",{type:"submit",disabled:A,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:A?"Registering...":"Register"})})]}),E.jsxs("div",{className:"mt-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-sm",children:E.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),E.jsx("div",{className:"mt-6",children:E.jsx("button",{onClick:s,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign in"})})]})]})})]})}function zN(){const[s,e]=de.useState(!1),[i,r]=de.useState(""),[l,u]=de.useState(""),[d,g]=de.useState(""),[y,p]=de.useState(""),[b,A]=de.useState(!1),I=async K=>{K.preventDefault(),g(""),p(""),A(!0);try{await NN(i,l)}catch(ee){ee.code==="auth/invalid-credential"?g("Invalid email or password."):ee.code==="auth/too-many-requests"?g("Too many failed attempts. Please try again later."):g("Failed to sign in. Please check your connection.")}finally{A(!1)}},U=async()=>{if(!i){g("Please enter your email address to reset password.");return}g(""),p("");try{await DN(i),p("Password reset email sent! Check your inbox.")}catch(K){g(K.message)}};return s?E.jsx(UN,{onBackToLogin:()=>e(!1)}):E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("img",{src:bh,alt:"Logo",className:"w-20 h-20 rounded-xl object-contain"})}),E.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Address Label Printer"})]}),E.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:E.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[E.jsxs("form",{className:"space-y-6",onSubmit:I,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Ll,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:i,onChange:K=>r(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"you@example.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:l,onChange:K=>u(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("div",{className:"text-sm",children:E.jsx("button",{type:"button",onClick:U,className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none",children:"Forgot your password?"})})}),d&&E.jsx("div",{className:"rounded-md bg-red-50 p-4",children:E.jsx("div",{className:"flex",children:E.jsx("div",{className:"ml-3",children:E.jsx("h3",{className:"text-sm font-medium text-red-800",children:d})})})}),y&&E.jsx("div",{className:"rounded-md bg-green-50 p-4",children:E.jsx("div",{className:"flex",children:E.jsx("div",{className:"ml-3",children:E.jsx("h3",{className:"text-sm font-medium text-green-800",children:y})})})}),E.jsx("div",{children:E.jsx("button",{type:"submit",disabled:b,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:b?"Signing in...":"Sign in"})})]}),E.jsxs("div",{className:"mt-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-sm",children:E.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Received an invitation?"})})]}),E.jsx("div",{className:"mt-6",children:E.jsx("button",{onClick:()=>e(!0),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Account"})})]})]})})]})}function BN({onSetupComplete:s}){const[e,i]=de.useState(""),[r,l]=de.useState(""),[u,d]=de.useState(""),[g,y]=de.useState(""),[p,b]=de.useState(!1),A=async I=>{if(I.preventDefault(),y(""),b(!0),r!==u){y("Passwords do not match"),b(!1);return}try{const K=(await Cb(e,r)).user;await Pm(ms(xt,"users",K.uid),{email:K.email,role:"admin",createdAt:new Date().toISOString()}),await Pm(ms(xt,"system","setup"),{completed:!0,setupAt:new Date().toISOString(),adminEmail:K.email}),s()}catch(U){console.error(U),y(U.message||"Failed to create admin account")}finally{b(!1)}};return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("img",{src:bh,alt:"Logo",className:"w-20 h-20 rounded-xl object-contain"})}),E.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"First Time Setup"}),E.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Create the first Administrator account to get started."})]}),E.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:E.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:E.jsxs("form",{className:"space-y-6",onSubmit:A,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Ll,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:I=>i(I.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"admin@example.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:I=>l(I.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:u,onChange:I=>d(I.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),g&&E.jsx("div",{className:"rounded-md bg-red-50 p-4",children:E.jsx("div",{className:"flex",children:E.jsx("div",{className:"ml-3",children:E.jsx("h3",{className:"text-sm font-medium text-red-800",children:g})})})}),E.jsx("div",{children:E.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:p?"Creating...":"Create Admin Account"})})]})})})]})}function qN(){const[s,e]=de.useState([]),[i,r]=de.useState(!0),[l,u]=de.useState(null),d=!xt;de.useEffect(()=>{async function b(){r(!0);try{if(d){const A=JSON.parse(localStorage.getItem("demo_contacts")||"[]");e(A)}else{await Hc();const A=Wr(xt,"contacts");try{const I=er(A,rI("created_at","desc")),K=(await no(I)).docs.map(ee=>({id:ee.id,...ee.data()}));e(K)}catch(I){console.warn("Index missing or error, fetching without sort:",I);const K=(await no(A)).docs.map(ee=>({id:ee.id,...ee.data()}));K.sort((ee,W)=>new Date(W.created_at)-new Date(ee.created_at)),e(K)}}}catch(A){console.error("Error fetching contacts:",A),u(A.message)}finally{r(!1)}}b()},[d]);async function g(b){try{const A={...b,created_at:new Date().toISOString()};if(d){const I={id:crypto.randomUUID(),...A},U=[I,...s];return e(U),localStorage.setItem("demo_contacts",JSON.stringify(U)),I}else{await Hc();const U={id:(await FT(Wr(xt,"contacts"),A)).id,...A};return e([U,...s]),U}}catch(A){throw u(A.message),A}}async function y(b){try{if(d){const A=s.filter(I=>I.id!==b);e(A),localStorage.setItem("demo_contacts",JSON.stringify(A))}else await Hc(),await uI(ms(xt,"contacts",b)),e(s.filter(A=>A.id!==b))}catch(A){throw u(A.message),A}}async function p(b,A){try{if(d){const I=s.map(U=>U.id===b?{...U,...A}:U);e(I),localStorage.setItem("demo_contacts",JSON.stringify(I))}else{await Hc();const I=ms(xt,"contacts",b);await HT(I,A),e(s.map(U=>U.id===b?{...U,...A}:U))}}catch(I){throw u(I.message),I}}return{contacts:s,loading:i,error:l,addContact:g,deleteContact:y,updateContact:p,isDemo:d}}const HN=["A3","A4","A5","Letter","Legal"],FN=["portrait","landscape"];function GN(){const{contacts:s,loading:e,isDemo:i,addContact:r,updateContact:l,deleteContact:u}=qN(),[d,g]=de.useState(!1),[y,p]=de.useState(!1),[b,A]=de.useState(!1),[I,U]=de.useState(!1),[K,ee]=de.useState(null),[W,pe]=de.useState(""),[Y,te]=de.useState(null),[ce,ue]=de.useState(!0),[ye,C]=de.useState(!1),[w,R]=de.useState(new Set),[V,D]=de.useState("A5"),[k,x]=de.useState("landscape");de.useEffect(()=>{if(i){ue(!1);return}(async()=>{try{const Qe=ms(xt,"system","setup"),Ct=await b0(Qe);C(!Ct.exists())}catch(Qe){console.error("Error checking setup:",Qe),C(!1)}})();const je=_b(mn,async Qe=>{if(Qe){const Ct=await b0(ms(xt,"users",Qe.uid));Ct.exists()?te({...Qe,role:Ct.data().role}):te({...Qe,role:"admin"})}else te(null);ue(!1)});return()=>je()},[i]);const Ve=de.useRef(),Xe=n1.useReactToPrint({contentRef:Ve,documentTitle:"Contact-Labels",onAfterPrint:()=>U(!1)}),H=s.filter(fe=>fe.name.toLowerCase().includes(W.toLowerCase())||fe.phone?.includes(W)),re=(fe,je)=>{const Qe=new Set(w);je?Qe.add(fe):Qe.delete(fe),R(Qe)},me=()=>{w.size===H.length?R(new Set):R(new Set(H.map(fe=>fe.id)))},Me=()=>{R(new Set)},De=s.filter(fe=>w.has(fe.id)),O=async()=>{i||await ON(),te(null)};if(e||ce)return E.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:E.jsx(fm,{className:"animate-spin text-blue-600",size:32})});if(ye&&!i&&!Y)return E.jsx(BN,{onSetupComplete:()=>C(!1)});if(!Y&&!i)return E.jsx(zN,{});if(Y&&!Y.emailVerified&&!i)return E.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4",children:E.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email Verification Required"}),E.jsxs("p",{className:"text-gray-600 mb-6",children:["Please check your email (",Y.email,") and click the verification link to access the application."]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"I have verified my email"}),E.jsx("button",{onClick:async()=>{try{await yb(Y),alert("Verification email sent!")}catch(fe){alert(fe.message)}},className:"w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-50 transition-colors",children:"Resend Verification Email"}),E.jsx("button",{onClick:O,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Sign Out"})]})]})});const Q=i?{role:"admin"}:Y,ie=Q.role==="admin",ne=Q.role==="admin",oe=()=>{ee(null),g(!0)},Ee=fe=>{ee(fe),g(!0)},we=async fe=>{K?await l(K.id,fe):await r(fe)};return E.jsxs(s1,{isDemo:i,onLogout:O,onSetupClick:()=>p(!0),onUserManagementClick:()=>A(!0),isAdmin:ie,children:[E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center mb-8",children:[E.jsxs("div",{className:"relative w-full sm:w-96",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(FA,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-shadow shadow-sm",placeholder:"Search contacts...",value:W,onChange:fe=>pe(fe.target.value)})]}),E.jsxs("div",{className:"flex flex-wrap gap-3 w-full sm:w-auto justify-end",children:[w.size>0&&E.jsxs(E.Fragment,{children:[E.jsx("select",{value:V,onChange:fe=>D(fe.target.value),className:"block w-full sm:w-auto pl-3 pr-8 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-lg shadow-sm",children:HN.map(fe=>E.jsx("option",{value:fe,children:fe},fe))}),E.jsx("select",{value:k,onChange:fe=>x(fe.target.value),className:"block w-full sm:w-auto pl-3 pr-8 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-lg shadow-sm capitalize",children:FN.map(fe=>E.jsx("option",{value:fe,children:fe.charAt(0).toUpperCase()+fe.slice(1)},fe))}),E.jsx("button",{onClick:Me,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",title:"Clear Selection",children:E.jsx(Xl,{className:"h-5 w-5"})}),E.jsxs("button",{onClick:()=>U(!0),className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",children:[E.jsx(wA,{className:"mr-2 h-5 w-5"}),"Preview"]}),E.jsxs("button",{onClick:Xe,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",children:[E.jsx(G0,{className:"mr-2 h-5 w-5"}),"Print (",w.size,")"]})]}),E.jsx("button",{onClick:()=>p(!0),className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",children:E.jsx(QA,{className:"h-5 w-5"})}),E.jsxs("button",{onClick:oe,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all hover:scale-[1.02]",children:[E.jsx(cv,{className:"mr-2 h-5 w-5"}),"New Contact"]})]})]}),E.jsx("div",{className:"flex justify-end mb-4",children:E.jsx("button",{onClick:me,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:w.size===H.length?"Deselect All":"Select All"})}),e?E.jsx("div",{className:"flex justify-center items-center h-64",children:E.jsx(fm,{className:"animate-spin text-blue-600",size:32})}):H.length>0?E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(fe=>E.jsx(r1,{contact:fe,onEdit:Ee,onDelete:u,canEdit:ie,canDelete:ne,onSelect:re,isSelected:w.has(fe.id)},fe.id))}):E.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:[E.jsx("div",{className:"mx-auto h-12 w-12 text-gray-300",children:E.jsx(K0,{size:48,strokeWidth:1})}),E.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No contacts found"}),E.jsx("p",{className:"mt-1 text-sm text-gray-500",children:W?"Try adjusting your search terms.":"Get started by creating a new contact."}),!W&&E.jsx("div",{className:"mt-6",children:E.jsxs("button",{onClick:oe,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[E.jsx(cv,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add Contact"]})})]}),E.jsx(a1,{isOpen:d,onClose:()=>g(!1),onSubmit:we,initialData:K}),E.jsx(PN,{isOpen:y,onClose:()=>p(!1)}),E.jsx(LN,{isOpen:b,onClose:()=>A(!1)}),E.jsx(jN,{isOpen:I,onClose:()=>U(!1),contacts:De,pageSize:V,orientation:k,onPrint:Xe}),E.jsx("div",{style:{display:"none"},children:E.jsx(zm,{ref:Ve,contacts:De,pageSize:V,orientation:k})})]})}yA.createRoot(document.getElementById("root")).render(E.jsx(de.StrictMode,{children:E.jsx(GN,{})}));
