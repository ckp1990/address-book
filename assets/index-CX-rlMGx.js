(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function lA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Kd={exports:{}},Sl={};var iv;function uA(){if(iv)return Sl;iv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:u}}return Sl.Fragment=e,Sl.jsx=i,Sl.jsxs=i,Sl}var sv;function cA(){return sv||(sv=1,Kd.exports=uA()),Kd.exports}var E=cA(),Yd={exports:{}},Ie={};var rv;function hA(){if(rv)return Ie;rv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),R=Symbol.iterator;function j(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,K={};function ue(O,X,ie){this.props=O,this.context=X,this.refs=K,this.updater=ie||$}ue.prototype.isReactComponent={},ue.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},ue.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function G(){}G.prototype=ue.prototype;function Y(O,X,ie){this.props=O,this.context=X,this.refs=K,this.updater=ie||$}var le=Y.prototype=new G;le.constructor=Y,te(le,ue.prototype),le.isPureReactComponent=!0;var ve=Array.isArray;function pe(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(O,X,ie){var ne=ie.ref;return{$$typeof:s,type:O,key:X,ref:ne!==void 0?ne:null,props:ie}}function V(O,X){return I(O.type,X,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function k(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return X[ie]})}var C=/\/+/g;function Ce(O,X){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):X.toString(36)}function $e(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(pe,pe):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,X,ie,ne,ce){var Ee=typeof O;(Ee==="undefined"||Ee==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ee){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case s:case e:we=!0;break;case T:return we=O._init,F(we(O._payload),X,ie,ne,ce)}}if(we)return ce=ce(O),we=ne===""?"."+Ce(O,0):ne,ve(ce)?(ie="",we!=null&&(ie=we.replace(C,"$&/")+"/"),F(ce,X,ie,"",function(Ze){return Ze})):ce!=null&&(D(ce)&&(ce=V(ce,ie+(ce.key==null||O&&O.key===ce.key?"":(""+ce.key).replace(C,"$&/")+"/")+we)),X.push(ce)),1;we=0;var de=ne===""?".":ne+":";if(ve(O))for(var ke=0;ke<O.length;ke++)ne=O[ke],Ee=de+Ce(ne,ke),we+=F(ne,X,ie,Ee,ce);else if(ke=j(O),typeof ke=="function")for(O=ke.call(O),ke=0;!(ne=O.next()).done;)ne=ne.value,Ee=de+Ce(ne,ke++),we+=F(ne,X,ie,Ee,ce);else if(Ee==="object"){if(typeof O.then=="function")return F($e(O),X,ie,ne,ce);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return we}function re(O,X,ie){if(O==null)return O;var ne=[],ce=0;return F(O,ne,"","",function(Ee){return X.call(ie,Ee,ce++)}),ne}function me(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ve={map:re,forEach:function(O,X,ie){re(O,function(){X.apply(this,arguments)},ie)},count:function(O){var X=0;return re(O,function(){X++}),X},toArray:function(O){return re(O,function(X){return X})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ie.Activity=A,Ie.Children=Ve,Ie.Component=ue,Ie.Fragment=i,Ie.Profiler=l,Ie.PureComponent=Y,Ie.StrictMode=r,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(O,X,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ne=te({},O.props),ce=O.key;if(X!=null)for(Ee in X.key!==void 0&&(ce=""+X.key),X)!w.call(X,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&X.ref===void 0||(ne[Ee]=X[Ee]);var Ee=arguments.length-2;if(Ee===1)ne.children=ie;else if(1<Ee){for(var we=Array(Ee),de=0;de<Ee;de++)we[de]=arguments[de+2];ne.children=we}return I(O.type,ce,ne)},Ie.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ie.createElement=function(O,X,ie){var ne,ce={},Ee=null;if(X!=null)for(ne in X.key!==void 0&&(Ee=""+X.key),X)w.call(X,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=X[ne]);var we=arguments.length-2;if(we===1)ce.children=ie;else if(1<we){for(var de=Array(we),ke=0;ke<we;ke++)de[ke]=arguments[ke+2];ce.children=de}if(O&&O.defaultProps)for(ne in we=O.defaultProps,we)ce[ne]===void 0&&(ce[ne]=we[ne]);return I(O,Ee,ce)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:g,render:O}},Ie.isValidElement=D,Ie.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:me}},Ie.memo=function(O,X){return{$$typeof:p,type:O,compare:X===void 0?null:X}},Ie.startTransition=function(O){var X=x.T,ie={};x.T=ie;try{var ne=O(),ce=x.S;ce!==null&&ce(ie,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(pe,Oe)}catch(Ee){Oe(Ee)}finally{X!==null&&ie.types!==null&&(X.types=ie.types),x.T=X}},Ie.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Ie.use=function(O){return x.H.use(O)},Ie.useActionState=function(O,X,ie){return x.H.useActionState(O,X,ie)},Ie.useCallback=function(O,X){return x.H.useCallback(O,X)},Ie.useContext=function(O){return x.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,X){return x.H.useDeferredValue(O,X)},Ie.useEffect=function(O,X){return x.H.useEffect(O,X)},Ie.useEffectEvent=function(O){return x.H.useEffectEvent(O)},Ie.useId=function(){return x.H.useId()},Ie.useImperativeHandle=function(O,X,ie){return x.H.useImperativeHandle(O,X,ie)},Ie.useInsertionEffect=function(O,X){return x.H.useInsertionEffect(O,X)},Ie.useLayoutEffect=function(O,X){return x.H.useLayoutEffect(O,X)},Ie.useMemo=function(O,X){return x.H.useMemo(O,X)},Ie.useOptimistic=function(O,X){return x.H.useOptimistic(O,X)},Ie.useReducer=function(O,X,ie){return x.H.useReducer(O,X,ie)},Ie.useRef=function(O){return x.H.useRef(O)},Ie.useState=function(O){return x.H.useState(O)},Ie.useSyncExternalStore=function(O,X,ie){return x.H.useSyncExternalStore(O,X,ie)},Ie.useTransition=function(){return x.H.useTransition()},Ie.version="19.2.3",Ie}var av;function Th(){return av||(av=1,Yd.exports=hA()),Yd.exports}var ae=Th();const fA=lA(ae);var Xd={exports:{}},Al={},$d={exports:{}},Zd={};var ov;function dA(){return ov||(ov=1,(function(s){function e(F,re){var me=F.length;F.push(re);e:for(;0<me;){var Oe=me-1>>>1,Ve=F[Oe];if(0<l(Ve,re))F[Oe]=re,F[me]=Ve,me=Oe;else break e}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var re=F[0],me=F.pop();if(me!==re){F[0]=me;e:for(var Oe=0,Ve=F.length,O=Ve>>>1;Oe<O;){var X=2*(Oe+1)-1,ie=F[X],ne=X+1,ce=F[ne];if(0>l(ie,me))ne<Ve&&0>l(ce,ie)?(F[Oe]=ce,F[ne]=me,Oe=ne):(F[Oe]=ie,F[X]=me,Oe=X);else if(ne<Ve&&0>l(ce,me))F[Oe]=ce,F[ne]=me,Oe=ne;else break e}}return re}function l(F,re){var me=F.sortIndex-re.sortIndex;return me!==0?me:F.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],p=[],T=1,A=null,R=3,j=!1,$=!1,te=!1,K=!1,ue=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function le(F){for(var re=i(p);re!==null;){if(re.callback===null)r(p);else if(re.startTime<=F)r(p),re.sortIndex=re.expirationTime,e(y,re);else break;re=i(p)}}function ve(F){if(te=!1,le(F),!$)if(i(y)!==null)$=!0,pe||(pe=!0,k());else{var re=i(p);re!==null&&$e(ve,re.startTime-F)}}var pe=!1,x=-1,w=5,I=-1;function V(){return K?!0:!(s.unstable_now()-I<w)}function D(){if(K=!1,pe){var F=s.unstable_now();I=F;var re=!0;try{e:{$=!1,te&&(te=!1,G(x),x=-1),j=!0;var me=R;try{t:{for(le(F),A=i(y);A!==null&&!(A.expirationTime>F&&V());){var Oe=A.callback;if(typeof Oe=="function"){A.callback=null,R=A.priorityLevel;var Ve=Oe(A.expirationTime<=F);if(F=s.unstable_now(),typeof Ve=="function"){A.callback=Ve,le(F),re=!0;break t}A===i(y)&&r(y),le(F)}else r(y);A=i(y)}if(A!==null)re=!0;else{var O=i(p);O!==null&&$e(ve,O.startTime-F),re=!1}}break e}finally{A=null,R=me,j=!1}re=void 0}}finally{re?k():pe=!1}}}var k;if(typeof Y=="function")k=function(){Y(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ce=C.port2;C.port1.onmessage=D,k=function(){Ce.postMessage(null)}}else k=function(){ue(D,0)};function $e(F,re){x=ue(function(){F(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return R},s.unstable_next=function(F){switch(R){case 1:case 2:case 3:var re=3;break;default:re=R}var me=R;R=re;try{return F()}finally{R=me}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(F,re){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var me=R;R=F;try{return re()}finally{R=me}},s.unstable_scheduleCallback=function(F,re,me){var Oe=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Oe+me:Oe):me=Oe,F){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=me+Ve,F={id:T++,callback:re,priorityLevel:F,startTime:me,expirationTime:Ve,sortIndex:-1},me>Oe?(F.sortIndex=me,e(p,F),i(y)===null&&F===i(p)&&(te?(G(x),x=-1):te=!0,$e(ve,me-Oe))):(F.sortIndex=Ve,e(y,F),$||j||($=!0,pe||(pe=!0,k()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var re=R;return function(){var me=R;R=re;try{return F.apply(this,arguments)}finally{R=me}}}})(Zd)),Zd}var lv;function mA(){return lv||(lv=1,$d.exports=dA()),$d.exports}var Jd={exports:{}},an={};var uv;function gA(){if(uv)return an;uv=1;var s=Th();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(y,p,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:y,containerInfo:p,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(y,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(y,p,null,T)},an.flushSync=function(y){var p=d.T,T=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=p,r.p=T,r.d.f()}},an.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(y,p))},an.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},an.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var T=p.as,A=g(T,p.crossOrigin),R=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?r.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:j}):T==="script"&&r.d.X(y,{crossOrigin:A,integrity:R,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(y)},an.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,A=g(T,p.crossOrigin);r.d.L(y,T,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(y,p){if(typeof y=="string")if(p){var T=g(p.as,p.crossOrigin);r.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(y)},an.requestFormReset=function(y){r.d.r(y)},an.unstable_batchedUpdates=function(y,p){return y(p)},an.useFormState=function(y,p,T){return d.H.useFormState(y,p,T)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var cv;function pA(){if(cv)return Jd.exports;cv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=gA(),Jd.exports}var hv;function yA(){if(hv)return Al;hv=1;var s=mA(),e=Th(),i=pA();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),t;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var _=!1,b=h.child;b;){if(b===a){_=!0,a=h,o=f;break}if(b===o){_=!0,o=h,a=f;break}b=b.sibling}if(!_){for(b=f.child;b;){if(b===a){_=!0,a=f,o=h;break}if(b===o){_=!0,o=f,a=h;break}b=b.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,R=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case ue:return"Profiler";case K:return"StrictMode";case ve:return"Suspense";case pe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case $:return"Portal";case Y:return t.displayName||"Context";case G:return(t._context.displayName||"Context")+".Consumer";case le:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Ce(t.type)||"Memo";case w:n=t._payload,t=t._init;try{return Ce(t(n))}catch{}}return null}var $e=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Oe=[],Ve=-1;function O(t){return{current:t}}function X(t){0>Ve||(t.current=Oe[Ve],Oe[Ve]=null,Ve--)}function ie(t,n){Ve++,Oe[Ve]=t.current,t.current=n}var ne=O(null),ce=O(null),Ee=O(null),we=O(null);function de(t,n){switch(ie(Ee,n),ie(ce,t),ie(ne,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?R_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=R_(n),t=x_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ne),ie(ne,t)}function ke(){X(ne),X(ce),X(Ee)}function Ze(t){t.memoizedState!==null&&ie(we,t);var n=ne.current,a=x_(n,t.type);n!==a&&(ie(ce,t),ie(ne,a))}function pt(t){ce.current===t&&(X(ne),X(ce)),we.current===t&&(X(we),vl._currentValue=me)}var Le,Te;function ct(t){if(Le===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Le=n&&n[1]||"",Te=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+t+Te}var Qe=!1;function rt(t,n){if(!t||Qe)return"";Qe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(H){var B=H}Reflect.construct(t,[],W)}else{try{W.call()}catch(H){B=H}t.call(W.prototype)}}else{try{throw Error()}catch(H){B=H}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],b=f[1];if(_&&b){var N=_.split(`
`),z=b.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var Q=`
`+N[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Qe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ct(a):""}function Et(t,n){switch(t.tag){case 26:case 27:case 5:return ct(t.type);case 16:return ct("Lazy");case 13:return t.child!==n&&n!==null?ct("Suspense Fallback"):ct("Suspense");case 19:return ct("SuspenseList");case 0:case 15:return rt(t.type,!1);case 11:return rt(t.type.render,!1);case 1:return rt(t.type,!0);case 31:return ct("Activity");default:return""}}function rn(t){try{var n="",a=null;do n+=Et(t,a),a=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ke=Object.prototype.hasOwnProperty,tt=s.unstable_scheduleCallback,fi=s.unstable_cancelCallback,Yh=s.unstable_shouldYield,lu=s.unstable_requestPaint,hn=s.unstable_now,br=s.unstable_getCurrentPriorityLevel,To=s.unstable_ImmediatePriority,So=s.unstable_UserBlockingPriority,vs=s.unstable_NormalPriority,Xh=s.unstable_LowPriority,uu=s.unstable_IdlePriority,cu=s.log,hu=s.unstable_setDisableYieldValue,Zn=null,Xt=null;function Mn(t){if(typeof cu=="function"&&hu(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Zn,t)}catch{}}var St=Math.clz32?Math.clz32:du,fu=Math.log,ua=Math.LN2;function du(t){return t>>>=0,t===0?32:31-(fu(t)/ua|0)|0}var di=256,Tr=262144,Nt=4194304;function mi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=mi(o):(_&=b,_!==0?h=mi(_):a||(a=b&~t,a!==0&&(h=mi(a))))):(b=o&~f,b!==0?h=mi(b):_!==0?h=mi(_):a||(a=o&~t,a!==0&&(h=mi(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Jn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function $h(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mu(){var t=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),t}function pi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Sr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Zh(t,n,a,o,h,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-St(a),W=1<<Q;b[Q]=0,N[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}a&=~W}o!==0&&Ar(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Ar(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-St(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ao(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-St(a),h=1<<o;h&n|t[o]&n&&(t[o]|=n),a&=~h}}function wo(t,n){var a=n&-n;return a=(a&42)!==0?1:wr(a),(a&(t.suspendedLanes|n))!==0?0:a}function wr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gu(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:$_(t.type))}function Wn(t,n){var a=re.p;try{return re.p=t,n()}finally{re.p=a}}var ei=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ei,Gt="__reactProps$"+ei,yi="__reactContainer$"+ei,ca="__reactEvents$"+ei,Jh="__reactListeners$"+ei,pu="__reactHandles$"+ei,yu="__reactResources$"+ei,_i="__reactMarker$"+ei;function ha(t){delete t[Dt],delete t[Gt],delete t[ca],delete t[Jh],delete t[pu]}function vi(t){var n=t[Dt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yi]||a[Dt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=M_(t);t!==null;){if(a=t[Dt])return a;t=M_(t)}return n}t=a,a=t.parentNode}return null}function kn(t){if(t=t[Dt]||t[yi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function An(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ei(t){var n=t[yu];return n||(n=t[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(t){t[_i]=!0}var Ro=new Set,xo={};function bi(t,n){Ti(t,n),Ti(t+"Capture",n)}function Ti(t,n){for(xo[t]=n,t=0;t<n.length;t++)Ro.add(n[t])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},No={};function _u(t){return Ke.call(No,t)?!0:Ke.call(Co,t)?!1:Io.test(t)?No[t]=!0:(Co[t]=!0,!1)}function fa(t,n,a){if(_u(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function wn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Vt(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Es(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Do(t,n,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function nt(t){if(!t._valueTracker){var n=Es(t)?"checked":"value";t._valueTracker=Do(t,n,""+t[n])}}function Rr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Es(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xr=/[\n"\\]/g;function mn(t){return t.replace(xr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(t,n,a,o,h,f,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Oo(t,_,Qt(n)):a!=null?Oo(t,_,Qt(a)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Qt(b):t.removeAttribute("name")}function vu(t,n,a,o,h,f,_,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){nt(t);return}a=a!=null?""+Qt(a):"",n=n!=null?""+Qt(n):a,b||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=b?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),nt(t)}function Oo(t,n,a){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bs(t,n,a,o){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Eu(t,n,a){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Qt(a):""}function Ts(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if($e(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Qt(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),nt(t)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||bu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Mo(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Vo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Vo(t,f,n[f])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return Ss.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var ko=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var As=null,Ai=null;function Ir(t){var n=kn(t);if(n&&(t=n.stateNode)){var a=t[Gt]||null;e:switch(t=n.stateNode,n.type){case"input":if(da(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var h=o[Gt]||null;if(!h)throw Error(r(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Rr(o)}break e;case"textarea":Eu(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&bs(t,!!a.multiple,n,!1)}}}var pa=!1;function ws(t,n,a){if(pa)return t(n,a);pa=!0;try{var o=t(n);return o}finally{if(pa=!1,(As!==null||Ai!==null)&&(gc(),As&&(n=As,t=Ai,Ai=As=null,Ir(n),t)))for(n=0;n<t.length;n++)Ir(t[n])}}function ni(t,n){var a=t.stateNode;if(a===null)return null;var o=a[Gt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(jn)try{var at={};Object.defineProperty(at,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",at,at),window.removeEventListener("test",at,at)}catch{Cr=!1}var wi=null,Po=null,Nr=null;function jo(){if(Nr)return Nr;var t,n=Po,a=n.length,o,h="value"in wi?wi.value:wi.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===h[f-o];o++);return Nr=h.slice(t,1<o?1-o:void 0)}function Dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function ii(){return!1}function $t(t){function n(a,o,h,f,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:ii,this.isPropagationStopped=ii,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=$t(Gi),Rs=A({},Gi,{view:0,detail:0}),Lo=$t(Rs),xs,ya,xi,_a=A({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(xs=t.screenX-xi.screenX,ya=t.screenY-xi.screenY):ya=xs=0,xi=t),xs)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Uo=$t(_a),Or=A({},_a,{dataTransfer:0}),Su=$t(Or),Au=A({},Rs,{relatedTarget:0}),Vr=$t(Au),zo=A({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),wu=$t(zo),va=A({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ru=$t(va),xu=A({},Gi,{data:0}),Ii=$t(xu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Nu[t])?!!n[t]:!1}function Is(){return Du}var fn=A({},Rs,{key:function(t){if(t.key){var n=Iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ou=$t(fn),Vu=A({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=$t(Vu),c=A({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),m=$t(c),v=A({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$t(v),L=A({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=$t(L),se=A({},Gi,{newState:0,oldState:0}),Ne=$t(se),At=[9,13,27,32],Je=jn&&"CompositionEvent"in window,yt=null;jn&&"documentMode"in document&&(yt=document.documentMode);var Ln=jn&&"TextEvent"in window&&!yt,Ci=jn&&(!Je||yt&&8<yt&&11>=yt),si=" ",ri=!1;function Mr(t,n){switch(t){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function OT(t,n){switch(t){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(ri=!0,si);case"textInput":return t=n.data,t===si&&ri?null:t;default:return null}}function VT(t,n){if(ba)return t==="compositionend"||!Je&&Mr(t,n)?(t=jo(),Nr=Po=wi=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var MT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!MT[t.type]:n==="textarea"}function Lg(t,n,a,o){As?Ai?Ai.push(o):Ai=[o]:As=o,n=Tc(n,"onChange"),0<n.length&&(a=new Ri("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Bo=null,qo=null;function kT(t){E_(t,0)}function Mu(t){var n=An(t);if(Rr(n))return t}function Ug(t,n){if(t==="change")return n}var zg=!1;if(jn){var Wh;if(jn){var ef="oninput"in document;if(!ef){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),ef=typeof Bg.oninput=="function"}Wh=ef}else Wh=!1;zg=Wh&&(!document.documentMode||9<document.documentMode)}function qg(){Bo&&(Bo.detachEvent("onpropertychange",Hg),qo=Bo=null)}function Hg(t){if(t.propertyName==="value"&&Mu(qo)){var n=[];Lg(n,qo,t,Pn(t)),ws(kT,n)}}function PT(t,n,a){t==="focusin"?(qg(),Bo=n,qo=a,Bo.attachEvent("onpropertychange",Hg)):t==="focusout"&&qg()}function jT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(qo)}function LT(t,n){if(t==="click")return Mu(n)}function UT(t,n){if(t==="input"||t==="change")return Mu(n)}function zT(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Rn=typeof Object.is=="function"?Object.is:zT;function Ho(t,n){if(Rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ke.call(n,h)||!Rn(t[h],n[h]))return!1}return!0}function Fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gg(t,n){var a=Fg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fg(a)}}function Qg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Qg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Si(t.document)}return n}function tf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var BT=jn&&"documentMode"in document&&11>=document.documentMode,Ta=null,nf=null,Fo=null,sf=!1;function Yg(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;sf||Ta==null||Ta!==Si(o)||(o=Ta,"selectionStart"in o&&tf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Ho(Fo,o)||(Fo=o,o=Tc(nf,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ta)))}function kr(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Sa={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionrun:kr("Transition","TransitionRun"),transitionstart:kr("Transition","TransitionStart"),transitioncancel:kr("Transition","TransitionCancel"),transitionend:kr("Transition","TransitionEnd")},rf={},Xg={};jn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Pr(t){if(rf[t])return rf[t];if(!Sa[t])return t;var n=Sa[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Xg)return rf[t]=n[a];return t}var $g=Pr("animationend"),Zg=Pr("animationiteration"),Jg=Pr("animationstart"),qT=Pr("transitionrun"),HT=Pr("transitionstart"),FT=Pr("transitioncancel"),Wg=Pr("transitionend"),ep=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function ai(t,n){ep.set(t,n),bi(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Aa=0,of=0;function Pu(){for(var t=Aa,n=of=Aa=0;n<t;){var a=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}f!==0&&tp(a,h,f)}}function ju(t,n,a,o){Un[Aa++]=t,Un[Aa++]=n,Un[Aa++]=a,Un[Aa++]=o,of|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function lf(t,n,a,o){return ju(t,n,a,o),Lu(t)}function jr(t,n){return ju(t,null,null,n),Lu(t)}function tp(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-St(a),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Lu(t){if(50<fl)throw fl=0,yd=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function GT(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(t,n,a,o){return new GT(t,n,a,o)}function uf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,n){var a=t.alternate;return a===null?(a=xn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function np(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Uu(t,n,a,o,h,f){var _=0;if(o=t,typeof t=="function")uf(t)&&(_=1);else if(typeof t=="string")_=$S(t,a,ne.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=xn(31,a,n,h),t.elementType=I,t.lanes=f,t;case te:return Lr(a.children,h,f,n);case K:_=8,h|=24;break;case ue:return t=xn(12,a,n,h|2),t.elementType=ue,t.lanes=f,t;case ve:return t=xn(13,a,n,h),t.elementType=ve,t.lanes=f,t;case pe:return t=xn(19,a,n,h),t.elementType=pe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:_=10;break e;case G:_=9;break e;case le:_=11;break e;case x:_=14;break e;case w:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=xn(_,a,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Lr(t,n,a,o){return t=xn(7,t,o,n),t.lanes=a,t}function cf(t,n,a){return t=xn(6,t,null,n),t.lanes=a,t}function ip(t){var n=xn(18,null,null,0);return n.stateNode=t,n}function hf(t,n,a){return n=xn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var sp=new WeakMap;function zn(t,n){if(typeof t=="object"&&t!==null){var a=sp.get(t);return a!==void 0?a:(n={value:t,source:n,stack:rn(n)},sp.set(t,n),n)}return{value:t,source:n,stack:rn(n)}}var Ra=[],xa=0,zu=null,Go=0,Bn=[],qn=0,Cs=null,Ni=1,Di="";function Yi(t,n){Ra[xa++]=Go,Ra[xa++]=zu,zu=t,Go=n}function rp(t,n,a){Bn[qn++]=Ni,Bn[qn++]=Di,Bn[qn++]=Cs,Cs=t;var o=Ni;t=Di;var h=32-St(o)-1;o&=~(1<<h),a+=1;var f=32-St(n)+h;if(30<f){var _=h-h%5;f=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Ni=1<<32-St(n)+h|a<<h|o,Di=f+t}else Ni=1<<f|a<<h|o,Di=t}function ff(t){t.return!==null&&(Yi(t,1),rp(t,1,0))}function df(t){for(;t===zu;)zu=Ra[--xa],Ra[xa]=null,Go=Ra[--xa],Ra[xa]=null;for(;t===Cs;)Cs=Bn[--qn],Bn[qn]=null,Di=Bn[--qn],Bn[qn]=null,Ni=Bn[--qn],Bn[qn]=null}function ap(t,n){Bn[qn++]=Ni,Bn[qn++]=Di,Bn[qn++]=Cs,Ni=n.id,Di=n.overflow,Cs=t}var Zt=null,dt=null,Fe=!1,Ns=null,Hn=!1,mf=Error(r(519));function Ds(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(zn(n,t)),mf}function op(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Dt]=t,n[Gt]=o,a){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(a=0;a<ml.length;a++)je(ml[a],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),vu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||A_(n.textContent,a)?(o.popover!=null&&(je("beforetoggle",n),je("toggle",n)),o.onScroll!=null&&je("scroll",n),o.onScrollEnd!=null&&je("scrollend",n),o.onClick!=null&&(n.onclick=ti),n=!0):n=!1,n||Ds(t,!0)}function lp(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Zt=Zt.return}}function Ia(t){if(t!==Zt)return!1;if(!Fe)return lp(t),Fe=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Od(t.type,t.memoizedProps)),a=!a),a&&dt&&Ds(t),lp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=V_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));dt=V_(t)}else n===27?(n=dt,Gs(t.type)?(t=jd,jd=null,dt=t):dt=n):dt=Zt?Gn(t.stateNode.nextSibling):null;return!0}function Ur(){dt=Zt=null,Fe=!1}function gf(){var t=Ns;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Ns=null),t}function Qo(t){Ns===null?Ns=[t]:Ns.push(t)}var pf=O(null),zr=null,Xi=null;function Os(t,n,a){ie(pf,n._currentValue),n._currentValue=a}function $i(t){t._currentValue=pf.current,X(pf)}function yf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function _f(t,n,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var N=0;N<n.length;N++)if(b.context===n[N]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),yf(f.return,a,t),o||(_=null);break e}f=b.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),yf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ca(t,n,a,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var b=h.type;Rn(h.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(h===we.current){if(_=h.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}h=h.return}t!==null&&_f(n,t,a,o),n.flags|=262144}function Bu(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){zr=t,Xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return up(zr,t)}function qu(t,n){return zr===null&&Br(t),up(t,n)}function up(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Xi===null){if(t===null)throw Error(r(308));Xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xi=Xi.next=n;return a}var QT=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},KT=s.unstable_scheduleCallback,YT=s.unstable_NormalPriority,Mt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vf(){return{controller:new QT,data:new Map,refCount:0}}function Ko(t){t.refCount--,t.refCount===0&&KT(YT,function(){t.controller.abort()})}var Yo=null,Ef=0,Na=0,Da=null;function XT(t,n){if(Yo===null){var a=Yo=[];Ef=0,Na=Sd(),Da={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ef++,n.then(cp,cp),n}function cp(){if(--Ef===0&&Yo!==null){Da!==null&&(Da.status="fulfilled");var t=Yo;Yo=null,Na=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $T(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var hp=F.S;F.S=function(t,n){Yy=hn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&XT(t,n),hp!==null&&hp(t,n)};var qr=O(null);function bf(){var t=qr.current;return t!==null?t:ht.pooledCache}function Hu(t,n){n===null?ie(qr,qr.current):ie(qr,n.pool)}function fp(){var t=bf();return t===null?null:{parent:Mt._currentValue,pool:t}}var Oa=Error(r(460)),Tf=Error(r(474)),Fu=Error(r(542)),Gu={then:function(){}};function dp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ti,ti),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pp(t),t;default:if(typeof n.status=="string")n.then(ti,ti);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,pp(t),t}throw Fr=n,Oa}}function Hr(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,Oa):a}}var Fr=null;function gp(){if(Fr===null)throw Error(r(459));var t=Fr;return Fr=null,t}function pp(t){if(t===Oa||t===Fu)throw Error(r(483))}var Va=null,Xo=0;function Qu(t){var n=Xo;return Xo+=1,Va===null&&(Va=[]),mp(Va,t,n)}function $o(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ku(t,n){throw n.$$typeof===R?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yp(t){function n(P,M){if(t){var U=P.deletions;U===null?(P.deletions=[M],P.flags|=16):U.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function o(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Ki(P,M),P.index=0,P.sibling=null,P}function f(P,M,U){return P.index=U,t?(U=P.alternate,U!==null?(U=U.index,U<M?(P.flags|=67108866,M):U):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,M,U,Z){return M===null||M.tag!==6?(M=cf(U,P.mode,Z),M.return=P,M):(M=h(M,U),M.return=P,M)}function N(P,M,U,Z){var ye=U.type;return ye===te?Q(P,M,U.props.children,Z,U.key):M!==null&&(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Hr(ye)===M.type)?(M=h(M,U.props),$o(M,U),M.return=P,M):(M=Uu(U.type,U.key,U.props,null,P.mode,Z),$o(M,U),M.return=P,M)}function z(P,M,U,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=hf(U,P.mode,Z),M.return=P,M):(M=h(M,U.children||[]),M.return=P,M)}function Q(P,M,U,Z,ye){return M===null||M.tag!==7?(M=Lr(U,P.mode,Z,ye),M.return=P,M):(M=h(M,U),M.return=P,M)}function W(P,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=cf(""+M,P.mode,U),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return U=Uu(M.type,M.key,M.props,null,P.mode,U),$o(U,M),U.return=P,U;case $:return M=hf(M,P.mode,U),M.return=P,M;case w:return M=Hr(M),W(P,M,U)}if($e(M)||k(M))return M=Lr(M,P.mode,U,null),M.return=P,M;if(typeof M.then=="function")return W(P,Qu(M),U);if(M.$$typeof===Y)return W(P,qu(P,M),U);Ku(P,M)}return null}function B(P,M,U,Z){var ye=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ye!==null?null:b(P,M,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case j:return U.key===ye?N(P,M,U,Z):null;case $:return U.key===ye?z(P,M,U,Z):null;case w:return U=Hr(U),B(P,M,U,Z)}if($e(U)||k(U))return ye!==null?null:Q(P,M,U,Z,null);if(typeof U.then=="function")return B(P,M,Qu(U),Z);if(U.$$typeof===Y)return B(P,M,qu(P,U),Z);Ku(P,U)}return null}function H(P,M,U,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(U)||null,b(M,P,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return P=P.get(Z.key===null?U:Z.key)||null,N(M,P,Z,ye);case $:return P=P.get(Z.key===null?U:Z.key)||null,z(M,P,Z,ye);case w:return Z=Hr(Z),H(P,M,U,Z,ye)}if($e(Z)||k(Z))return P=P.get(U)||null,Q(M,P,Z,ye,null);if(typeof Z.then=="function")return H(P,M,U,Qu(Z),ye);if(Z.$$typeof===Y)return H(P,M,U,qu(M,Z),ye);Ku(M,Z)}return null}function fe(P,M,U,Z){for(var ye=null,Ye=null,ge=M,Me=M=0,ze=null;ge!==null&&Me<U.length;Me++){ge.index>Me?(ze=ge,ge=null):ze=ge.sibling;var Xe=B(P,ge,U[Me],Z);if(Xe===null){ge===null&&(ge=ze);break}t&&ge&&Xe.alternate===null&&n(P,ge),M=f(Xe,M,Me),Ye===null?ye=Xe:Ye.sibling=Xe,Ye=Xe,ge=ze}if(Me===U.length)return a(P,ge),Fe&&Yi(P,Me),ye;if(ge===null){for(;Me<U.length;Me++)ge=W(P,U[Me],Z),ge!==null&&(M=f(ge,M,Me),Ye===null?ye=ge:Ye.sibling=ge,Ye=ge);return Fe&&Yi(P,Me),ye}for(ge=o(ge);Me<U.length;Me++)ze=H(ge,P,Me,U[Me],Z),ze!==null&&(t&&ze.alternate!==null&&ge.delete(ze.key===null?Me:ze.key),M=f(ze,M,Me),Ye===null?ye=ze:Ye.sibling=ze,Ye=ze);return t&&ge.forEach(function($s){return n(P,$s)}),Fe&&Yi(P,Me),ye}function be(P,M,U,Z){if(U==null)throw Error(r(151));for(var ye=null,Ye=null,ge=M,Me=M=0,ze=null,Xe=U.next();ge!==null&&!Xe.done;Me++,Xe=U.next()){ge.index>Me?(ze=ge,ge=null):ze=ge.sibling;var $s=B(P,ge,Xe.value,Z);if($s===null){ge===null&&(ge=ze);break}t&&ge&&$s.alternate===null&&n(P,ge),M=f($s,M,Me),Ye===null?ye=$s:Ye.sibling=$s,Ye=$s,ge=ze}if(Xe.done)return a(P,ge),Fe&&Yi(P,Me),ye;if(ge===null){for(;!Xe.done;Me++,Xe=U.next())Xe=W(P,Xe.value,Z),Xe!==null&&(M=f(Xe,M,Me),Ye===null?ye=Xe:Ye.sibling=Xe,Ye=Xe);return Fe&&Yi(P,Me),ye}for(ge=o(ge);!Xe.done;Me++,Xe=U.next())Xe=H(ge,P,Me,Xe.value,Z),Xe!==null&&(t&&Xe.alternate!==null&&ge.delete(Xe.key===null?Me:Xe.key),M=f(Xe,M,Me),Ye===null?ye=Xe:Ye.sibling=Xe,Ye=Xe);return t&&ge.forEach(function(oA){return n(P,oA)}),Fe&&Yi(P,Me),ye}function ut(P,M,U,Z){if(typeof U=="object"&&U!==null&&U.type===te&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case j:e:{for(var ye=U.key;M!==null;){if(M.key===ye){if(ye=U.type,ye===te){if(M.tag===7){a(P,M.sibling),Z=h(M,U.props.children),Z.return=P,P=Z;break e}}else if(M.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===w&&Hr(ye)===M.type){a(P,M.sibling),Z=h(M,U.props),$o(Z,U),Z.return=P,P=Z;break e}a(P,M);break}else n(P,M);M=M.sibling}U.type===te?(Z=Lr(U.props.children,P.mode,Z,U.key),Z.return=P,P=Z):(Z=Uu(U.type,U.key,U.props,null,P.mode,Z),$o(Z,U),Z.return=P,P=Z)}return _(P);case $:e:{for(ye=U.key;M!==null;){if(M.key===ye)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(P,M.sibling),Z=h(M,U.children||[]),Z.return=P,P=Z;break e}else{a(P,M);break}else n(P,M);M=M.sibling}Z=hf(U,P.mode,Z),Z.return=P,P=Z}return _(P);case w:return U=Hr(U),ut(P,M,U,Z)}if($e(U))return fe(P,M,U,Z);if(k(U)){if(ye=k(U),typeof ye!="function")throw Error(r(150));return U=ye.call(U),be(P,M,U,Z)}if(typeof U.then=="function")return ut(P,M,Qu(U),Z);if(U.$$typeof===Y)return ut(P,M,qu(P,U),Z);Ku(P,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(P,M.sibling),Z=h(M,U),Z.return=P,P=Z):(a(P,M),Z=cf(U,P.mode,Z),Z.return=P,P=Z),_(P)):a(P,M)}return function(P,M,U,Z){try{Xo=0;var ye=ut(P,M,U,Z);return Va=null,ye}catch(ge){if(ge===Oa||ge===Fu)throw ge;var Ye=xn(29,ge,null,P.mode);return Ye.lanes=Z,Ye.return=P,Ye}}}var Gr=yp(!0),_p=yp(!1),Vs=!1;function Sf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ks(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(We&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Lu(t),tp(t,null,a),n}return ju(t,o,n,a),Lu(t)}function Zo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ao(t,a)}}function wf(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Rf=!1;function Jo(){if(Rf){var t=Da;if(t!==null)throw t}}function Wo(t,n,a,o){Rf=!1;var h=t.updateQueue;Vs=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var N=b,z=N.next;N.next=null,_===null?f=z:_.next=z,_=N;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==_&&(b===null?Q.firstBaseUpdate=z:b.next=z,Q.lastBaseUpdate=N))}if(f!==null){var W=h.baseState;_=0,Q=z=N=null,b=f;do{var B=b.lane&-536870913,H=B!==b.lane;if(H?(Ue&B)===B:(o&B)===B){B!==0&&B===Na&&(Rf=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,be=b;B=n;var ut=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){W=fe.call(ut,W,B);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,B=typeof fe=="function"?fe.call(ut,W,B):fe,B==null)break e;W=A({},W,B);break e;case 2:Vs=!0}}B=b.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(z=Q=H,N=W):Q=Q.next=H,_|=B;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;H=b,b=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(N=W),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),zs|=_,t.lanes=_,t.memoizedState=W}}function vp(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Ep(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vp(a[t],n)}var Ma=O(null),Yu=O(0);function bp(t,n){t=rs,ie(Yu,t),ie(Ma,n),rs=t|n.baseLanes}function xf(){ie(Yu,rs),ie(Ma,Ma.current)}function If(){rs=Yu.current,X(Ma),X(Yu)}var In=O(null),Fn=null;function Ps(t){var n=t.alternate;ie(wt,wt.current&1),ie(In,t),Fn===null&&(n===null||Ma.current!==null||n.memoizedState!==null)&&(Fn=t)}function Cf(t){ie(wt,wt.current),ie(In,t),Fn===null&&(Fn=t)}function Tp(t){t.tag===22?(ie(wt,wt.current),ie(In,t),Fn===null&&(Fn=t)):js()}function js(){ie(wt,wt.current),ie(In,In.current)}function Cn(t){X(In),Fn===t&&(Fn=null),X(wt)}var wt=O(0);function Xu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kd(a)||Pd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,De=null,ot=null,kt=null,$u=!1,ka=!1,Qr=!1,Zu=0,el=0,Pa=null,ZT=0;function bt(){throw Error(r(321))}function Nf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Rn(t[a],n[a]))return!1;return!0}function Df(t,n,a,o,h,f){return Zi=f,De=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?ry:Qf,Qr=!1,f=a(o,h),Qr=!1,ka&&(f=Ap(n,a,o,h)),Sp(t),f}function Sp(t){F.H=il;var n=ot!==null&&ot.next!==null;if(Zi=0,kt=ot=De=null,$u=!1,el=0,Pa=null,n)throw Error(r(300));t===null||Pt||(t=t.dependencies,t!==null&&Bu(t)&&(Pt=!0))}function Ap(t,n,a,o){De=t;var h=0;do{if(ka&&(Pa=null),el=0,ka=!1,25<=h)throw Error(r(301));if(h+=1,kt=ot=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=ay,f=n(a,o)}while(ka);return f}function JT(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?tl(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(De.flags|=1024),n}function Of(){var t=Zu!==0;return Zu=0,t}function Vf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Mf(t){if($u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$u=!1}Zi=0,kt=ot=De=null,ka=!1,el=Zu=0,Pa=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?De.memoizedState=kt=t:kt=kt.next=t,kt}function Rt(){if(ot===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=kt===null?De.memoizedState:kt.next;if(n!==null)kt=n,ot=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},kt===null?De.memoizedState=kt=t:kt=kt.next=t}return kt}function Ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(t){var n=el;return el+=1,Pa===null&&(Pa=[]),t=mp(Pa,t,n),n=De,(kt===null?n.memoizedState:kt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?ry:Qf),t}function Wu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return tl(t);if(t.$$typeof===Y)return Jt(t)}throw Error(r(438,String(t)))}function kf(t){var n=null,a=De.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Ju(),De.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=V;return n.index++,a}function Ji(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=Rt();return Pf(n,ot,t)}function Pf(t,n,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var b=_=null,N=null,z=n,Q=!1;do{var W=z.lane&-536870913;if(W!==z.lane?(Ue&W)===W:(Zi&W)===W){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),W===Na&&(Q=!0);else if((Zi&B)===B){z=z.next,B===Na&&(Q=!0);continue}else W={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=W,_=f):N=N.next=W,De.lanes|=B,zs|=B;W=z.action,Qr&&a(f,W),f=z.hasEagerState?z.eagerState:a(f,W)}else B={lane:W,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=B,_=f):N=N.next=B,De.lanes|=W,zs|=W;z=z.next}while(z!==null&&z!==n);if(N===null?_=f:N.next=b,!Rn(f,t.memoizedState)&&(Pt=!0,Q&&(a=Da,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function jf(t){var n=Rt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);Rn(f,n.memoizedState)||(Pt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function wp(t,n,a){var o=De,h=Rt(),f=Fe;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var _=!Rn((ot||h).memoizedState,a);if(_&&(h.memoizedState=a,Pt=!0),h=h.queue,zf(Ip.bind(null,o,h,t),[t]),h.getSnapshot!==n||_||kt!==null&&kt.memoizedState.tag&1){if(o.flags|=2048,ja(9,{destroy:void 0},xp.bind(null,o,h,a,n),null),ht===null)throw Error(r(349));f||(Zi&127)!==0||Rp(o,n,a)}return a}function Rp(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=De.updateQueue,n===null?(n=Ju(),De.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function xp(t,n,a,o){n.value=a,n.getSnapshot=o,Cp(n)&&Np(t)}function Ip(t,n,a){return a(function(){Cp(n)&&Np(t)})}function Cp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Rn(t,a)}catch{return!0}}function Np(t){var n=jr(t,2);n!==null&&En(n,t,2)}function Lf(t){var n=dn();if(typeof t=="function"){var a=t;if(t=a(),Qr){Mn(!0);try{a()}finally{Mn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},n}function Dp(t,n,a,o){return t.baseState=a,Pf(t,ot,typeof o=="function"?o:Ji)}function WT(t,n,a,o,h){if(ic(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Op(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Op(t,n){var a=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,_={};F.T=_;try{var b=a(h,o),N=F.S;N!==null&&N(_,b),Vp(t,n,b)}catch(z){Uf(t,n,z)}finally{f!==null&&_.types!==null&&(f.types=_.types),F.T=f}}else try{f=a(h,o),Vp(t,n,f)}catch(z){Uf(t,n,z)}}function Vp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Mp(t,n,o)},function(o){return Uf(t,n,o)}):Mp(t,n,a)}function Mp(t,n,a){n.status="fulfilled",n.value=a,kp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Op(t,a)))}function Uf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,kp(n),n=n.next;while(n!==o)}t.action=null}function kp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pp(t,n){return n}function jp(t,n){if(Fe){var a=ht.formState;if(a!==null){e:{var o=De;if(Fe){if(dt){t:{for(var h=dt,f=Hn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=Gn(h.nextSibling),o=h.data==="F!";break e}}Ds(o)}o=!1}o&&(n=a[0])}}return a=dn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pp,lastRenderedState:n},a.queue=o,a=ny.bind(null,De,o),o.dispatch=a,o=Lf(!1),f=Gf.bind(null,De,!1,o.queue),o=dn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,a=WT.bind(null,De,h,f,a),h.dispatch=a,o.memoizedState=t,[n,a,!1]}function Lp(t){var n=Rt();return Up(n,ot,t)}function Up(t,n,a){if(n=Pf(t,n,Pp)[0],t=ec(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(_){throw _===Oa?Fu:_}else o=n;n=Rt();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(De.flags|=2048,ja(9,{destroy:void 0},eS.bind(null,h,a),null)),[o,f,t]}function eS(t,n){t.action=n}function zp(t){var n=Rt(),a=ot;if(a!==null)return Up(n,a,t);Rt(),n=n.memoizedState,a=Rt();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function ja(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=De.updateQueue,n===null&&(n=Ju(),De.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function Bp(){return Rt().memoizedState}function tc(t,n,a,o){var h=dn();De.flags|=t,h.memoizedState=ja(1|n,{destroy:void 0},a,o===void 0?null:o)}function nc(t,n,a,o){var h=Rt();o=o===void 0?null:o;var f=h.memoizedState.inst;ot!==null&&o!==null&&Nf(o,ot.memoizedState.deps)?h.memoizedState=ja(n,f,a,o):(De.flags|=t,h.memoizedState=ja(1|n,f,a,o))}function qp(t,n){tc(8390656,8,t,n)}function zf(t,n){nc(2048,8,t,n)}function tS(t){De.flags|=4;var n=De.updateQueue;if(n===null)n=Ju(),De.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Hp(t){var n=Rt().memoizedState;return tS({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Fp(t,n){return nc(4,2,t,n)}function Gp(t,n){return nc(4,4,t,n)}function Qp(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Kp(t,n,a){a=a!=null?a.concat([t]):null,nc(4,4,Qp.bind(null,n,t),a)}function Bf(){}function Yp(t,n){var a=Rt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Nf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function Xp(t,n){var a=Rt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Nf(n,o[1]))return o[0];if(o=t(),Qr){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[o,n],o}function qf(t,n,a){return a===void 0||(Zi&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=$y(),De.lanes|=t,zs|=t,a)}function $p(t,n,a,o){return Rn(a,n)?a:Ma.current!==null?(t=qf(t,a,o),Rn(t,n)||(Pt=!0),t):(Zi&42)===0||(Zi&1073741824)!==0&&(Ue&261930)===0?(Pt=!0,t.memoizedState=a):(t=$y(),De.lanes|=t,zs|=t,n)}function Zp(t,n,a,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var _=F.T,b={};F.T=b,Gf(t,!1,n,a);try{var N=h(),z=F.S;if(z!==null&&z(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=$T(N,o);nl(t,n,Q,On(t))}else nl(t,n,o,On(t))}catch(W){nl(t,n,{then:function(){},status:"rejected",reason:W},On())}finally{re.p=f,_!==null&&b.types!==null&&(_.types=b.types),F.T=_}}function nS(){}function Hf(t,n,a,o){if(t.tag!==5)throw Error(r(476));var h=Jp(t).queue;Zp(t,h,n,me,a===null?nS:function(){return Wp(t),a(o)})}function Jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:me},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wp(t){var n=Jp(t);n.next===null&&(n=t.alternate.memoizedState),nl(t,n.next.queue,{},On())}function Ff(){return Jt(vl)}function ey(){return Rt().memoizedState}function ty(){return Rt().memoizedState}function iS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=On();t=Ms(a);var o=ks(n,t,a);o!==null&&(En(o,n,a),Zo(o,n,a)),n={cache:vf()},t.payload=n;return}n=n.return}}function sS(t,n,a){var o=On();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?iy(n,a):(a=lf(t,n,a,o),a!==null&&(En(a,t,o),sy(a,n,o)))}function ny(t,n,a){var o=On();nl(t,n,a,o)}function nl(t,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))iy(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,b=f(_,a);if(h.hasEagerState=!0,h.eagerState=b,Rn(b,_))return ju(t,n,h,0),ht===null&&Pu(),!1}catch{}if(a=lf(t,n,h,o),a!==null)return En(a,t,o),sy(a,n,o),!0}return!1}function Gf(t,n,a,o){if(o={lane:2,revertLane:Sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(r(479))}else n=lf(t,a,o,2),n!==null&&En(n,t,2)}function ic(t){var n=t.alternate;return t===De||n!==null&&n===De}function iy(t,n){ka=$u=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function sy(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Ao(t,a)}}var il={readContext:Jt,use:Wu,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};il.useEffectEvent=bt;var ry={readContext:Jt,use:Wu,useCallback:function(t,n){return dn().memoizedState=[t,n===void 0?null:n],t},useContext:Jt,useEffect:qp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Qp.bind(null,n,t),a)},useLayoutEffect:function(t,n){return tc(4194308,4,t,n)},useInsertionEffect:function(t,n){tc(4,2,t,n)},useMemo:function(t,n){var a=dn();n=n===void 0?null:n;var o=t();if(Qr){Mn(!0);try{t()}finally{Mn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=dn();if(a!==void 0){var h=a(n);if(Qr){Mn(!0);try{a(n)}finally{Mn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=sS.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var n=dn();return t={current:t},n.memoizedState=t},useState:function(t){t=Lf(t);var n=t.queue,a=ny.bind(null,De,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Bf,useDeferredValue:function(t,n){var a=dn();return qf(a,t,n)},useTransition:function(){var t=Lf(!1);return t=Zp.bind(null,De,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=De,h=dn();if(Fe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ht===null)throw Error(r(349));(Ue&127)!==0||Rp(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,qp(Ip.bind(null,o,f,t),[t]),o.flags|=2048,ja(9,{destroy:void 0},xp.bind(null,o,f,a,n),null),a},useId:function(){var t=dn(),n=ht.identifierPrefix;if(Fe){var a=Di,o=Ni;a=(o&~(1<<32-St(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Zu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=ZT++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ff,useFormState:jp,useActionState:jp,useOptimistic:function(t){var n=dn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gf.bind(null,De,!0,a),a.dispatch=n,[t,n]},useMemoCache:kf,useCacheRefresh:function(){return dn().memoizedState=iS.bind(null,De)},useEffectEvent:function(t){var n=dn(),a={impl:t};return n.memoizedState=a,function(){if((We&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Qf={readContext:Jt,use:Wu,useCallback:Yp,useContext:Jt,useEffect:zf,useImperativeHandle:Kp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:ec,useRef:Bp,useState:function(){return ec(Ji)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=Rt();return $p(a,ot.memoizedState,t,n)},useTransition:function(){var t=ec(Ji)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:tl(t),n]},useSyncExternalStore:wp,useId:ey,useHostTransitionStatus:Ff,useFormState:Lp,useActionState:Lp,useOptimistic:function(t,n){var a=Rt();return Dp(a,ot,t,n)},useMemoCache:kf,useCacheRefresh:ty};Qf.useEffectEvent=Hp;var ay={readContext:Jt,use:Wu,useCallback:Yp,useContext:Jt,useEffect:zf,useImperativeHandle:Kp,useInsertionEffect:Fp,useLayoutEffect:Gp,useMemo:Xp,useReducer:jf,useRef:Bp,useState:function(){return jf(Ji)},useDebugValue:Bf,useDeferredValue:function(t,n){var a=Rt();return ot===null?qf(a,t,n):$p(a,ot.memoizedState,t,n)},useTransition:function(){var t=jf(Ji)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:tl(t),n]},useSyncExternalStore:wp,useId:ey,useHostTransitionStatus:Ff,useFormState:zp,useActionState:zp,useOptimistic:function(t,n){var a=Rt();return ot!==null?Dp(a,ot,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kf,useCacheRefresh:ty};ay.useEffectEvent=Hp;function Kf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=On(),h=Ms(o);h.payload=n,a!=null&&(h.callback=a),n=ks(t,h,o),n!==null&&(En(n,t,o),Zo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=On(),h=Ms(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ks(t,h,o),n!==null&&(En(n,t,o),Zo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=On(),o=Ms(a);o.tag=2,n!=null&&(o.callback=n),n=ks(t,o,a),n!==null&&(En(n,t,a),Zo(n,t,a))}};function oy(t,n,a,o,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!Ho(a,o)||!Ho(h,f):!0}function ly(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&Yf.enqueueReplaceState(n,n.state,null)}function Kr(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function uy(t){ku(t)}function cy(t){console.error(t)}function hy(t){ku(t)}function sc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function fy(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,n,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,n)},a}function dy(t){return t=Ms(t),t.tag=3,t}function my(t,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){fy(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){fy(n,a,o),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function rS(t,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ca(n,a,h,!0),a=In.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?pc():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Gu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ed(t,o,h)),!1;case 22:return a.flags|=65536,o===Gu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ed(t,o,h)),!1}throw Error(r(435,a.tag))}return Ed(t,o,h),pc(),!1}if(Fe)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==mf&&(t=Error(r(422),{cause:o}),Qo(zn(t,a)))):(o!==mf&&(n=Error(r(423),{cause:o}),Qo(zn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=zn(o,a),h=Xf(t.stateNode,o,h),wf(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(r(520),{cause:o});if(f=zn(f,a),hl===null?hl=[f]:hl.push(f),Tt!==4&&(Tt=2),n===null)return!0;o=zn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,o,t),wf(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,t,a,o),wf(a,h),!1}a=a.return}while(a!==null);return!1}var $f=Error(r(461)),Pt=!1;function Wt(t,n,a,o){n.child=t===null?_p(n,null,a,o):Gr(n,t.child,a,o)}function gy(t,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var _={};for(var b in o)b!=="ref"&&(_[b]=o[b])}else _=o;return Br(n),o=Df(t,n,a,_,f,h),b=Of(),t!==null&&!Pt?(Vf(t,n,h),Wi(t,n,h)):(Fe&&b&&ff(n),n.flags|=1,Wt(t,n,o,h),n.child)}function py(t,n,a,o,h){if(t===null){var f=a.type;return typeof f=="function"&&!uf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,yy(t,n,f,o,h)):(t=Uu(a.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!sd(t,h)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ho,a(_,o)&&t.ref===n.ref)return Wi(t,n,h)}return n.flags|=1,t=Ki(f,o),t.ref=n.ref,t.return=n,n.child=t}function yy(t,n,a,o,h){if(t!==null){var f=t.memoizedProps;if(Ho(f,o)&&t.ref===n.ref)if(Pt=!1,n.pendingProps=o=f,sd(t,h))(t.flags&131072)!==0&&(Pt=!0);else return n.lanes=t.lanes,Wi(t,n,h)}return Zf(t,n,a,o,h)}function _y(t,n,a,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return vy(t,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hu(n,f!==null?f.cachePool:null),f!==null?bp(n,f):xf(),Tp(n);else return o=n.lanes=536870912,vy(t,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Hu(n,f.cachePool),bp(n,f),js(),n.memoizedState=null):(t!==null&&Hu(n,null),xf(),js());return Wt(t,n,h,a),n.child}function sl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function vy(t,n,a,o,h){var f=bf();return f=f===null?null:{parent:Mt._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Hu(n,null),xf(),Tp(n),t!==null&&Ca(t,n,o,!0),n.childLanes=h,null}function rc(t,n){return n=oc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Ey(t,n,a){return Gr(n,t.child,null,a),t=rc(n,n.pendingProps),t.flags|=2,Cn(n),n.memoizedState=null,t}function aS(t,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(o.mode==="hidden")return t=rc(n,o),n.lanes=536870912,sl(null,t);if(Cf(n),(t=dt)?(t=O_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=n,n.child=a,Zt=n,dt=null)):t=null,t===null)throw Ds(n);return n.lanes=536870912,null}return rc(n,o)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(Cf(n),h)if(n.flags&256)n.flags&=-257,n=Ey(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(Pt||Ca(t,n,a,!1),h=(a&t.childLanes)!==0,Pt||h){if(o=ht,o!==null&&(_=wo(o,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,jr(t,_),En(o,t,_),$f;pc(),n=Ey(t,n,a)}else t=f.treeContext,dt=Gn(_.nextSibling),Zt=n,Fe=!0,Ns=null,Hn=!1,t!==null&&ap(n,t),n=rc(n,o),n.flags|=4096;return n}return t=Ki(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ac(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Zf(t,n,a,o,h){return Br(n),a=Df(t,n,a,o,void 0,h),o=Of(),t!==null&&!Pt?(Vf(t,n,h),Wi(t,n,h)):(Fe&&o&&ff(n),n.flags|=1,Wt(t,n,a,h),n.child)}function by(t,n,a,o,h,f){return Br(n),n.updateQueue=null,a=Ap(n,o,a,h),Sp(t),o=Of(),t!==null&&!Pt?(Vf(t,n,f),Wi(t,n,f)):(Fe&&o&&ff(n),n.flags|=1,Wt(t,n,a,f),n.child)}function Ty(t,n,a,o,h){if(Br(n),n.stateNode===null){var f=wa,_=a.contextType;typeof _=="object"&&_!==null&&(f=Jt(_)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Yf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Sf(n),_=a.contextType,f.context=typeof _=="object"&&_!==null?Jt(_):wa,f.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Kf(n,a,_,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Yf.enqueueReplaceState(f,f.state,null),Wo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var b=n.memoizedProps,N=Kr(a,b);f.props=N;var z=f.context,Q=a.contextType;_=wa,typeof Q=="object"&&Q!==null&&(_=Jt(Q));var W=a.getDerivedStateFromProps;Q=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==_)&&ly(n,f,o,_),Vs=!1;var B=n.memoizedState;f.state=B,Wo(n,o,f,h),Jo(),z=n.memoizedState,b||B!==z||Vs?(typeof W=="function"&&(Kf(n,a,W,o),z=n.memoizedState),(N=Vs||oy(n,a,N,o,B,z,_))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=_,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Af(t,n),_=n.memoizedProps,Q=Kr(a,_),f.props=Q,W=n.pendingProps,B=f.context,z=a.contextType,N=wa,typeof z=="object"&&z!==null&&(N=Jt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||B!==N)&&ly(n,f,o,N),Vs=!1,B=n.memoizedState,f.state=B,Wo(n,o,f,h),Jo();var H=n.memoizedState;_!==W||B!==H||Vs||t!==null&&t.dependencies!==null&&Bu(t.dependencies)?(typeof b=="function"&&(Kf(n,a,b,o),H=n.memoizedState),(Q=Vs||oy(n,a,Q,o,B,H,N)||t!==null&&t.dependencies!==null&&Bu(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=N,o=Q):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,ac(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Gr(n,t.child,null,h),n.child=Gr(n,null,a,h)):Wt(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Wi(t,n,h),t}function Sy(t,n,a,o){return Ur(),n.flags|=256,Wt(t,n,a,o),n.child}var Jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wf(t){return{baseLanes:t,cachePool:fp()}}function ed(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function Ay(t,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Ps(n):js(),(t=dt)?(t=O_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Cs!==null?{id:Ni,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},a=ip(t),a.return=n,n.child=a,Zt=n,dt=null)):t=null,t===null)throw Ds(n);return Pd(t)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(js(),h=n.mode,b=oc({mode:"hidden",children:b},h),o=Lr(o,h,a,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Wf(a),o.childLanes=ed(t,_,a),n.memoizedState=Jf,sl(null,o)):(Ps(n),td(n,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)n.flags&256?(Ps(n),n.flags&=-257,n=nd(t,n,a)):n.memoizedState!==null?(js(),n.child=t.child,n.flags|=128,n=null):(js(),b=o.fallback,h=n.mode,o=oc({mode:"visible",children:o.children},h),b=Lr(b,h,a,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,Gr(n,t.child,null,a),o=n.child,o.memoizedState=Wf(a),o.childLanes=ed(t,_,a),n.memoizedState=Jf,n=sl(null,o));else if(Ps(n),Pd(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(r(419)),o.stack="",o.digest=_,Qo({value:o,source:null,stack:null}),n=nd(t,n,a)}else if(Pt||Ca(t,n,a,!1),_=(a&t.childLanes)!==0,Pt||_){if(_=ht,_!==null&&(o=wo(_,a),o!==0&&o!==N.retryLane))throw N.retryLane=o,jr(t,o),En(_,t,o),$f;kd(b)||pc(),n=nd(t,n,a)}else kd(b)?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,dt=Gn(b.nextSibling),Zt=n,Fe=!0,Ns=null,Hn=!1,t!==null&&ap(n,t),n=td(n,o.children),n.flags|=4096);return n}return h?(js(),b=o.fallback,h=n.mode,N=t.child,z=N.sibling,o=Ki(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?b=Ki(z,b):(b=Lr(b,h,a,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,sl(null,o),o=n.child,b=t.child.memoizedState,b===null?b=Wf(a):(h=b.cachePool,h!==null?(N=Mt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=fp(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=ed(t,_,a),n.memoizedState=Jf,sl(t.child,o)):(Ps(n),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function td(t,n){return n=oc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oc(t,n){return t=xn(22,t,null,n),t.lanes=0,t}function nd(t,n,a){return Gr(n,t.child,null,a),t=td(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function wy(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),yf(t.return,n,a)}function id(t,n,a,o,h,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(_.isBackwards=n,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=f)}function Ry(t,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var _=wt.current,b=(_&2)!==0;if(b?(_=_&1|2,n.flags|=128):_&=1,ie(wt,_),Wt(t,n,o,a),o=Fe?Go:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,a,n);else if(t.tag===19)wy(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),id(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(n,!0,a,null,f,o);break;case"together":id(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),zs|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Ca(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Ki(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function sd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Bu(t)))}function oS(t,n,a){switch(n.tag){case 3:de(n,n.stateNode.containerInfo),Os(n,Mt,t.memoizedState.cache),Ur();break;case 27:case 5:Ze(n);break;case 4:de(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ps(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Ay(t,n,a):(Ps(n),t=Wi(t,n,a),t!==null?t.sibling:null);Ps(n);break;case 19:var h=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ca(t,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ry(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(wt,wt.current),o)break;return null;case 22:return n.lanes=0,_y(t,n,a,n.pendingProps);case 24:Os(n,Mt,t.memoizedState.cache)}return Wi(t,n,a)}function xy(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Pt=!0;else{if(!sd(t,a)&&(n.flags&128)===0)return Pt=!1,oS(t,n,a);Pt=(t.flags&131072)!==0}else Pt=!1,Fe&&(n.flags&1048576)!==0&&rp(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Hr(n.elementType),n.type=t,typeof t=="function")uf(t)?(o=Kr(t,o),n.tag=1,n=Ty(null,n,t,o,a)):(n.tag=0,n=Zf(null,n,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===le){n.tag=11,n=gy(null,n,t,o,a);break e}else if(h===x){n.tag=14,n=py(null,n,t,o,a);break e}}throw n=Ce(t)||t,Error(r(306,n,""))}}return n;case 0:return Zf(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Kr(o,n.pendingProps),Ty(t,n,o,h,a);case 3:e:{if(de(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,Af(t,n),Wo(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Os(n,Mt,o),o!==f.cache&&_f(n,[Mt],a,!0),Jo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Sy(t,n,o,a);break e}else if(o!==h){h=zn(Error(r(424)),n),Qo(h),n=Sy(t,n,o,a);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,dt=Gn(t.firstChild),Zt=n,Fe=!0,Ns=null,Hn=!0,a=_p(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ur(),o===h){n=Wi(t,n,a);break e}Wt(t,n,o,a)}n=n.child}return n;case 26:return ac(t,n),t===null?(a=L_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Fe||(a=n.type,t=n.pendingProps,o=Sc(Ee.current).createElement(a),o[Dt]=n,o[Gt]=t,en(o,a,t),Ot(o),n.stateNode=o):n.memoizedState=L_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ze(n),t===null&&Fe&&(o=n.stateNode=k_(n.type,n.pendingProps,Ee.current),Zt=n,Hn=!0,h=dt,Gs(n.type)?(jd=h,dt=Gn(o.firstChild)):dt=h),Wt(t,n,n.pendingProps.children,a),ac(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=o=dt)&&(o=jS(o,n.type,n.pendingProps,Hn),o!==null?(n.stateNode=o,Zt=n,dt=Gn(o.firstChild),Hn=!1,h=!0):h=!1),h||Ds(n)),Ze(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,o=f.children,Od(h,f)?o=null:_!==null&&Od(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Df(t,n,JT,null,null,a),vl._currentValue=h),ac(t,n),Wt(t,n,o,a),n.child;case 6:return t===null&&Fe&&((t=a=dt)&&(a=LS(a,n.pendingProps,Hn),a!==null?(n.stateNode=a,Zt=n,dt=null,t=!0):t=!1),t||Ds(n)),null;case 13:return Ay(t,n,a);case 4:return de(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Gr(n,null,o,a):Wt(t,n,o,a),n.child;case 11:return gy(t,n,n.type,n.pendingProps,a);case 7:return Wt(t,n,n.pendingProps,a),n.child;case 8:return Wt(t,n,n.pendingProps.children,a),n.child;case 12:return Wt(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),Wt(t,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Br(n),h=Jt(h),o=o(h),n.flags|=1,Wt(t,n,o,a),n.child;case 14:return py(t,n,n.type,n.pendingProps,a);case 15:return yy(t,n,n.type,n.pendingProps,a);case 19:return Ry(t,n,a);case 31:return aS(t,n,a);case 22:return _y(t,n,a,n.pendingProps);case 24:return Br(n),o=Jt(Mt),t===null?(h=bf(),h===null&&(h=ht,f=vf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Sf(n),Os(n,Mt,h)):((t.lanes&a)!==0&&(Af(t,n),Wo(n,null,null,a),Jo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,Mt,o)):(o=f.cache,Os(n,Mt,o),o!==h.cache&&_f(n,[Mt],a,!0))),Wt(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function es(t){t.flags|=4}function rd(t,n,a,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(e_())t.flags|=8192;else throw Fr=Gu,Tf}else t.flags&=-16777217}function Iy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!H_(n))if(e_())t.flags|=8192;else throw Fr=Gu,Tf}function lc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?mu():536870912,t.lanes|=n,Ba|=n)}function rl(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function mt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function lS(t,n,a){var o=n.pendingProps;switch(df(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(n),null;case 1:return mt(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(Mt),ke(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ia(n)?es(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gf())),mt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(es(n),f!==null?(mt(n),Iy(n,f)):(mt(n),rd(n,h,null,o,a))):f?f!==t.memoizedState?(es(n),mt(n),Iy(n,f)):(mt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&es(n),mt(n),rd(n,h,t,o,a)),null;case 27:if(pt(n),a=Ee.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}t=ne.current,Ia(n)?op(n):(t=k_(h,o,a),n.stateNode=t,es(n))}return mt(n),null;case 5:if(pt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&es(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return mt(n),null}if(f=ne.current,Ia(n))op(n);else{var _=Sc(Ee.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}f[Dt]=n,f[Gt]=o;e:for(_=n.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===n)break e;for(;_.sibling===null;){if(_.return===null||_.return===n)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}n.stateNode=f;e:switch(en(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&es(n)}}return mt(n),rd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&es(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=Ee.current,Ia(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||A_(t.nodeValue,a)),t||Ds(n,!0)}else t=Sc(t).createTextNode(o),t[Dt]=n,n.stateNode=t}return mt(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ia(n),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Dt]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),t=!1}else a=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return mt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Dt]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;mt(n),h=!1}else h=gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),lc(n,n.updateQueue),mt(n),null);case 4:return ke(),t===null&&xd(n.stateNode.containerInfo),mt(n),null;case 10:return $i(n.type),mt(n),null;case 19:if(X(wt),o=n.memoizedState,o===null)return mt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)rl(o,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Xu(t),f!==null){for(n.flags|=128,rl(o,!1),t=f.updateQueue,n.updateQueue=t,lc(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)np(a,t),a=a.sibling;return ie(wt,wt.current&1|2),Fe&&Yi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&hn()>dc&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Xu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,lc(n,t),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Fe)return mt(n),null}else 2*hn()-o.renderingStartTime>dc&&a!==536870912&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=hn(),t.sibling=null,a=wt.current,ie(wt,h?a&1|2:a&1),Fe&&Yi(n,o.treeForkCount),t):(mt(n),null);case 22:case 23:return Cn(n),If(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(mt(n),n.subtreeFlags&6&&(n.flags|=8192)):mt(n),a=n.updateQueue,a!==null&&lc(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&X(qr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),$i(Mt),mt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function uS(t,n){switch(df(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return $i(Mt),ke(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return pt(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(r(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Cn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return X(wt),null;case 4:return ke(),null;case 10:return $i(n.type),null;case 22:case 23:return Cn(n),If(),t!==null&&X(qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return $i(Mt),null;case 25:return null;default:return null}}function Cy(t,n){switch(df(n),n.tag){case 3:$i(Mt),ke();break;case 26:case 27:case 5:pt(n);break;case 4:ke();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:X(wt);break;case 10:$i(n.type);break;case 22:case 23:Cn(n),If(),t!==null&&X(qr);break;case 24:$i(Mt)}}function al(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var f=a.create,_=a.inst;o=f(),_.destroy=o}a=a.next}while(a!==h)}}catch(b){st(n,n.return,b)}}function Ls(t,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var _=o.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,h=n;var N=a,z=b;try{z()}catch(Q){st(h,N,Q)}}}o=o.next}while(o!==f)}}catch(Q){st(n,n.return,Q)}}function Ny(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Ep(n,a)}catch(o){st(t,t.return,o)}}}function Dy(t,n,a){a.props=Kr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){st(t,n,o)}}function ol(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){st(t,n,h)}}function Oi(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){st(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){st(t,n,h)}else a.current=null}function Oy(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){st(t,t.return,h)}}function ad(t,n,a){try{var o=t.stateNode;DS(o,t.type,a,n),o[Gt]=n}catch(h){st(t,t.return,h)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function od(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ld(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ti));else if(o!==4&&(o===27&&Gs(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(ld(t,n,a),t=t.sibling;t!==null;)ld(t,n,a),t=t.sibling}function uc(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&Gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(uc(t,n,a),t=t.sibling;t!==null;)uc(t,n,a),t=t.sibling}function My(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);en(n,o,a),n[Dt]=t,n[Gt]=a}catch(f){st(t,t.return,f)}}var ts=!1,jt=!1,ud=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function cS(t,n){if(t=t.containerInfo,Nd=Nc,t=Kg(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,z=0,Q=0,W=t,B=null;t:for(;;){for(var H;W!==a||h!==0&&W.nodeType!==3||(b=_+h),W!==f||o!==0&&W.nodeType!==3||(N=_+o),W.nodeType===3&&(_+=W.nodeValue.length),(H=W.firstChild)!==null;)B=W,W=H;for(;;){if(W===t)break t;if(B===a&&++z===h&&(b=_),B===f&&++Q===o&&(N=_),(H=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=H}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Dd={focusedElem:t,selectionRange:a},Nc=!1,Kt=n;Kt!==null;)if(n=Kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Kt=t;else for(;Kt!==null;){switch(n=Kt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var fe=Kr(a.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){st(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Kt=t;break}Kt=n.return}}function Py(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:is(t,a),o&4&&al(5,a);break;case 1:if(is(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){st(a,a.return,_)}else{var h=Kr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){st(a,a.return,_)}}o&64&&Ny(a),o&512&&ol(a,a.return);break;case 3:if(is(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Ep(t,n)}catch(_){st(a,a.return,_)}}break;case 27:n===null&&o&4&&My(a);case 26:case 5:is(t,a),n===null&&o&4&&Oy(a),o&512&&ol(a,a.return);break;case 12:is(t,a);break;case 31:is(t,a),o&4&&Uy(t,a);break;case 13:is(t,a),o&4&&zy(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=vS.bind(null,a),US(t,a))));break;case 22:if(o=a.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||jt,h=ts;var f=jt;ts=o,(jt=n)&&!f?ss(t,a,(a.subtreeFlags&8772)!==0):is(t,a),ts=h,jt=f}break;case 30:break;default:is(t,a)}}function jy(t){var n=t.alternate;n!==null&&(t.alternate=null,jy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,pn=!1;function ns(t,n,a){for(a=a.child;a!==null;)Ly(t,n,a),a=a.sibling}function Ly(t,n,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:jt||Oi(a,n),ns(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Oi(a,n);var o=_t,h=pn;Gs(a.type)&&(_t=a.stateNode,pn=!1),ns(t,n,a),pl(a.stateNode),_t=o,pn=h;break;case 5:jt||Oi(a,n);case 6:if(o=_t,h=pn,_t=null,ns(t,n,a),_t=o,pn=h,_t!==null)if(pn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(f){st(a,n,f)}else try{_t.removeChild(a.stateNode)}catch(f){st(a,n,f)}break;case 18:_t!==null&&(pn?(t=_t,N_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):N_(_t,a.stateNode));break;case 4:o=_t,h=pn,_t=a.stateNode.containerInfo,pn=!0,ns(t,n,a),_t=o,pn=h;break;case 0:case 11:case 14:case 15:Ls(2,a,n),jt||Ls(4,a,n),ns(t,n,a);break;case 1:jt||(Oi(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dy(a,n,o)),ns(t,n,a);break;case 21:ns(t,n,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,ns(t,n,a),jt=o;break;default:ns(t,n,a)}}function Uy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){st(n,n.return,a)}}}function zy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){st(n,n.return,a)}}function hS(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ky),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ky),n;default:throw Error(r(435,t.tag))}}function cc(t,n){var a=hS(t);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=ES.bind(null,t,o);o.then(h,h)}})}function yn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=t,_=n,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Gs(b.type)){_t=b.stateNode,pn=!1;break e}break;case 5:_t=b.stateNode,pn=!1;break e;case 3:case 4:_t=b.stateNode.containerInfo,pn=!0;break e}b=b.return}if(_t===null)throw Error(r(160));Ly(f,_,h),_t=null,pn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)By(n,t),n=n.sibling}var oi=null;function By(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(n,t),_n(t),o&4&&(Ls(3,t,t.return),al(3,t),Ls(5,t,t.return));break;case 1:yn(n,t),_n(t),o&512&&(jt||a===null||Oi(a,a.return)),o&64&&ts&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=oi;if(yn(n,t),_n(t),o&512&&(jt||a===null||Oi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[_i]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),en(f,o,a),f[Dt]=t,Ot(f),o=f;break e;case"link":var _=B_("link","href",h).get(o+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(f=_[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}f=h.createElement(o),en(f,o,a),h.head.appendChild(f);break;case"meta":if(_=B_("meta","content",h).get(o+(a.content||""))){for(b=0;b<_.length;b++)if(f=_[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}f=h.createElement(o),en(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Dt]=t,Ot(f),o=f}t.stateNode=o}else q_(h,t.type,t.stateNode);else t.stateNode=z_(h,o,t.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?q_(h,t.type,t.stateNode):z_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(n,t),_n(t),o&512&&(jt||a===null||Oi(a,a.return)),a!==null&&o&4&&ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(n,t),_n(t),o&512&&(jt||a===null||Oi(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(fe){st(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,ad(t,h,a!==null?a.memoizedProps:h)),o&1024&&(ud=!0);break;case 6:if(yn(n,t),_n(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(fe){st(t,t.return,fe)}}break;case 3:if(Rc=null,h=oi,oi=Ac(n.containerInfo),yn(n,t),oi=h,_n(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(fe){st(t,t.return,fe)}ud&&(ud=!1,qy(t));break;case 4:o=oi,oi=Ac(t.stateNode.containerInfo),yn(n,t),_n(t),oi=o;break;case 12:yn(n,t),_n(t);break;case 31:yn(n,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 13:yn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(fc=hn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,z=ts,Q=jt;if(ts=z||h,jt=Q||N,yn(n,t),jt=Q,ts=z,_n(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||N||ts||jt||Yr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(f=N.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var W=N.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(fe){st(N,N.return,fe)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){st(N,N.return,fe)}}}else if(n.tag===18){if(a===null){N=n;try{var H=N.stateNode;h?D_(H,!0):D_(N.stateNode,!1)}catch(fe){st(N,N.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,cc(t,a))));break;case 19:yn(n,t),_n(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,cc(t,o)));break;case 30:break;case 21:break;default:yn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(Vy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=od(t);uc(t,f,h);break;case 5:var _=a.stateNode;a.flags&32&&(gn(_,""),a.flags&=-33);var b=od(t);uc(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,z=od(t);ld(t,z,N);break;default:throw Error(r(161))}}catch(Q){st(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;qy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function is(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Py(t,n.alternate,n),n=n.sibling}function Yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Yr(n);break;case 1:Oi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Dy(n,n.return,a),Yr(n);break;case 27:pl(n.stateNode);case 26:case 5:Oi(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}t=t.sibling}}function ss(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,a),al(4,f);break;case 1:if(ss(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){st(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)vp(N[h],b)}catch(z){st(o,o.return,z)}}a&&_&64&&Ny(f),ol(f,f.return);break;case 27:My(f);case 26:case 5:ss(h,f,a),a&&o===null&&_&4&&Oy(f),ol(f,f.return);break;case 12:ss(h,f,a);break;case 31:ss(h,f,a),a&&_&4&&Uy(h,f);break;case 13:ss(h,f,a),a&&_&4&&zy(h,f);break;case 22:f.memoizedState===null&&ss(h,f,a),ol(f,f.return);break;case 30:break;default:ss(h,f,a)}n=n.sibling}}function cd(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ko(a))}function hd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t))}function li(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Hy(t,n,a,o),n=n.sibling}function Hy(t,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:li(t,n,a,o),h&2048&&al(9,n);break;case 1:li(t,n,a,o);break;case 3:li(t,n,a,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ko(t)));break;case 12:if(h&2048){li(t,n,a,o),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,b=f.onPostCommit;typeof b=="function"&&b(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){st(n,n.return,N)}}else li(t,n,a,o);break;case 31:li(t,n,a,o);break;case 13:li(t,n,a,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?li(t,n,a,o):ll(t,n):f._visibility&2?li(t,n,a,o):(f._visibility|=2,La(t,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&cd(_,n);break;case 24:li(t,n,a,o),h&2048&&hd(n.alternate,n);break;default:li(t,n,a,o)}}function La(t,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,_=n,b=a,N=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:La(f,_,b,N,h),al(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?La(f,_,b,N,h):ll(f,_):(Q._visibility|=2,La(f,_,b,N,h)),h&&z&2048&&cd(_.alternate,_);break;case 24:La(f,_,b,N,h),h&&z&2048&&hd(_.alternate,_);break;default:La(f,_,b,N,h)}n=n.sibling}}function ll(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,h=o.flags;switch(o.tag){case 22:ll(a,o),h&2048&&cd(o.alternate,o);break;case 24:ll(a,o),h&2048&&hd(o.alternate,o);break;default:ll(a,o)}n=n.sibling}}var ul=8192;function Ua(t,n,a){if(t.subtreeFlags&ul)for(t=t.child;t!==null;)Fy(t,n,a),t=t.sibling}function Fy(t,n,a){switch(t.tag){case 26:Ua(t,n,a),t.flags&ul&&t.memoizedState!==null&&ZS(a,oi,t.memoizedState,t.memoizedProps);break;case 5:Ua(t,n,a);break;case 3:case 4:var o=oi;oi=Ac(t.stateNode.containerInfo),Ua(t,n,a),oi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Ua(t,n,a),ul=o):Ua(t,n,a));break;default:Ua(t,n,a)}}function Gy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function cl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,Ky(o,t)}Gy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qy(t),t=t.sibling}function Qy(t){switch(t.tag){case 0:case 11:case 15:cl(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:cl(t);break;case 12:cl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hc(t)):cl(t);break;default:cl(t)}}function hc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Kt=o,Ky(o,t)}Gy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),hc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hc(n));break;default:hc(n)}t=t.sibling}}function Ky(t,n){for(;Kt!==null;){var a=Kt;switch(a.tag){case 0:case 11:case 15:Ls(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ko(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Kt=o;else e:for(a=t;Kt!==null;){o=Kt;var h=o.sibling,f=o.return;if(jy(o),o===a){Kt=null;break e}if(h!==null){h.return=f,Kt=h;break e}Kt=f}}}var fS={getCacheForType:function(t){var n=Jt(Mt),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Jt(Mt).controller.signal}},dS=typeof WeakMap=="function"?WeakMap:Map,We=0,ht=null,Pe=null,Ue=0,it=0,Nn=null,Us=!1,za=!1,fd=!1,rs=0,Tt=0,zs=0,Xr=0,dd=0,Dn=0,Ba=0,hl=null,vn=null,md=!1,fc=0,Yy=0,dc=1/0,mc=null,Bs=null,qt=0,qs=null,qa=null,as=0,gd=0,pd=null,Xy=null,fl=0,yd=null;function On(){return(We&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?Sd():gu()}function $y(){if(Dn===0)if((Ue&536870912)===0||Fe){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Dn=t}else Dn=536870912;return t=In.current,t!==null&&(t.flags|=32),Dn}function En(t,n,a){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(Ha(t,0),Hs(t,Ue,Dn,!1)),Sr(t,a),((We&2)===0||t!==ht)&&(t===ht&&((We&2)===0&&(Xr|=a),Tt===4&&Hs(t,Ue,Dn,!1)),Vi(t))}function Zy(t,n,a){if((We&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Jn(t,n),h=o?pS(t,n):vd(t,n,!0),f=o;do{if(h===0){za&&!o&&Hs(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!mS(a)){h=vd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var b=t;h=hl;var N=b.current.memoizedState.isDehydrated;if(N&&(Ha(b,_).flags|=256),_=vd(b,_,!1),_!==2){if(fd&&!N){b.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break e}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ha(t,0),Hs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Hs(o,n,Dn,!Us);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=fc+300-hn(),10<h)){if(Hs(o,n,Dn,!Us),gi(o,0,!0)!==0)break e;as=n,o.timeoutHandle=I_(Jy.bind(null,o,a,vn,mc,md,n,Dn,Xr,Ba,Us,f,"Throttled",-0,0),h);break e}Jy(o,a,vn,mc,md,n,Dn,Xr,Ba,Us,f,null,-0,0)}}break}while(!0);Vi(t)}function Jy(t,n,a,o,h,f,_,b,N,z,Q,W,B,H){if(t.timeoutHandle=-1,W=n.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Fy(n,f,W);var fe=(f&62914560)===f?fc-hn():(f&4194048)===f?Yy-hn():0;if(fe=JS(W,fe),fe!==null){as=f,t.cancelPendingCommit=fe(a_.bind(null,t,n,f,a,o,h,_,b,N,Q,W,null,B,H)),Hs(t,f,_,!z);return}}a_(t,n,f,a,o,h,_,b,N)}function mS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!Rn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(t,n,a,o){n&=~dd,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-St(h),_=1<<f;o[f]=-1,h&=~_}a!==0&&Ar(t,a,n)}function gc(){return(We&6)===0?(dl(0),!1):!0}function _d(){if(Pe!==null){if(it===0)var t=Pe.return;else t=Pe,Xi=zr=null,Mf(t),Va=null,Xo=0,t=Pe;for(;t!==null;)Cy(t.alternate,t),t=t.return;Pe=null}}function Ha(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,MS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),as=0,_d(),ht=t,Pe=a=Ki(t.current,null),Ue=n,it=0,Nn=null,Us=!1,za=Jn(t,n),fd=!1,Ba=Dn=dd=Xr=zs=Tt=0,vn=hl=null,md=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-St(o),f=1<<h;n|=t[h],o&=~f}return rs=n,Pu(),a}function Wy(t,n){De=null,F.H=il,n===Oa||n===Fu?(n=gp(),it=3):n===Tf?(n=gp(),it=4):it=n===$f?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Pe===null&&(Tt=1,sc(t,zn(n,t.current)))}function e_(){var t=In.current;return t===null?!0:(Ue&4194048)===Ue?Fn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Fn:!1}function t_(){var t=F.H;return F.H=il,t===null?il:t}function n_(){var t=F.A;return F.A=fS,t}function pc(){Tt=4,Us||(Ue&4194048)!==Ue&&In.current!==null||(za=!0),(zs&134217727)===0&&(Xr&134217727)===0||ht===null||Hs(ht,Ue,Dn,!1)}function vd(t,n,a){var o=We;We|=2;var h=t_(),f=n_();(ht!==t||Ue!==n)&&(mc=null,Ha(t,n)),n=!1;var _=Tt;e:do try{if(it!==0&&Pe!==null){var b=Pe,N=Nn;switch(it){case 8:_d(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var z=it;if(it=0,Nn=null,Fa(t,b,N,z),a&&za){_=0;break e}break;default:z=it,it=0,Nn=null,Fa(t,b,N,z)}}gS(),_=Tt;break}catch(Q){Wy(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Xi=zr=null,We=o,F.H=h,F.A=f,Pe===null&&(ht=null,Ue=0,Pu()),_}function gS(){for(;Pe!==null;)i_(Pe)}function pS(t,n){var a=We;We|=2;var o=t_(),h=n_();ht!==t||Ue!==n?(mc=null,dc=hn()+500,Ha(t,n)):za=Jn(t,n);e:do try{if(it!==0&&Pe!==null){n=Pe;var f=Nn;t:switch(it){case 1:it=0,Nn=null,Fa(t,n,f,1);break;case 2:case 9:if(dp(f)){it=0,Nn=null,s_(n);break}n=function(){it!==2&&it!==9||ht!==t||(it=7),Vi(t)},f.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:dp(f)?(it=0,Nn=null,s_(n)):(it=0,Nn=null,Fa(t,n,f,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var b=Pe;if(_?H_(_):b.stateNode.complete){it=0,Nn=null;var N=b.sibling;if(N!==null)Pe=N;else{var z=b.return;z!==null?(Pe=z,yc(z)):Pe=null}break t}}it=0,Nn=null,Fa(t,n,f,5);break;case 6:it=0,Nn=null,Fa(t,n,f,6);break;case 8:_d(),Tt=6;break e;default:throw Error(r(462))}}yS();break}catch(Q){Wy(t,Q)}while(!0);return Xi=zr=null,F.H=o,F.A=h,We=a,Pe!==null?0:(ht=null,Ue=0,Pu(),Tt)}function yS(){for(;Pe!==null&&!Yh();)i_(Pe)}function i_(t){var n=xy(t.alternate,t,rs);t.memoizedProps=t.pendingProps,n===null?yc(t):Pe=n}function s_(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=by(a,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=by(a,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Mf(n);default:Cy(a,n),n=Pe=np(n,rs),n=xy(a,n,rs)}t.memoizedProps=t.pendingProps,n===null?yc(t):Pe=n}function Fa(t,n,a,o){Xi=zr=null,Mf(n),Va=null,Xo=0;var h=n.return;try{if(rS(t,h,n,a,Ue)){Tt=1,sc(t,zn(a,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;Tt=1,sc(t,zn(a,t.current)),Pe=null;return}n.flags&32768?(Fe||o===1?t=!0:za||(Ue&536870912)!==0?t=!1:(Us=t=!0,(o===2||o===9||o===3||o===6)&&(o=In.current,o!==null&&o.tag===13&&(o.flags|=16384))),r_(n,t)):yc(n)}function yc(t){var n=t;do{if((n.flags&32768)!==0){r_(n,Us);return}t=n.return;var a=lS(n.alternate,n,rs);if(a!==null){Pe=a;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=t}while(n!==null);Tt===0&&(Tt=5)}function r_(t,n){do{var a=uS(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);Tt=6,Pe=null}function a_(t,n,a,o,h,f,_,b,N){t.cancelPendingCommit=null;do _c();while(qt!==0);if((We&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=of,Zh(t,a,f,_,b,N),t===ht&&(Pe=ht=null,Ue=0),qa=n,qs=t,as=a,gd=f,pd=h,Xy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,bS(vs,function(){return h_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=re.p,re.p=2,_=We,We|=4;try{cS(t,n,a)}finally{We=_,re.p=h,F.T=o}}qt=1,o_(),l_(),u_()}}function o_(){if(qt===1){qt=0;var t=qs,n=qa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=re.p;re.p=2;var h=We;We|=4;try{By(n,t);var f=Dd,_=Kg(t.containerInfo),b=f.focusedElem,N=f.selectionRange;if(_!==b&&b&&b.ownerDocument&&Qg(b.ownerDocument.documentElement,b)){if(N!==null&&tf(b)){var z=N.start,Q=N.end;if(Q===void 0&&(Q=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(Q,b.value.length);else{var W=b.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var H=B.getSelection(),fe=b.textContent.length,be=Math.min(N.start,fe),ut=N.end===void 0?be:Math.min(N.end,fe);!H.extend&&be>ut&&(_=ut,ut=be,be=_);var P=Gg(b,be),M=Gg(b,ut);if(P&&M&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var U=W.createRange();U.setStart(P.node,P.offset),H.removeAllRanges(),be>ut?(H.addRange(U),H.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),H.addRange(U))}}}}for(W=[],H=b;H=H.parentNode;)H.nodeType===1&&W.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var Z=W[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Nc=!!Nd,Dd=Nd=null}finally{We=h,re.p=o,F.T=a}}t.current=n,qt=2}}function l_(){if(qt===2){qt=0;var t=qs,n=qa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=re.p;re.p=2;var h=We;We|=4;try{Py(t,n.alternate,n)}finally{We=h,re.p=o,F.T=a}}qt=3}}function u_(){if(qt===4||qt===3){qt=0,lu();var t=qs,n=qa,a=as,o=Xy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qt=5:(qt=0,qa=qs=null,c_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bs=null),Hi(a),n=n.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Zn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=re.p,re.p=2,F.T=null;try{for(var f=t.onRecoverableError,_=0;_<o.length;_++){var b=o[_];f(b.value,{componentStack:b.stack})}}finally{F.T=n,re.p=h}}(as&3)!==0&&_c(),Vi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===yd?fl++:(fl=0,yd=t):fl=0,dl(0)}}function c_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ko(n)))}function _c(){return o_(),l_(),u_(),h_()}function h_(){if(qt!==5)return!1;var t=qs,n=gd;gd=0;var a=Hi(as),o=F.T,h=re.p;try{re.p=32>a?32:a,F.T=null,a=pd,pd=null;var f=qs,_=as;if(qt=0,qa=qs=null,as=0,(We&6)!==0)throw Error(r(331));var b=We;if(We|=4,Qy(f.current),Hy(f,f.current,_,a),We=b,dl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Zn,f)}catch{}return!0}finally{re.p=h,F.T=o,c_(t,n)}}function f_(t,n,a){n=zn(a,n),n=Xf(t.stateNode,n,2),t=ks(t,n,2),t!==null&&(Sr(t,2),Vi(t))}function st(t,n,a){if(t.tag===3)f_(t,t,a);else for(;n!==null;){if(n.tag===3){f_(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){t=zn(a,t),a=dy(2),o=ks(n,a,2),o!==null&&(my(a,o,n,t),Sr(o,2),Vi(o));break}}n=n.return}}function Ed(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new dS;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(fd=!0,h.add(a),t=_S.bind(null,t,n,a),n.then(t,t))}function _S(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Ue&a)===a&&(Tt===4||Tt===3&&(Ue&62914560)===Ue&&300>hn()-fc?(We&2)===0&&Ha(t,0):dd|=a,Ba===Ue&&(Ba=0)),Vi(t)}function d_(t,n){n===0&&(n=mu()),t=jr(t,n),t!==null&&(Sr(t,n),Vi(t))}function vS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),d_(t,a)}function ES(t,n){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),d_(t,a)}function bS(t,n){return tt(t,n)}var vc=null,Ga=null,bd=!1,Ec=!1,Td=!1,Fs=0;function Vi(t){t!==Ga&&t.next===null&&(Ga===null?vc=Ga=t:Ga=Ga.next=t),Ec=!0,bd||(bd=!0,SS())}function dl(t,n){if(!Td&&Ec){Td=!0;do for(var a=!1,o=vc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var _=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-St(42|t)+1)-1,f&=h&~(_&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,y_(o,f))}else f=Ue,f=gi(o,o===ht?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jn(o,f)||(a=!0,y_(o,f));o=o.next}while(a);Td=!1}}function TS(){m_()}function m_(){Ec=bd=!1;var t=0;Fs!==0&&VS()&&(t=Fs);for(var n=hn(),a=null,o=vc;o!==null;){var h=o.next,f=g_(o,n);f===0?(o.next=null,a===null?vc=h:a.next=h,h===null&&(Ga=a)):(a=o,(t!==0||(f&3)!==0)&&(Ec=!0)),o=h}qt!==0&&qt!==5||dl(t),Fs!==0&&(Fs=0)}function g_(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-St(f),b=1<<_,N=h[_];N===-1?((b&a)===0||(b&o)!==0)&&(h[_]=$h(b,n)):N<=n&&(t.expiredLanes|=b),f&=~b}if(n=ht,a=Ue,a=gi(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&fi(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&fi(o),Hi(a)){case 2:case 8:a=So;break;case 32:a=vs;break;case 268435456:a=uu;break;default:a=vs}return o=p_.bind(null,t),a=tt(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&fi(o),t.callbackPriority=2,t.callbackNode=null,2}function p_(t,n){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_c()&&t.callbackNode!==a)return null;var o=Ue;return o=gi(t,t===ht?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Zy(t,o,n),g_(t,hn()),t.callbackNode!=null&&t.callbackNode===a?p_.bind(null,t):null)}function y_(t,n){if(_c())return null;Zy(t,n,!0)}function SS(){kS(function(){(We&6)!==0?tt(To,TS):m_()})}function Sd(){if(Fs===0){var t=Na;t===0&&(t=di,di<<=1,(di&261888)===0&&(di=256)),Fs=t}return Fs}function __(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function v_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function AS(t,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=__((h[Gt]||null).action),_=o.submitter;_&&(n=(n=_[Gt]||null)?__(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var b=new Ri("action","action",null,o,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var N=_?v_(h,_):new FormData(h);Hf(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=_?v_(h,_):new FormData(h),Hf(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Ad=0;Ad<af.length;Ad++){var wd=af[Ad],wS=wd.toLowerCase(),RS=wd[0].toUpperCase()+wd.slice(1);ai(wS,"on"+RS)}ai($g,"onAnimationEnd"),ai(Zg,"onAnimationIteration"),ai(Jg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(qT,"onTransitionRun"),ai(HT,"onTransitionStart"),ai(FT,"onTransitionCancel"),ai(Wg,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function E_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var b=o[_],N=b.instance,z=b.currentTarget;if(b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(Q){ku(Q)}h.currentTarget=null,f=N}else for(_=0;_<o.length;_++){if(b=o[_],N=b.instance,z=b.currentTarget,b=b.listener,N!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=z;try{f(h)}catch(Q){ku(Q)}h.currentTarget=null,f=N}}}}function je(t,n){var a=n[ca];a===void 0&&(a=n[ca]=new Set);var o=t+"__bubble";a.has(o)||(b_(n,t,2,!1),a.add(o))}function Rd(t,n,a){var o=0;n&&(o|=4),b_(a,t,o,n)}var bc="_reactListening"+Math.random().toString(36).slice(2);function xd(t){if(!t[bc]){t[bc]=!0,Ro.forEach(function(a){a!=="selectionchange"&&(xS.has(a)||Rd(a,!1,t),Rd(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bc]||(n[bc]=!0,Rd("selectionchange",!1,n))}}function b_(t,n,a,o){switch($_(n)){case 2:var h=tA;break;case 8:h=nA;break;default:h=qd}a=h.bind(null,n,a,t),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Id(t,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var b=o.stateNode.containerInfo;if(b===h)break;if(_===4)for(_=o.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;b!==null;){if(_=vi(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){o=f=_;continue e}b=b.parentNode}}o=o.return}ws(function(){var z=f,Q=Pn(a),W=[];e:{var B=ep.get(t);if(B!==void 0){var H=Ri,fe=t;switch(t){case"keypress":if(Dr(a)===0)break e;case"keydown":case"keyup":H=Ou;break;case"focusin":fe="focus",H=Vr;break;case"focusout":fe="blur",H=Vr;break;case"beforeblur":case"afterblur":H=Vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case $g:case Zg:case Jg:H=wu;break;case Wg:H=S;break;case"scroll":case"scrollend":H=Lo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Qi;break;case"toggle":case"beforetoggle":H=Ne}var be=(n&4)!==0,ut=!be&&(t==="scroll"||t==="scrollend"),P=be?B!==null?B+"Capture":null:B;be=[];for(var M=z,U;M!==null;){var Z=M;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||P===null||(Z=ni(M,P),Z!=null&&be.push(gl(M,Z,U))),ut)break;M=M.return}0<be.length&&(B=new H(B,fe,null,a,Q),W.push({event:B,listeners:be}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==ko&&(fe=a.relatedTarget||a.fromElement)&&(vi(fe)||fe[yi]))break e;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(fe=a.relatedTarget||a.toElement,H=z,fe=fe?vi(fe):null,fe!==null&&(ut=u(fe),be=fe.tag,fe!==ut||be!==5&&be!==27&&be!==6)&&(fe=null)):(H=null,fe=z),H!==fe)){if(be=Uo,Z="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(be=Qi,Z="onPointerLeave",P="onPointerEnter",M="pointer"),ut=H==null?B:An(H),U=fe==null?B:An(fe),B=new be(Z,M+"leave",H,a,Q),B.target=ut,B.relatedTarget=U,Z=null,vi(Q)===z&&(be=new be(P,M+"enter",fe,a,Q),be.target=U,be.relatedTarget=ut,Z=be),ut=Z,H&&fe)t:{for(be=IS,P=H,M=fe,U=0,Z=P;Z;Z=be(Z))U++;Z=0;for(var ye=M;ye;ye=be(ye))Z++;for(;0<U-Z;)P=be(P),U--;for(;0<Z-U;)M=be(M),Z--;for(;U--;){if(P===M||M!==null&&P===M.alternate){be=P;break t}P=be(P),M=be(M)}be=null}else be=null;H!==null&&T_(W,B,H,be,!1),fe!==null&&ut!==null&&T_(W,ut,fe,be,!0)}}e:{if(B=z?An(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ye=Ug;else if(jg(B))if(zg)Ye=UT;else{Ye=jT;var ge=PT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ma(z.elementType)&&(Ye=Ug):Ye=LT;if(Ye&&(Ye=Ye(t,z))){Lg(W,Ye,a,Q);break e}ge&&ge(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Oo(B,"number",B.value)}switch(ge=z?An(z):window,t){case"focusin":(jg(ge)||ge.contentEditable==="true")&&(Ta=ge,nf=z,Fo=null);break;case"focusout":Fo=nf=Ta=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,Yg(W,a,Q);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":Yg(W,a,Q)}var Me;if(Je)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ba?Mr(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Ci&&a.locale!=="ko"&&(ba||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ba&&(Me=jo()):(wi=Q,Po="value"in wi?wi.value:wi.textContent,ba=!0)),ge=Tc(z,ze),0<ge.length&&(ze=new Ii(ze,t,null,a,Q),W.push({event:ze,listeners:ge}),Me?ze.data=Me:(Me=Ea(a),Me!==null&&(ze.data=Me)))),(Me=Ln?OT(t,a):VT(t,a))&&(ze=Tc(z,"onBeforeInput"),0<ze.length&&(ge=new Ii("onBeforeInput","beforeinput",null,a,Q),W.push({event:ge,listeners:ze}),ge.data=Me)),AS(W,t,z,a,Q)}E_(W,n)})}function gl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Tc(t,n){for(var a=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ni(t,a),h!=null&&o.unshift(gl(t,h,f)),h=ni(t,n),h!=null&&o.push(gl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function IS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T_(t,n,a,o,h){for(var f=n._reactName,_=[];a!==null&&a!==o;){var b=a,N=b.alternate,z=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||z===null||(N=z,h?(z=ni(a,f),z!=null&&_.unshift(gl(a,z,N))):h||(z=ni(a,f),z!=null&&_.push(gl(a,z,N)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var CS=/\r\n?/g,NS=/\u0000|\uFFFD/g;function S_(t){return(typeof t=="string"?t:""+t).replace(CS,`
`).replace(NS,"")}function A_(t,n){return n=S_(n),S_(t)===n}function lt(t,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(t,""+o);break;case"className":wn(t,"class",o);break;case"tabIndex":wn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){wn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ga(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ga(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ti);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":je("beforetoggle",t),je("toggle",t),fa(t,"popover",o);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tu.get(a)||a,fa(t,a,o))}}function Cd(t,n,a,o,h,f){switch(a){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?gn(t,o):(typeof o=="number"||typeof o=="bigint")&&gn(t,""+o);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[Gt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):fa(t,a,o)}}}function en(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,f,_,a,null)}}h&&lt(t,n,"srcSet",a.srcSet,a,null),o&&lt(t,n,"src",a.src,a,null);return;case"input":je("invalid",t);var b=f=_=h=null,N=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":_=Q;break;case"checked":N=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:lt(t,n,o,Q,a,null)}}vu(t,f,b,N,z,_,h,!1);return;case"select":je("invalid",t),o=_=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":_=b;break;case"multiple":o=b;default:lt(t,n,h,b,a,null)}n=f,a=_,t.multiple=!!o,n!=null?bs(t,!!o,n,!1):a!=null&&bs(t,!!o,a,!0);return;case"textarea":je("invalid",t),f=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:lt(t,n,_,b,a,null)}Ts(t,o,h,f);return;case"option":for(N in a)a.hasOwnProperty(N)&&(o=a[N],o!=null)&&(N==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":lt(t,n,N,o,a,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(o=0;o<ml.length;o++)je(ml[o],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:lt(t,n,z,o,a,null)}return;default:if(ma(n)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&Cd(t,n,Q,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&lt(t,n,b,o,a,null))}function DS(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,b=null,N=null,z=null,Q=null;for(H in a){var W=a[H];if(a.hasOwnProperty(H)&&W!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=W;default:o.hasOwnProperty(H)||lt(t,n,H,null,o,W)}}for(var B in o){var H=o[B];if(W=a[B],o.hasOwnProperty(B)&&(H!=null||W!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":_=H;break;case"defaultValue":b=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:H!==W&&lt(t,n,B,H,o,W)}}da(t,_,b,N,z,Q,f,h);return;case"select":H=_=b=B=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(f)||lt(t,n,f,null,o,N)}for(h in o)if(f=o[h],N=a[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":_=f;default:f!==N&&lt(t,n,h,f,o,N)}n=b,a=_,o=H,B!=null?bs(t,!!a,B,!1):!!o!=!!a&&(n!=null?bs(t,!!a,n,!0):bs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:lt(t,n,b,null,o,h)}for(_ in o)if(h=o[_],f=a[_],o.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&lt(t,n,_,h,o,f)}Eu(t,B,H);return;case"option":for(var fe in a)B=a[fe],a.hasOwnProperty(fe)&&B!=null&&!o.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:lt(t,n,fe,null,o,B));for(N in o)B=o[N],H=a[N],o.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null)&&(N==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":lt(t,n,N,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)B=a[be],a.hasOwnProperty(be)&&B!=null&&!o.hasOwnProperty(be)&&lt(t,n,be,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:lt(t,n,z,B,o,H)}return;default:if(ma(n)){for(var ut in a)B=a[ut],a.hasOwnProperty(ut)&&B!==void 0&&!o.hasOwnProperty(ut)&&Cd(t,n,ut,void 0,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||Cd(t,n,Q,B,o,H);return}}for(var P in a)B=a[P],a.hasOwnProperty(P)&&B!=null&&!o.hasOwnProperty(P)&&lt(t,n,P,null,o,B);for(W in o)B=o[W],H=a[W],!o.hasOwnProperty(W)||B===H||B==null&&H==null||lt(t,n,W,B,o,H)}function w_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,_=h.initiatorType,b=h.duration;if(f&&b&&w_(_)){for(_=0,b=h.responseEnd,o+=1;o<a.length;o++){var N=a[o],z=N.startTime;if(z>b)break;var Q=N.transferSize,W=N.initiatorType;Q&&w_(W)&&(N=N.responseEnd,_+=Q*(N<b?1:(b-z)/(N-z)))}if(--o,n+=8*(f+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Nd=null,Dd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function R_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Od(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vd=null;function VS(){var t=window.event;return t&&t.type==="popstate"?t===Vd?!1:(Vd=t,!0):(Vd=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,MS=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,kS=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(t){return C_.resolve(null).then(t).catch(PS)}:I_;function PS(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function N_(t,n){var a=n,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Xa(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,pl(a);for(var f=a.firstChild;f;){var _=f.nextSibling,b=f.nodeName;f[_i]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&pl(t.ownerDocument.body);a=h}while(a);Xa(n)}function D_(t,n){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Md(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),ha(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function jS(t,n,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[_i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function LS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function O_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Gn(t.nextSibling),t===null))return null;return t}function kd(t){return t.data==="$?"||t.data==="$~"}function Pd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function US(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Gn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var jd=null;function V_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Gn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function M_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function k_(t,n,a){switch(n=Sc(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ha(t)}var Qn=new Map,P_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var os=re.d;re.d={f:zS,r:BS,D:qS,C:HS,L:FS,m:GS,X:KS,S:QS,M:YS};function zS(){var t=os.f(),n=gc();return t||n}function BS(t){var n=kn(t);n!==null&&n.tag===5&&n.type==="form"?Wp(n):os.r(t)}var Qa=typeof document>"u"?null:document;function j_(t,n,a){var o=Qa;if(o&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),P_.has(h)||(P_.add(h),t={rel:t,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),en(n,"link",t),Ot(n),o.head.appendChild(n)))}}function qS(t){os.D(t),j_("dns-prefetch",t,null)}function HS(t,n){os.C(t,n),j_("preconnect",t,n)}function FS(t,n,a){os.L(t,n,a);var o=Qa;if(o&&t&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+mn(a.imageSizes)+'"]')):h+='[href="'+mn(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Ya(t)}Qn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Qn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(yl(f))||n==="script"&&o.querySelector(_l(f))||(n=o.createElement("link"),en(n,"link",t),Ot(n),o.head.appendChild(n)))}}function GS(t,n){os.m(t,n);var a=Qa;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!Qn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Qn.set(f,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_l(f)))return}o=a.createElement("link"),en(o,"link",t),Ot(o),a.head.appendChild(o)}}}function QS(t,n,a){os.S(t,n,a);var o=Qa;if(o&&t){var h=Ei(o).hoistableStyles,f=Ka(t);n=n||"default";var _=h.get(f);if(!_){var b={loading:0,preload:null};if(_=o.querySelector(yl(f)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Qn.get(f))&&Ld(t,a);var N=_=o.createElement("link");Ot(N),en(N,"link",t),N._p=new Promise(function(z,Q){N.onload=z,N.onerror=Q}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,wc(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:b},h.set(f,_)}}}function KS(t,n){os.X(t,n);var a=Qa;if(a&&t){var o=Ei(a).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(t=A({src:t,async:!0},n),(n=Qn.get(h))&&Ud(t,n),f=a.createElement("script"),Ot(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function YS(t,n){os.M(t,n);var a=Qa;if(a&&t){var o=Ei(a).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=a.querySelector(_l(h)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Qn.get(h))&&Ud(t,n),f=a.createElement("script"),Ot(f),en(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function L_(t,n,a,o){var h=(h=Ee.current)?Ac(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ka(a.href),a=Ei(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var f=Ei(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(yl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),f||XS(h,t,a,_.state))),n&&o===null)throw Error(r(528,""));return _}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(a),a=Ei(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ka(t){return'href="'+mn(t)+'"'}function yl(t){return'link[rel="stylesheet"]['+t+"]"}function U_(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function XS(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),en(n,"link",a),Ot(n),t.head.appendChild(n))}function Ya(t){return'[src="'+mn(t)+'"]'}function _l(t){return"script[async]"+t}function z_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+mn(a.href)+'"]');if(o)return n.instance=o,Ot(o),o;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ot(o),en(o,"style",h),wc(o,a.precedence,t),n.instance=o;case"stylesheet":h=Ka(a.href);var f=t.querySelector(yl(h));if(f)return n.state.loading|=4,n.instance=f,Ot(f),f;o=U_(a),(h=Qn.get(h))&&Ld(o,h),f=(t.ownerDocument||t).createElement("link"),Ot(f);var _=f;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),en(f,"link",o),n.state.loading|=4,wc(f,a.precedence,t),n.instance=f;case"script":return f=Ya(a.src),(h=t.querySelector(_l(f)))?(n.instance=h,Ot(h),h):(o=a,(h=Qn.get(f))&&(o=A({},a),Ud(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),en(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,wc(o,a.precedence,t));return n.instance}function wc(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,_=0;_<o.length;_++){var b=o[_];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ld(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Ud(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Rc=null;function B_(t,n,a){if(Rc===null){var o=new Map,h=Rc=new Map;h.set(a,o)}else h=Rc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[_i]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var b=o.get(_);b?b.push(f):o.set(_,[f])}}return o}function q_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function $S(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function H_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function ZS(t,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Ka(o.href),f=n.querySelector(yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=xc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=f,Ot(f);return}f=n.ownerDocument||n,o=U_(o),(h=Qn.get(h))&&Ld(o,h),f=f.createElement("link"),Ot(f);var _=f;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),en(f,"link",o),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=xc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var zd=0;function JS(t,n){return t.stylesheets&&t.count===0&&Cc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&zd===0&&(zd=62500*OS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>zd?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ic=null;function Cc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ic=new Map,n.forEach(WS,t),Ic=null,xc.call(t))}function WS(t,n){if(!(n.state.loading&4)){var a=Ic.get(t);if(a)var o=a.get(null);else{a=new Map,Ic.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=n.instance,_=h.getAttribute("data-precedence"),f=a.get(_)||o,f===o&&a.set(null,h),a.set(_,h),this.count++,o=xc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var vl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function eA(t,n,a,o,h,f,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function F_(t,n,a,o,h,f,_,b,N,z,Q,W){return t=new eA(t,n,a,_,N,z,Q,W,b),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),t.current=f,f.stateNode=t,n=vf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Sf(f),t}function G_(t){return t?(t=wa,t):wa}function Q_(t,n,a,o,h,f){h=G_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ks(t,o,n),a!==null&&(En(a,t,n),Zo(a,t,n))}function K_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Bd(t,n){K_(t,n),(t=t.alternate)&&K_(t,n)}function Y_(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&En(n,t,67108864),Bd(t,67108864)}}function X_(t){if(t.tag===13||t.tag===31){var n=On();n=wr(n);var a=jr(t,n);a!==null&&En(a,t,n),Bd(t,n)}}var Nc=!0;function tA(t,n,a,o){var h=F.T;F.T=null;var f=re.p;try{re.p=2,qd(t,n,a,o)}finally{re.p=f,F.T=h}}function nA(t,n,a,o){var h=F.T;F.T=null;var f=re.p;try{re.p=8,qd(t,n,a,o)}finally{re.p=f,F.T=h}}function qd(t,n,a,o){if(Nc){var h=Hd(o);if(h===null)Id(t,n,o,Dc,a),Z_(t,o);else if(sA(h,t,n,a,o))o.stopPropagation();else if(Z_(t,o),n&4&&-1<iA.indexOf(t)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=mi(f.pendingLanes);if(_!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-St(_);b.entanglements[1]|=N,_&=~N}Vi(f),(We&6)===0&&(dc=hn()+500,dl(0))}}break;case 31:case 13:b=jr(f,2),b!==null&&En(b,f,2),gc(),Bd(f,2)}if(f=Hd(o),f===null&&Id(t,n,o,Dc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Id(t,n,o,null,a)}}function Hd(t){return t=Pn(t),Fd(t)}var Dc=null;function Fd(t){if(Dc=null,t=vi(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=g(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Dc=t,null}function $_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case To:return 2;case So:return 8;case vs:case Xh:return 32;case uu:return 268435456;default:return 32}default:return 32}}var Gd=!1,Qs=null,Ks=null,Ys=null,El=new Map,bl=new Map,Xs=[],iA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(t,n){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function Tl(t,n,a,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&Y_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function sA(t,n,a,o,h){switch(n){case"focusin":return Qs=Tl(Qs,t,n,a,o,h),!0;case"dragenter":return Ks=Tl(Ks,t,n,a,o,h),!0;case"mouseover":return Ys=Tl(Ys,t,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,Tl(El.get(f)||null,t,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,bl.set(f,Tl(bl.get(f)||null,t,n,a,o,h)),!0}return!1}function J_(t){var n=vi(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Wn(t.priority,function(){X_(a)});return}}else if(n===31){if(n=g(a),n!==null){t.blockedOn=n,Wn(t.priority,function(){X_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Hd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);ko=o,a.target.dispatchEvent(o),ko=null}else return n=kn(a),n!==null&&Y_(n),t.blockedOn=a,!1;n.shift()}return!0}function W_(t,n,a){Oc(t)&&a.delete(n)}function rA(){Gd=!1,Qs!==null&&Oc(Qs)&&(Qs=null),Ks!==null&&Oc(Ks)&&(Ks=null),Ys!==null&&Oc(Ys)&&(Ys=null),El.forEach(W_),bl.forEach(W_)}function Vc(t,n){t.blockedOn===n&&(t.blockedOn=null,Gd||(Gd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,rA)))}var Mc=null;function ev(t){Mc!==t&&(Mc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mc===t&&(Mc=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Fd(o||a)===null)continue;break}var f=kn(a);f!==null&&(t.splice(n,3),n-=3,Hf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Xa(t){function n(N){return Vc(N,t)}Qs!==null&&Vc(Qs,t),Ks!==null&&Vc(Ks,t),Ys!==null&&Vc(Ys,t),El.forEach(n),bl.forEach(n);for(var a=0;a<Xs.length;a++){var o=Xs[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Xs.length&&(a=Xs[0],a.blockedOn===null);)J_(a),a.blockedOn===null&&Xs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],_=h[Gt]||null;if(typeof f=="function")_||ev(a);else if(_){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[Gt]||null)b=_.formAction;else if(Fd(h)!==null)continue}else b=_.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),ev(a)}}}function tv(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Qd(t){this._internalRoot=t}kc.prototype.render=Qd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=On();Q_(a,o,t,n,null,null)},kc.prototype.unmount=Qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Q_(t.current,2,null,t,null,null),gc(),n[yi]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=gu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Xs.length&&n!==0&&n<Xs[a].priority;a++);Xs.splice(a,0,t),a===0&&J_(t)}};var nv=e.version;if(nv!=="19.2.3")throw Error(r(527,nv,"19.2.3"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var aA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Zn=Pc.inject(aA),Xt=Pc}catch{}}return Al.createRoot=function(t,n){if(!l(t))throw Error(r(299));var a=!1,o="",h=uy,f=cy,_=hy;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError)),n=F_(t,1,!1,null,null,a,o,null,h,f,_,tv),t[yi]=n.current,xd(t),new Qd(n)},Al.hydrateRoot=function(t,n,a){if(!l(t))throw Error(r(299));var o=!1,h="",f=uy,_=cy,b=hy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=F_(t,1,!0,n,a??null,o,h,N,f,_,b,tv),n.context=G_(null),a=n.current,o=On(),o=wr(o),h=Ms(o),h.callback=null,ks(a,h,o),a=o,n.current.lanes=a,Sr(n,a),Vi(n),t[yi]=n.current,xd(t),new kc(n)},Al.version="19.2.3",Al}var fv;function _A(){if(fv)return Xd.exports;fv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Xd.exports=yA(),Xd.exports}var vA=_A();const EA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),dv=s=>{const e=bA(s);return e.charAt(0).toUpperCase()+e.slice(1)},K0=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),TA=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var SA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const AA=ae.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:u,iconNode:d,...g},y)=>ae.createElement("svg",{ref:y,...SA,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:K0("lucide",l),...!u&&!TA(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,T])=>ae.createElement(p,T)),...Array.isArray(u)?u:[u]]));const Bt=(s,e)=>{const i=ae.forwardRef(({className:r,...l},u)=>ae.createElement(AA,{ref:u,iconNode:e,className:K0(`lucide-${EA(dv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=dv(s),i};const wA=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Y0=Bt("database",wA);const RA=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xA=Bt("eye",RA);const IA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dm=Bt("loader-circle",IA);const CA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],jl=Bt("lock",CA);const NA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],DA=Bt("log-out",NA);const OA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ll=Bt("mail",OA);const VA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MA=Bt("map-pin",VA);const kA=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],PA=Bt("pen",kA);const jA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],LA=Bt("phone",jA);const UA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mv=Bt("plus",UA);const zA=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],X0=Bt("printer",zA);const BA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],qA=Bt("rotate-ccw",BA);const HA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],FA=Bt("save",HA);const GA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],QA=Bt("search",GA);const KA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bm=Bt("settings",KA);const YA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],XA=Bt("shield",YA);const $A=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZA=Bt("trash-2",$A);const JA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$0=Bt("user",JA);const WA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Z0=Bt("users",WA);const e1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xl=Bt("x",e1);var Fc={exports:{}},t1=Fc.exports,gv;function n1(){return gv||(gv=1,(function(s,e){(function(i,r){s.exports=r(Th())})(typeof self<"u"?self:t1,function(i){return(function(){var r={155:function(G){G.exports=i}},l={};function u(G){var Y=l[G];if(Y!==void 0)return Y.exports;var le=l[G]={exports:{}};return r[G](le,le.exports,u),le.exports}u.d=function(G,Y){for(var le in Y)u.o(Y,le)&&!u.o(G,le)&&Object.defineProperty(G,le,{enumerable:!0,get:Y[le]})},u.o=function(G,Y){return Object.prototype.hasOwnProperty.call(G,Y)},u.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})};var d={};u.r(d),u.d(d,{useReactToPrint:function(){return ue}});var g=u(155);const y="printWindow";function p({level:G="error",messages:Y,suppressErrors:le=!1}){le||(G==="error"?console.error(Y):G==="warning"?console.warn(Y):console.debug(Y))}function T(G,Y){if(Y||!G){const le=document.getElementById(y);le&&document.body.removeChild(le)}}function A(G){return G instanceof Error?G:new Error("Unknown Error")}function R(G,Y){const{documentTitle:le,onAfterPrint:ve,onPrintError:pe,preserveAfterPrint:x,print:w,suppressErrors:I}=Y;setTimeout(()=>{var V,D;if(G.contentWindow){let C=function(){ve?.(),T(x)};var k=C;if(G.contentWindow.focus(),w)w(G).then(C).catch(Ce=>{pe?pe("print",A(Ce)):p({messages:["An error was thrown by the specified `print` function"],suppressErrors:I})});else{if(G.contentWindow.print){const Ce=(D=(V=G.contentDocument)===null||V===void 0?void 0:V.title)!==null&&D!==void 0?D:"",$e=G.ownerDocument.title;le&&(G.ownerDocument.title=le,G.contentDocument&&(G.contentDocument.title=le)),G.contentWindow.print(),le&&(G.ownerDocument.title=$e,G.contentDocument&&(G.contentDocument.title=Ce))}else p({messages:["Printing for this browser is not currently possible: the browser does not have a `print` method available for iframes."],suppressErrors:I});[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(Ce=>{var $e,F;return((F=($e=navigator.userAgent)!==null&&$e!==void 0?$e:navigator.vendor)!==null&&F!==void 0?F:"opera"in window&&window.opera).match(Ce)})?setTimeout(C,500):C()}}else p({messages:["Printing failed because the `contentWindow` of the print iframe did not load. This is possibly an error with `react-to-print`. Please file an issue: https://github.com/MatthewHerbst/react-to-print/issues/"],suppressErrors:I})},500)}function j(G){const Y=[],le=document.createTreeWalker(G,NodeFilter.SHOW_ELEMENT,null);let ve=le.nextNode();for(;ve;)Y.push(ve),ve=le.nextNode();return Y}function $(G,Y,le){const ve=j(G),pe=j(Y);if(ve.length===pe.length)for(let x=0;x<ve.length;x++){const w=ve[x],I=pe[x],V=w.shadowRoot;if(V!==null){const D=I.attachShadow({mode:V.mode});D.innerHTML=V.innerHTML,$(V,D,le)}}else p({messages:["When cloning shadow root content, source and target elements have different size. `onBeforePrint` likely resolved too early.",G,Y],suppressErrors:le})}const te=`
    @page {
        /* Remove browser default header (title) and footer (url) */
        margin: 0;
    }
    @media print {
        body {
            /* Tell browsers to print background colors */
            color-adjust: exact; /* Firefox. This is an older version of "print-color-adjust" */
            print-color-adjust: exact; /* Firefox/Safari */
            -webkit-print-color-adjust: exact; /* Chrome/Safari/Edge/Opera */
        }
    }
`;function K(G,Y,le,ve){var pe,x,w,I,V;const{contentNode:D,clonedContentNode:k,clonedImgNodes:C,clonedVideoNodes:Ce,numResourcesToLoad:$e,originalCanvasNodes:F}=le,{bodyClass:re,fonts:me,ignoreGlobalStyles:Oe,pageStyle:Ve,nonce:O,suppressErrors:X,copyShadowRoots:ie}=ve;G.onload=null;const ne=(pe=G.contentDocument)!==null&&pe!==void 0?pe:(x=G.contentWindow)===null||x===void 0?void 0:x.document;if(ne){const ce=ne.body.appendChild(k);ie&&$(D,ce,!!X),me&&(!((w=G.contentDocument)===null||w===void 0)&&w.fonts&&(!((I=G.contentWindow)===null||I===void 0)&&I.FontFace)?me.forEach(Le=>{const Te=new FontFace(Le.family,Le.source,{weight:Le.weight,style:Le.style});G.contentDocument.fonts.add(Te),Te.loaded.then(()=>{Y(Te)}).catch(ct=>{Y(Te,["Failed loading the font:",Te,"Load error:",A(ct)])})}):(me.forEach(Le=>{Y(Le)}),p({messages:['"react-to-print" is not able to load custom fonts because the browser does not support the FontFace API but will continue attempting to print the page'],suppressErrors:X})));const Ee=Ve??te,we=ne.createElement("style");O&&(we.setAttribute("nonce",O),ne.head.setAttribute("nonce",O)),we.appendChild(ne.createTextNode(Ee)),ne.head.appendChild(we),re&&ne.body.classList.add(...re.split(" "));const de=ne.querySelectorAll("canvas");for(let Le=0;Le<F.length;++Le){const Te=F[Le],ct=de[Le];if(ct===void 0){p({messages:["A canvas element could not be copied for printing, has it loaded? `onBeforePrint` likely resolved too early.",Te],suppressErrors:X});continue}const Qe=ct.getContext("2d");Qe&&Qe.drawImage(Te,0,0)}for(let Le=0;Le<C.length;Le++){const Te=C[Le],ct=Te.getAttribute("src");if(ct){const Qe=new Image;Qe.onload=()=>{Y(Te)},Qe.onerror=(rt,Et,rn,Ke,tt)=>{Y(Te,["Error loading <img>",Te,"Error",tt])},Qe.src=ct}else Y(Te,['Found an <img> tag with an empty "src" attribute. This prevents pre-loading it.',Te])}for(let Le=0;Le<Ce.length;Le++){const Te=Ce[Le];Te.preload="auto";const ct=Te.getAttribute("poster");if(ct){const Qe=new Image;Qe.onload=()=>{Y(Te)},Qe.onerror=(rt,Et,rn,Ke,tt)=>{Y(Te,["Error loading video poster",ct,"for video",Te,"Error:",tt])},Qe.src=ct}else Te.readyState>=2?Y(Te):Te.src?(Te.onloadeddata=()=>{Y(Te)},Te.onerror=(Qe,rt,Et,rn,Ke)=>{Y(Te,["Error loading video",Te,"Error",Ke])},Te.onstalled=()=>{Y(Te,["Loading video stalled, skipping",Te])}):Y(Te,["Error loading video, `src` is empty",Te])}const ke="select",Ze=D.querySelectorAll(ke),pt=ne.querySelectorAll(ke);for(let Le=0;Le<Ze.length;Le++)pt[Le].value=Ze[Le].value;if(!Oe){const Le=document.querySelectorAll("style, link[rel~='stylesheet'], link[as='style']");for(let Te=0,ct=Le.length;Te<ct;++Te){const Qe=Le[Te];if(Qe.tagName.toLowerCase()==="style"){const rt=ne.createElement(Qe.tagName),Et=Qe.sheet;if(Et){let rn="";try{const Ke=Et.cssRules.length;for(let tt=0;tt<Ke;++tt)typeof Et.cssRules[tt].cssText=="string"&&(rn+=`${Et.cssRules[tt].cssText}\r
`)}catch(Ke){p({messages:["A stylesheet could not be accessed. This is likely due to the stylesheet having cross-origin imports, and many browsers block script access to cross-origin stylesheets. See https://github.com/MatthewHerbst/react-to-print/issues/429 for details. You may be able to load the sheet by both marking the stylesheet with the cross `crossorigin` attribute, and setting the `Access-Control-Allow-Origin` header on the server serving the stylesheet. Alternatively, host the stylesheet on your domain to avoid this issue entirely.",Qe,`Original error: ${A(Ke).message}`],level:"warning"})}rt.setAttribute("id",`react-to-print-${Te}`),O&&rt.setAttribute("nonce",O),rt.appendChild(ne.createTextNode(rn)),ne.head.appendChild(rt)}}else if(Qe.getAttribute("href"))if(Qe.hasAttribute("disabled"))p({messages:["`react-to-print` encountered a <link> tag with a `disabled` attribute and will ignore it. Note that the `disabled` attribute is deprecated, and some browsers ignore it. You should stop using it. https://developer.mozilla.org/en-US/docs/Web/HTML/Element/link#attr-disabled. The <link> is:",Qe],level:"warning"}),Y(Qe);else{const rt=ne.createElement(Qe.tagName);for(let Et=0,rn=Qe.attributes.length;Et<rn;++Et){const Ke=Qe.attributes[Et];Ke&&rt.setAttribute(Ke.nodeName,(V=Ke.nodeValue)!==null&&V!==void 0?V:"")}rt.onload=()=>{Y(rt)},rt.onerror=(Et,rn,Ke,tt,fi)=>{Y(rt,["Failed to load",rt,"Error:",fi])},O&&rt.setAttribute("nonce",O),ne.head.appendChild(rt)}else p({messages:["`react-to-print` encountered a <link> tag with an empty `href` attribute. In addition to being invalid HTML, this can cause problems in many browsers, and so the <link> was not loaded. The <link> is:",Qe],level:"warning"}),Y(Qe)}}}$e===0&&R(G,ve)}function ue({bodyClass:G,contentRef:Y,copyShadowRoots:le,documentTitle:ve,fonts:pe,ignoreGlobalStyles:x,nonce:w,onAfterPrint:I,onBeforePrint:V,onPrintError:D,pageStyle:k,preserveAfterPrint:C,print:Ce,printIframeProps:$e,suppressErrors:F}){return(0,g.useCallback)(me=>{function Oe(){const Ve={bodyClass:G,contentRef:Y,copyShadowRoots:le,documentTitle:ve,fonts:pe,ignoreGlobalStyles:x,nonce:w,onAfterPrint:I,onPrintError:D,pageStyle:k,preserveAfterPrint:C,print:Ce,suppressErrors:F},O=(function(ne){const ce=document.createElement("iframe");return ce.width=`${document.documentElement.clientWidth}px`,ce.height=`${document.documentElement.clientHeight}px`,ce.style.position="absolute",ce.style.top=`-${document.documentElement.clientHeight+100}px`,ce.style.left=`-${document.documentElement.clientWidth+100}px`,ce.id=y,ce.srcdoc="<!DOCTYPE html>",ne&&(ne.allow&&(ce.allow=ne.allow),ne.referrerPolicy!==void 0&&(ce.referrerPolicy=ne.referrerPolicy),ne.sandbox!==void 0&&(ce.sandbox=ne.sandbox)),ce})($e),X=(function(ne,ce){const{contentRef:Ee,fonts:we,ignoreGlobalStyles:de,suppressErrors:ke}=ce,Ze=(function({contentRef:rt,optionalContent:Et,suppressErrors:rn}){return Et&&typeof Et=="function"?(rt&&p({level:"warning",messages:['"react-to-print" received a `contentRef` option and an optional-content param passed to its callback. The `contentRef` option will be ignored.']}),Et()):rt?rt.current:void p({messages:['"react-to-print" did not receive a `contentRef` option or a optional-content param pass to its callback.'],suppressErrors:rn})})({contentRef:Ee,optionalContent:ne,suppressErrors:ke});if(!Ze)return;const pt=Ze.cloneNode(!0),Le=document.querySelectorAll("link[rel~='stylesheet'], link[as='style']"),Te=pt.querySelectorAll("img"),ct=pt.querySelectorAll("video"),Qe=we?we.length:0;return{contentNode:Ze,clonedContentNode:pt,clonedImgNodes:Te,clonedVideoNodes:ct,numResourcesToLoad:(de?0:Le.length)+Te.length+ct.length+Qe,originalCanvasNodes:Ze.querySelectorAll("canvas")}})(me,Ve);if(!X)return void p({messages:["There is nothing to print"],suppressErrors:F});const ie=(function(ne,ce,Ee){const{suppressErrors:we}=ne,de=[],ke=[];return function(Ze,pt){de.includes(Ze)?p({level:"debug",messages:["Tried to mark a resource that has already been handled",Ze],suppressErrors:we}):(pt?(p({messages:['"react-to-print" was unable to load a resource but will continue attempting to print the page',...pt],suppressErrors:we}),ke.push(Ze)):de.push(Ze),de.length+ke.length===ce&&R(Ee,ne))}})(Ve,X.numResourcesToLoad,O);(function(ne,ce,Ee,we){ne.onload=()=>{K(ne,ce,Ee,we)},document.body.appendChild(ne)})(O,ie,X,Ve)}T(C,!0),V?V().then(()=>{Oe()}).catch(Ve=>{D?.("onBeforePrint",A(Ve))}):Oe()},[G,Y,le,ve,pe,x,w,I,V,D,k,C,Ce,F])}return d})()})})(Fc)),Fc.exports}var i1=n1();const Gc={isElectron:()=>typeof window<"u"&&!!window.electronAPI,async load(s){if(this.isElectron())try{return await window.electronAPI.loadData()||[]}catch(e){return console.error("Electron load error:",e),[]}else try{const e=localStorage.getItem(s);return e?JSON.parse(e):[]}catch(e){return console.error("LocalStorage load error:",e),[]}},async save(s,e){if(this.isElectron())try{return await window.electronAPI.saveData(e),!0}catch(i){return console.error("Electron save error:",i),!1}else try{return localStorage.setItem(s,JSON.stringify(e)),!0}catch(i){return console.error("LocalStorage save error:",i),!1}}};function s1({isDemo:s,onSetupClick:e}){if(!s)return null;const i=Gc.isElectron(),r=i?"Local Database Active":"Demo Mode Active",l=i?"Data is saved to your computer. Connect Firebase to sync with the cloud.":"Data is saved to your browser (Local Storage). Connect Firebase to save to the cloud.";return E.jsx("div",{className:"bg-indigo-50 border-b border-indigo-100 p-4",children:E.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"p-2 bg-indigo-100 rounded-full text-indigo-600",children:E.jsx(Y0,{size:20})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-semibold text-indigo-900",children:r}),E.jsx("p",{className:"text-sm text-indigo-700",children:l})]})]}),E.jsx("button",{onClick:e,className:"hidden sm:inline-flex items-center gap-2 text-sm font-medium text-indigo-600 hover:text-indigo-800 underline decoration-indigo-300 underline-offset-2",children:"Setup Firebase "})]})})}const Sh="/address-book/assets/logo-B5OdyF-r.png";function r1({children:s,isDemo:e,onLogout:i,onSetupClick:r,onUserManagementClick:l,isAdmin:u}){return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[E.jsx(s1,{isDemo:e,onSetupClick:r}),E.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("img",{src:Sh,alt:"Logo",className:"w-10 h-10 rounded-lg object-cover"}),E.jsx("h1",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Address Label Printer"})]}),i&&E.jsxs("div",{className:"flex items-center gap-2",children:[u&&l&&E.jsxs("button",{onClick:l,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 transition-colors",title:"Manage Users",children:[E.jsx(Z0,{className:"h-5 w-5 mr-2 text-blue-600"}),"Users"]}),E.jsxs("button",{onClick:i,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-100 transition-colors",children:[E.jsx(DA,{className:"h-5 w-5 mr-2"}),"Sign out"]})]})]})}),E.jsx("main",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:s}),E.jsx("footer",{className:"bg-white border-t border-gray-200 py-6 mt-auto",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-sm text-gray-500",children:E.jsxs("p",{children:[" ",new Date().getFullYear()," Address Label Printer. Built with React & Firebase."]})})})]})}function J0(s){if(!s)return null;const e=s.split(",");return E.jsx(E.Fragment,{children:e.map((i,r)=>{const l=r===e.length-1,u=i.trim();return!u&&!l?E.jsx("br",{},r):E.jsxs("span",{className:"block",children:[u,!l&&","]},r)})})}const a1=ae.memo(function({contact:e,onDelete:i,onEdit:r,canEdit:l,canDelete:u,onSelect:d,isSelected:g}){return E.jsxs("div",{className:`bg-white rounded-xl shadow-sm border hover:shadow-md transition-all duration-200 overflow-hidden group relative ${g?"border-blue-500 ring-1 ring-blue-500 bg-blue-50/10":"border-gray-100"}`,children:[E.jsx("div",{className:"absolute top-4 right-4 z-10",children:E.jsx("input",{type:"checkbox",checked:g||!1,onChange:y=>d(e.id,y.target.checked),className:"h-5 w-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500 cursor-pointer"})}),E.jsxs("div",{className:"p-5",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-50 overflow-hidden flex items-center justify-center border border-blue-100",children:E.jsx($0,{size:24,className:"text-blue-400"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:e.name}),E.jsxs("p",{className:"text-xs text-gray-500",children:["Added ",new Date(e.created_at).toLocaleDateString()]})]})]}),E.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity mr-8",children:[l&&E.jsx("button",{onClick:()=>r(e),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:E.jsx(PA,{size:16})}),u&&E.jsx("button",{onClick:()=>i(e.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:E.jsx(ZA,{size:16})})]})]}),E.jsxs("div",{className:"mt-6 space-y-3",children:[E.jsxs("div",{className:"flex items-center gap-3 text-gray-600 text-sm",children:[E.jsx(LA,{size:16,className:"text-gray-400"}),E.jsx("a",{href:`tel:${e.phone}`,className:"hover:text-blue-600",children:e.phone})]}),E.jsxs("div",{className:"flex items-start gap-3 text-gray-600 text-sm",children:[E.jsx(MA,{size:16,className:"text-gray-400 mt-1 shrink-0"}),E.jsxs("div",{children:[J0(e.address),E.jsx("span",{children:[e.city,e.state,e.pincode,e.country].filter(Boolean).join(", ")})]})]})]})]})]})});function o1(s){return s?/^\+?[\d\s\-()]{7,20}$/.test(s)&&/\d/.test(s):!0}function l1({isOpen:s,onClose:e,onSubmit:i,initialData:r=null}){const[l,u]=ae.useState({name:"",phone:"",address:"",city:"",state:"",country:"",pincode:""}),[d,g]=ae.useState(!1),[y,p]=ae.useState({});if(ae.useEffect(()=>{u(r?{name:r.name||"",phone:r.phone||"",address:r.address||"",city:r.city||"",state:r.state||"",country:r.country||"",pincode:r.pincode||"",...r}:{name:"",phone:"",address:"",city:"",state:"",country:"",pincode:""})},[r,s]),!s)return null;async function T(A){A.preventDefault();const R={};if(o1(l.phone)||(R.phone="Invalid phone number format"),Object.keys(R).length>0){p(R);return}p({}),g(!0);try{await i(l),e()}catch(j){console.error(j),alert(`Failed to save contact: ${j.message||"Unknown error"}`)}finally{g(!1)}}return E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:E.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[E.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 bg-gray-50/50",children:[E.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r?"Edit Contact":"New Contact"}),E.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100 transition-colors",children:E.jsx(Xl,{size:20})})]}),E.jsxs("form",{onSubmit:T,className:"p-6 space-y-4",children:[E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),E.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.name,onChange:A=>u({...l,name:A.target.value}),placeholder:"e.g. John Doe"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),E.jsx("input",{type:"tel",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 outline-none transition-all ${y.phone?"border-red-500 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"}`,value:l.phone,onChange:A=>{u({...l,phone:A.target.value}),y.phone&&p({...y,phone:null})},placeholder:"+1 (555) 000-0000"}),y.phone&&E.jsx("p",{className:"mt-1 text-xs text-red-500",children:y.phone})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),E.jsx("textarea",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all resize-none",rows:"2",value:l.address,onChange:A=>u({...l,address:A.target.value}),placeholder:"Street address"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.city,onChange:A=>u({...l,city:A.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.state,onChange:A=>u({...l,state:A.target.value})})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.country,onChange:A=>u({...l,country:A.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pin Code"}),E.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all",value:l.pincode,onChange:A=>u({...l,pincode:A.target.value})})]})]})]}),E.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 mt-6",children:[E.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200",children:"Cancel"}),E.jsxs("button",{type:"submit",disabled:d,className:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[d&&E.jsx(dm,{className:"animate-spin mr-2",size:16}),r?"Save Changes":"Add Contact"]})]})]})]})})}const qm=fA.forwardRef(({contacts:s,pageSize:e="A5",orientation:i="landscape"},r)=>E.jsxs("div",{ref:r,className:"p-8 bg-white",children:[E.jsx("style",{type:"text/css",media:"print",children:`
                    @page {
                        size: ${e} ${i};
                        margin: 0;
                    }
                    body {
                        -webkit-print-color-adjust: exact;
                    }
                `}),s.map(l=>E.jsx("div",{className:"mb-8 border-2 border-gray-800 p-8 rounded-xl break-inside-avoid page-break-after-always",style:{pageBreakAfter:"always",width:"100%",height:"100%"},children:E.jsxs("div",{className:"flex flex-col gap-2 text-gray-900 font-sans",children:[E.jsx("h1",{className:"text-3xl font-bold mb-4 uppercase tracking-wide border-b-2 border-gray-800 pb-2",children:l.name}),E.jsxs("div",{className:"text-xl leading-relaxed space-y-1",children:[E.jsx("div",{className:"font-medium",children:J0(l.address)}),E.jsxs("p",{children:[l.city,", ",l.state]}),E.jsxs("p",{children:[l.country," - ",E.jsx("span",{className:"font-bold",children:l.pincode})]})]}),E.jsx("div",{className:"mt-8 pt-4 border-t border-gray-300",children:E.jsxs("p",{className:"text-lg font-mono",children:[E.jsx("span",{className:"font-bold mr-2",children:"PH:"}),l.phone]})})]})},l.id))]}));qm.displayName="PrintableLabel";const u1=()=>{};var pv={};const W0=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},c1=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[r++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(u&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const u=s[i++],d=s[i++];e[r++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return e.join("")},eE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const u=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,p=y?s[l+2]:0,T=u>>2,A=(u&3)<<4|g>>4;let R=(g&15)<<2|p>>6,j=p&63;y||(j=64,d||(R=64)),r.push(i[T],i[A],i[R],i[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(W0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):c1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const p=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||g==null||p==null||A==null)throw new h1;const R=u<<2|g>>4;if(r.push(R),p!==64){const j=g<<4&240|p>>2;if(r.push(j),A!==64){const $=p<<6&192|A;r.push($)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f1=function(s){const e=W0(s);return eE.encodeByteArray(e,!0)},nh=function(s){return f1(s).replace(/\./g,"")},tE=function(s){try{return eE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const m1=()=>d1().__FIREBASE_DEFAULTS__,g1=()=>{if(typeof process>"u"||typeof pv>"u")return;const s=pv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},p1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&tE(s[1]);return e&&JSON.parse(e)},Ah=()=>{try{return u1()||m1()||g1()||p1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},nE=s=>Ah()?.emulatorHosts?.[s],y1=s=>{const e=nE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},iE=()=>Ah()?.config,sE=s=>Ah()?.[`_${s}`];class _1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}function mo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rE(s){return(await fetch(s,{credentials:"include"})).ok}function v1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[nh(JSON.stringify(i)),nh(JSON.stringify(d)),""].join(".")}const Dl={};function E1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?s.emulator.push(e):s.prod.push(e);return s}function b1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let yv=!1;function aE(s,e){if(typeof window>"u"||typeof document>"u"||!mo(window.location.host)||Dl[s]===e||Dl[s]||yv)return;Dl[s]=e;function i(R){return`__firebase__banner__${R}`}const r="__firebase__banner",u=E1().prod.length>0;function d(){const R=document.getElementById(r);R&&R.remove()}function g(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function y(R,j){R.setAttribute("width","24"),R.setAttribute("id",j),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function p(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{yv=!0,d()},R}function T(R,j){R.setAttribute("id",j),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function A(){const R=b1(r),j=i("text"),$=document.getElementById(j)||document.createElement("span"),te=i("learnmore"),K=document.getElementById(te)||document.createElement("a"),ue=i("preprendIcon"),G=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const Y=R.element;g(Y),T(K,te);const le=p();y(G,ue),Y.append(G,$,K,le),document.body.appendChild(Y)}u?($.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function S1(){const s=Ah()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function A1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function R1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x1(){const s=cn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function I1(){return!S1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C1(){try{return typeof indexedDB=="object"}catch{return!1}}function N1(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const D1="FirebaseError";class ps extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=D1,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],d=u?O1(u,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ps(l,g,r)}}function O1(s,e){return s.replace(V1,(i,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const V1=/\{\$([^}]+)}/g;function M1(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ea(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const l of i){if(!r.includes(l))return!1;const u=s[l],d=e[l];if(_v(u)&&_v(d)){if(!ea(u,d))return!1}else if(u!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function _v(s){return s!==null&&typeof s=="object"}function Zl(s){const e=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,u]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Rl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}function k1(s,e){const i=new P1(s,e);return i.subscribe.bind(i)}class P1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,r){let l;if(e===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");j1(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:r},l.next===void 0&&(l.next=Wd),l.error===void 0&&(l.error=Wd),l.complete===void 0&&(l.complete=Wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function j1(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Wd(){}function Ft(s){return s&&s._delegate?s._delegate:s}class ta{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class L1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new _1;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z1(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});r.resolve(u)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[u,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&d.resolve(l)}return l}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const u=this.instances.get(r);return u&&e(u,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:U1(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U1(s){return s===$r?void 0:s}function z1(s){return s.instantiationMode==="EAGER"}class B1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new L1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const q1={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},H1=Be.INFO,F1={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},G1=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=F1[e];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Hm{constructor(e){this.name=e,this._logLevel=H1,this._logHandler=G1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const Q1=(s,e)=>e.some(i=>s instanceof i);let vv,Ev;function K1(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y1(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,mm=new WeakMap,lE=new WeakMap,em=new WeakMap,Fm=new WeakMap;function X1(s){const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",d)},u=()=>{i(ar(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&oE.set(i,s)}).catch(()=>{}),Fm.set(e,s),e}function $1(s){if(mm.has(s))return;const e=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",d),s.removeEventListener("abort",d)},u=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",d),s.addEventListener("abort",d)});mm.set(s,e)}let gm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return mm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||lE.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Z1(s){gm=s(gm)}function J1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(tm(this),e,...i);return lE.set(r,e.sort?e.sort():[e]),ar(r)}:Y1().includes(s)?function(...e){return s.apply(tm(this),e),ar(oE.get(this))}:function(...e){return ar(s.apply(tm(this),e))}}function W1(s){return typeof s=="function"?J1(s):(s instanceof IDBTransaction&&$1(s),Q1(s,K1())?new Proxy(s,gm):s)}function ar(s){if(s instanceof IDBRequest)return X1(s);if(em.has(s))return em.get(s);const e=W1(s);return e!==s&&(em.set(s,e),Fm.set(e,s)),e}const tm=s=>Fm.get(s);function ew(s,e,{blocked:i,upgrade:r,blocking:l,terminated:u}={}){const d=indexedDB.open(s,e),g=ar(d);return r&&d.addEventListener("upgradeneeded",y=>{r(ar(d.result),y.oldVersion,y.newVersion,ar(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{u&&y.addEventListener("close",()=>u()),l&&y.addEventListener("versionchange",p=>l(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const tw=["get","getKey","getAll","getAllKeys","count"],nw=["put","add","delete","clear"],nm=new Map;function bv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(nm.get(e))return nm.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,l=nw.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||tw.includes(i)))return;const u=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let p=y.store;return r&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),l&&y.done]))[0]};return nm.set(e,u),u}Z1(s=>({...s,get:(e,i,r)=>bv(e,i)||s.get(e,i,r),has:(e,i)=>!!bv(e,i)||s.has(e,i)}));class iw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(sw(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function sw(s){return s.getComponent()?.type==="VERSION"}const pm="@firebase/app",Tv="0.14.6";const hs=new Hm("@firebase/app"),rw="@firebase/app-compat",aw="@firebase/analytics-compat",ow="@firebase/analytics",lw="@firebase/app-check-compat",uw="@firebase/app-check",cw="@firebase/auth",hw="@firebase/auth-compat",fw="@firebase/database",dw="@firebase/data-connect",mw="@firebase/database-compat",gw="@firebase/functions",pw="@firebase/functions-compat",yw="@firebase/installations",_w="@firebase/installations-compat",vw="@firebase/messaging",Ew="@firebase/messaging-compat",bw="@firebase/performance",Tw="@firebase/performance-compat",Sw="@firebase/remote-config",Aw="@firebase/remote-config-compat",ww="@firebase/storage",Rw="@firebase/storage-compat",xw="@firebase/firestore",Iw="@firebase/ai",Cw="@firebase/firestore-compat",Nw="firebase",Dw="12.6.0";const ym="[DEFAULT]",Ow={[pm]:"fire-core",[rw]:"fire-core-compat",[ow]:"fire-analytics",[aw]:"fire-analytics-compat",[uw]:"fire-app-check",[lw]:"fire-app-check-compat",[cw]:"fire-auth",[hw]:"fire-auth-compat",[fw]:"fire-rtdb",[dw]:"fire-data-connect",[mw]:"fire-rtdb-compat",[gw]:"fire-fn",[pw]:"fire-fn-compat",[yw]:"fire-iid",[_w]:"fire-iid-compat",[vw]:"fire-fcm",[Ew]:"fire-fcm-compat",[bw]:"fire-perf",[Tw]:"fire-perf-compat",[Sw]:"fire-rc",[Aw]:"fire-rc-compat",[ww]:"fire-gcs",[Rw]:"fire-gcs-compat",[xw]:"fire-fst",[Cw]:"fire-fst-compat",[Iw]:"fire-vertex","fire-js":"fire-js",[Nw]:"fire-js-all"};const ih=new Map,Vw=new Map,_m=new Map;function Sv(s,e){try{s.container.addComponent(e)}catch(i){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ao(s){const e=s.name;if(_m.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,s);for(const i of ih.values())Sv(i,s);for(const i of Vw.values())Sv(i,s);return!0}function Gm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function Kn(s){return s==null?!1:s.settings!==void 0}const Mw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new $l("app","Firebase",Mw);class kw{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const go=Dw;function uE(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:ym,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw or.create("bad-app-name",{appName:String(l)});if(i||(i=iE()),!i)throw or.create("no-options");const u=ih.get(l);if(u){if(ea(i,u.options)&&ea(r,u.config))return u;throw or.create("duplicate-app",{appName:l})}const d=new B1(l);for(const y of _m.values())d.addComponent(y);const g=new kw(i,r,d);return ih.set(l,g),g}function cE(s=ym){const e=ih.get(s);if(!e&&s===ym&&iE())return uE();if(!e)throw or.create("no-app",{appName:s});return e}function lr(s,e,i){let r=Ow[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}ao(new ta(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Pw="firebase-heartbeat-database",jw=1,Ul="firebase-heartbeat-store";let im=null;function hE(){return im||(im=ew(Pw,jw,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),im}async function Lw(s){try{const i=(await hE()).transaction(Ul),r=await i.objectStore(Ul).get(fE(s));return await i.done,r}catch(e){if(e instanceof ps)hs.warn(e.message);else{const i=or.create("idb-get",{originalErrorMessage:e?.message});hs.warn(i.message)}}}async function Av(s,e){try{const r=(await hE()).transaction(Ul,"readwrite");await r.objectStore(Ul).put(e,fE(s)),await r.done}catch(i){if(i instanceof ps)hs.warn(i.message);else{const r=or.create("idb-set",{originalErrorMessage:i?.message});hs.warn(r.message)}}}function fE(s){return`${s.name}!${s.options.appId}`}const Uw=1024,zw=30;class Bw{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Hw(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>zw){const l=Fw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wv(),{heartbeatsToSend:i,unsentEntries:r}=qw(this._heartbeatsCache.heartbeats),l=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return hs.warn(e),""}}}function wv(){return new Date().toISOString().substring(0,10)}function qw(s,e=Uw){const i=[];let r=s.slice();for(const l of s){const u=i.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),Rv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Rv(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class Hw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C1()?N1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Lw(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Rv(s){return nh(JSON.stringify({version:2,heartbeats:s})).length}function Fw(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}function Gw(s){ao(new ta("platform-logger",e=>new iw(e),"PRIVATE")),ao(new ta("heartbeat",e=>new Bw(e),"PRIVATE")),lr(pm,Tv,s),lr(pm,Tv,"esm2020"),lr("fire-js","")}Gw("");var Qw="firebase",Kw="12.7.0";lr(Qw,Kw,"app");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,dE;(function(){var s;function e(x,w){function I(){}I.prototype=w.prototype,x.F=w.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,D,k){for(var C=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)C[Ce-2]=arguments[Ce];return w.prototype[D].apply(V,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=x.g[0],I=x.g[1],D=x.g[2];let k=x.g[3],C;C=w+(k^I&(D^k))+V[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(D^w&(I^D))+V[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(I^k&(w^I))+V[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=I+(w^D&(k^w))+V[3]+3250441966&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(k^I&(D^k))+V[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(D^w&(I^D))+V[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(I^k&(w^I))+V[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=I+(w^D&(k^w))+V[7]+4249261313&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(k^I&(D^k))+V[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(D^w&(I^D))+V[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(I^k&(w^I))+V[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=I+(w^D&(k^w))+V[11]+2304563134&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(k^I&(D^k))+V[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=k+(D^w&(I^D))+V[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(I^k&(w^I))+V[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=I+(w^D&(k^w))+V[15]+1236535329&4294967295,I=D+(C<<22&4294967295|C>>>10),C=w+(D^k&(I^D))+V[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^D&(w^I))+V[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(k^w))+V[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(D^k))+V[0]+3921069994&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(I^D))+V[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^D&(w^I))+V[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(k^w))+V[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(D^k))+V[4]+3889429448&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(I^D))+V[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^D&(w^I))+V[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(k^w))+V[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(D^k))+V[8]+1163531501&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(I^D))+V[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=k+(I^D&(w^I))+V[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^I&(k^w))+V[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=I+(k^w&(D^k))+V[12]+2368359562&4294967295,I=D+(C<<20&4294967295|C>>>12),C=w+(I^D^k)+V[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^D)+V[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^I)+V[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=I+(D^k^w)+V[14]+4259657740&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(I^D^k)+V[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^D)+V[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^I)+V[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=I+(D^k^w)+V[10]+3200236656&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(I^D^k)+V[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^D)+V[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^I)+V[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=I+(D^k^w)+V[6]+76029189&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(I^D^k)+V[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=k+(w^I^D)+V[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^I)+V[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=I+(D^k^w)+V[2]+3299628645&4294967295,I=D+(C<<23&4294967295|C>>>9),C=w+(D^(I|~k))+V[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~D))+V[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~I))+V[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=I+(k^(D|~w))+V[5]+4237533241&4294967295,I=D+(C<<21&4294967295|C>>>11),C=w+(D^(I|~k))+V[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~D))+V[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~I))+V[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=I+(k^(D|~w))+V[1]+2240044497&4294967295,I=D+(C<<21&4294967295|C>>>11),C=w+(D^(I|~k))+V[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~D))+V[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~I))+V[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=I+(k^(D|~w))+V[13]+1309151649&4294967295,I=D+(C<<21&4294967295|C>>>11),C=w+(D^(I|~k))+V[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=k+(I^(w|~D))+V[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~I))+V[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=I+(k^(D|~w))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const I=w-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=I;)l(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(V[D++]=x.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<w;)if(V[D++]=x[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[w++]=this.g[I]>>>V&255;return x};function u(x,w){var I=g;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=w(x)}function d(x,w){this.h=w;const I=[];let V=!0;for(let D=x.length-1;D>=0;D--){const k=x[D]|0;V&&k==w||(I[D]=k,V=!1)}this.g=I}var g={};function y(x){return-128<=x&&x<128?u(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return K(p(-x));const w=[];let I=1;for(let V=0;x>=I;V++)w[V]=x/I|0,I*=4294967296;return new d(w,0)}function T(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return K(T(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(w,8));let V=A;for(let k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k);const C=parseInt(x.substring(k,k+D),w);D<8?(D=p(Math.pow(w,D)),V=V.j(D).add(p(C))):(V=V.j(I),V=V.add(p(C)))}return V}var A=y(0),R=y(1),j=y(16777216);s=d.prototype,s.m=function(){if(te(this))return-K(this).m();let x=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if($(this))return"0";if(te(this))return"-"+K(this).toString(x);const w=p(Math.pow(x,6));var I=this;let V="";for(;;){const D=le(I,w).g;I=ue(I,D.j(w));let k=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=D,$(I))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function $(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function te(x){return x.h==-1}s.l=function(x){return x=ue(this,x),te(x)?-1:$(x)?0:1};function K(x){const w=x.g.length,I=[];for(let V=0;V<w;V++)I[V]=~x.g[V];return new d(I,~x.h).add(R)}s.abs=function(){return te(this)?K(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let D=0;D<=w;D++){let k=V+(this.i(D)&65535)+(x.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=C>>>16,k&=65535,C&=65535,I[D]=C<<16|k}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ue(x,w){return x.add(K(w))}s.j=function(x){if($(this)||$(x))return A;if(te(this))return te(x)?K(this).j(K(x)):K(K(this).j(x));if(te(x))return K(this.j(K(x)));if(this.l(j)<0&&x.l(j)<0)return p(this.m()*x.m());const w=this.g.length+x.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const k=this.i(V)>>>16,C=this.i(V)&65535,Ce=x.i(D)>>>16,$e=x.i(D)&65535;I[2*V+2*D]+=C*$e,G(I,2*V+2*D),I[2*V+2*D+1]+=k*$e,G(I,2*V+2*D+1),I[2*V+2*D+1]+=C*Ce,G(I,2*V+2*D+1),I[2*V+2*D+2]+=k*Ce,G(I,2*V+2*D+2)}for(x=0;x<w;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=w;x<2*w;x++)I[x]=0;return new d(I,0)};function G(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function Y(x,w){this.g=x,this.h=w}function le(x,w){if($(w))throw Error("division by zero");if($(x))return new Y(A,A);if(te(x))return w=le(K(x),w),new Y(K(w.g),K(w.h));if(te(w))return w=le(x,K(w)),new Y(K(w.g),w.h);if(x.g.length>30){if(te(x)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var I=R,V=w;V.l(x)<=0;)I=ve(I),V=ve(V);var D=pe(I,1),k=pe(V,1);for(V=pe(V,2),I=pe(I,2);!$(V);){var C=k.add(V);C.l(x)<=0&&(D=D.add(I),k=C),V=pe(V,1),I=pe(I,1)}return w=ue(x,D.j(w)),new Y(D,w)}for(D=A;x.l(w)>=0;){for(I=Math.max(1,Math.floor(x.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=p(I),C=k.j(w);te(C)||C.l(x)>0;)I-=V,k=p(I),C=k.j(w);$(k)&&(k=R),D=D.add(k),x=ue(x,C)}return new Y(D,x)}s.B=function(x){return le(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function ve(x){const w=x.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function pe(x,w){const I=w>>5;w%=32;const V=x.g.length-I,D=[];for(let k=0;k<V;k++)D[k]=w>0?x.i(k+I)>>>w|x.i(k+I+1)<<32-w:x.i(k+I);return new d(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,ur=d}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mE,xl,gE,Qc,vm,pE,yE,_E;(function(){var s,e=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(c,m){if(m)e:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var L=c[S];if(!(L in v))break e;v=v[L]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&e(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var u=u||{},d=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function y(c,m,v){return c.call.apply(c.bind,arguments)}function p(c,m,v){return p=y,p.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,L,q){for(var se=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)se[Ne-2]=arguments[Ne];return m.prototype[L].apply(S,se)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function $(c,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const q=L.length||0;c.length=v+q;for(let se=0;se<q;se++)c[v+se]=L[se]}else c.push(L)}}class te{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(c){d.setTimeout(()=>{throw c},0)}function ue(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class G{constructor(){this.h=this.g=null}add(m,v){const S=Y.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Y=new te(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,pe=!1,x=new G,w=()=>{const c=Promise.resolve(void 0);ve=()=>{c.then(I)}};function I(){for(var c;c=ue();){try{c.h.call(c.g)}catch(v){K(v)}var m=Y;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}pe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function Ce(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}A(Ce,D),Ce.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Ce.Z.h.call(this)},Ce.prototype.h=function(){Ce.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var $e="closure_listenable_"+(Math.random()*1e6|0),F=0;function re(c,m,v,S,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++F,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Oe(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function Ve(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function O(c){const m={};for(const v in c)m[v]=c[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)c[v]=S[v];for(let q=0;q<X.length;q++)v=X[q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ne(c){this.src=c,this.g={},this.h=0}ne.prototype.add=function(c,m,v,S,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const se=Ee(c,m,S,L);return se>-1?(m=c[se],v||(m.fa=!1)):(m=new re(m,this.src,q,!!S,L),m.fa=v,c.push(m)),m};function ce(c,m){const v=m.type;if(v in c.g){var S=c.g[v],L=Array.prototype.indexOf.call(S,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(S,L,1),q&&(me(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ee(c,m,v,S){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return L}return-1}var we="closure_lm_"+(Math.random()*1e6|0),de={};function ke(c,m,v,S,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ke(c,m[q],v,S,L);return null}return v=rn(v),c&&c[$e]?c.J(m,v,g(S)?!!S.capture:!1,L):Ze(c,m,v,!1,S,L)}function Ze(c,m,v,S,L,q){if(!m)throw Error("Invalid event type");const se=g(L)?!!L.capture:!!L;let Ne=rt(c);if(Ne||(c[we]=Ne=new ne(c)),v=Ne.add(m,v,S,se,q),v.proxy)return v;if(S=pt(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)k||(L=se),L===void 0&&(L=!1),c.addEventListener(m.toString(),S,L);else if(c.attachEvent)c.attachEvent(ct(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pt(){function c(v){return m.call(c.src,c.listener,v)}const m=Qe;return c}function Le(c,m,v,S,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Le(c,m[q],v,S,L);else S=g(S)?!!S.capture:!!S,v=rn(v),c&&c[$e]?(c=c.i,q=String(m).toString(),q in c.g&&(m=c.g[q],v=Ee(m,v,S,L),v>-1&&(me(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[q],c.h--)))):c&&(c=rt(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Ee(m,v,S,L)),(v=c>-1?m[c]:null)&&Te(v))}function Te(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[$e])ce(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(ct(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=rt(m))?(ce(v,c),v.h==0&&(v.src=null,m[we]=null)):me(c)}}}function ct(c){return c in de?de[c]:de[c]="on"+c}function Qe(c,m){if(c.da)c=!0;else{m=new Ce(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&Te(c),c=v.call(S,m)}return c}function rt(c){return c=c[we],c instanceof ne?c:null}var Et="__closure_events_fn_"+(Math.random()*1e9>>>0);function rn(c){return typeof c=="function"?c:(c[Et]||(c[Et]=function(m){return c.handleEvent(m)}),c[Et])}function Ke(){V.call(this),this.i=new ne(this),this.M=this,this.G=null}A(Ke,V),Ke.prototype[$e]=!0,Ke.prototype.removeEventListener=function(c,m,v,S){Le(this,c,m,v,S)};function tt(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(S,c),ie(m,L)}L=!0;let q,se;if(v)for(se=v.length-1;se>=0;se--)q=m.g=v[se],L=fi(q,S,!0,m)&&L;if(q=m.g=c,L=fi(q,S,!0,m)&&L,L=fi(q,S,!1,m)&&L,v)for(se=0;se<v.length;se++)q=m.g=v[se],L=fi(q,S,!1,m)&&L}Ke.prototype.N=function(){if(Ke.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)me(v[S]);delete c.g[m],c.h--}}this.G=null},Ke.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},Ke.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function fi(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const se=m[q];if(se&&!se.da&&se.capture==v){const Ne=se.listener,At=se.ha||se.src;se.fa&&ce(c.i,se),L=Ne.call(At,S)!==!1&&L}}return L&&!S.defaultPrevented}function Yh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function lu(c){c.g=Yh(()=>{c.g=null,c.i&&(c.i=!1,lu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class hn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:lu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(c){V.call(this),this.h=c,this.g={}}A(br,V);var To=[];function So(c){Oe(c.g,function(m,v){this.g.hasOwnProperty(v)&&Te(m)},c),c.g={}}br.prototype.N=function(){br.Z.N.call(this),So(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=d.JSON.stringify,Xh=d.JSON.parse,uu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function cu(){}function hu(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){D.call(this,"d")}A(Xt,D);function Mn(){D.call(this,"c")}A(Mn,D);var St={},fu=null;function ua(){return fu=fu||new Ke}St.Ia="serverreachability";function du(c){D.call(this,St.Ia,c)}A(du,D);function di(c){const m=ua();tt(m,new du(m))}St.STAT_EVENT="statevent";function Tr(c,m){D.call(this,St.STAT_EVENT,c),this.stat=m}A(Tr,D);function Nt(c){const m=ua();tt(m,new Tr(m,c))}St.Ja="timingevent";function mi(c,m){D.call(this,St.Ja,c),this.size=m}A(mi,D);function gi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function $h(c,m,v,S,L,q){c.info(function(){if(c.g)if(q){var se="",Ne=q.split("&");for(let Je=0;Je<Ne.length;Je++){var At=Ne[Je].split("=");if(At.length>1){const yt=At[0];At=At[1];const Ln=yt.split("_");se=Ln.length>=2&&Ln[1]=="type"?se+(yt+"="+At+"&"):se+(yt+"=redacted&")}}}else se=null;else se=q;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+se})}function mu(c,m,v,S,L,q,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+se})}function pi(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zh(c,v)+(S?" "+S:"")})}function Sr(c,m){c.info(function(){return"TIMEOUT: "+m})}Jn.prototype.info=function(){};function Zh(c,m){if(!c.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var v=q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return vs(q)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function wr(){}A(wr,cu),wr.prototype.g=function(){return new XMLHttpRequest},wo=new wr;function Hi(c){return encodeURIComponent(String(c))}function gu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Wn(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Dt={},Gt={};function yi(c,m,v){c.M=1,c.A=Rr(Vt(m)),c.u=v,c.R=!0,ca(c,null)}function ca(c,m){c.F=Date.now(),_i(c),c.B=Vt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ma(v.i,"t",S),c.C=0,v=c.j.L,c.h=new ei,c.g=Nu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new hn(p(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(To[0]=L.toString()),L=To);for(let q=0;q<L.length;q++){const se=ke(v,L[q],S||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),di(),$h(c.i,c.v,c.B,c.l,c.S,c.u)}Wn.prototype.ba=function(c){c=c.target;const m=this.O;m&&ii(c)==3?m.j():this.Y(c)},Wn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=ii(this.g),At=this.g.ya(),Je=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||Ne!=4||At==7||(At==8||Je<=0?di(3):di(2)),vi(this);var m=this.g.ca();this.X=m;var v=Jh(this);if(this.o=m==200,mu(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var q=S;break t}}q=null}if(c=q)pi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,Nt(12),An(this),kn(this);break e}}if(this.R){c=!0;let yt;for(;!this.K&&this.C<v.length;)if(yt=yu(this,v),yt==Gt){Ne==4&&(this.m=4,Nt(14),c=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Dt){this.m=4,Nt(15),pi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else pi(this.i,this.l,yt,null),Ei(this,yt);if(pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Nt(16),c=!1),this.o=this.o&&c,!c)pi(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(se),se.P=!0,Nt(11))}}else pi(this.i,this.l,v,null),Ei(this,v);Ne==4&&An(this),this.o&&!this.K&&(Ne==4?Ru(this.j,this):(this.o=!1,_i(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),An(this),kn(this)}}}catch{}};function Jh(c){if(!pu(c))return c.g.la();const m=$t(c.g);if(m==="")return"";let v="";const S=m.length,L=ii(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),kn(c),"";c.h.i=new d.TextDecoder}for(let q=0;q<S;q++)c.h.h=!0,v+=c.h.i.decode(m[q],{stream:!(L&&q==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function pu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function yu(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Gt:(v=Number(m.substring(v,S)),isNaN(v)?Dt:(S+=1,S+v>m.length?Gt:(m=m.slice(S,S+v),c.C=S+v,m)))}Wn.prototype.cancel=function(){this.K=!0,An(this)};function _i(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(p(c.aa,c),m)}function vi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Wn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(di(),Nt(17)),An(this),this.m=2,kn(this)):ha(this,this.T-c)};function kn(c){c.j.I==0||c.K||Ru(c.j,c)}function An(c){vi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,So(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ei(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||Ti(v.h,c))){if(!c.L&&Ti(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)va(v),xs(v);else break e;Vr(v),Nt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(p(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ii(v,11)}else if((c.L||v.g==c)&&va(v),!C(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Je=L[m];const yt=Je[0];if(!(yt<=v.K))if(v.K=yt,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const Ln=Je[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Ci=Je[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const si=Je[5];si!=null&&typeof si=="number"&&si>0&&(S=1.5*si,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ri=c.g;if(ri){const Mr=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var q=S.h;q.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Io(q,q.h),q.h=null))}if(S.G){const Ea=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(S.wa=Ea,nt(S.J,S.G,Ea))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=c;if(S.na=Cu(S,S.L?S.ba:null,S.W),se.L){Co(S.h,se);var Ne=se,At=S.O;At&&(Ne.H=At),Ne.D&&(vi(Ne),_i(Ne)),S.g=se}else Au(S);v.i.length>0&&xi(v)}else Je[0]!="stop"&&Je[0]!="close"||Ii(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Ii(v,7):Lo(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}di(4)}catch{}}var Ot=class{constructor(c,m){this.g=c,this.map=m}};function Ro(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bi(c){return c.h?1:c.g?c.g.size:0}function Ti(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Io(c,m){c.g?c.g.add(m):c.h=m}function Co(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function No(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return j(c.i)}var _u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let L,q=null;S>=0?(L=c[v].substring(0,S),q=c[v].substring(S+1)):L=c[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function wn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof wn?(this.l=c.l,Qt(this,c.j),this.o=c.o,this.g=c.g,Es(this,c.u),this.h=c.h,Do(this,Tu(c.i)),this.m=c.m):c&&(m=String(c).match(_u))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),Es(this,m[4]),this.h=Si(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}wn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(xr(m,da,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(xr(m,da,!0),"@"),c.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xr(v,v.charAt(0)=="/"?Oo:vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xr(v,Eu)),c.join("")},wn.prototype.resolve=function(c){const m=Vt(this);let v=!!c.j;v?Qt(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)Es(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let se=0;se<L.length;){const Ne=L[se++];Ne=="."?S&&se==L.length&&q.push(""):Ne==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&se==L.length&&q.push("")):(q.push(Ne),S=!0)}S=q.join("/")}else S=L}return v?m.h=S:v=c.i.toString()!=="",v?Do(m,Tu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Vt(c){return new wn(c)}function Qt(c,m,v){c.j=v?Si(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Es(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Do(c,m,v){m instanceof Ts?(c.i=m,ga(c.i,c.l)):(v||(m=xr(m,bs)),c.i=new Ts(m,c.l))}function nt(c,m,v){c.i.set(m,v)}function Rr(c){return nt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Si(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,mn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function mn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,vu=/[#\?:]/g,Oo=/[#\?]/g,bs=/[#\?@]/g,Eu=/#/g;function Ts(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function gn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ts.prototype,s.add=function(c,m){gn(this),this.i=null,c=Ss(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function bu(c,m){gn(c),m=Ss(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Vo(c,m){return gn(c),m=Ss(c,m),c.g.has(m)}s.forEach=function(c,m){gn(this),this.g.forEach(function(v,S){v.forEach(function(L){c.call(m,L,S,this)},this)},this)};function Mo(c,m){gn(c);let v=[];if(typeof m=="string")Vo(c,m)&&(v=v.concat(c.g.get(Ss(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return gn(this),this.i=null,c=Ss(this,c),Vo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Mo(this,c),c.length>0?String(c[0]):m):m};function ma(c,m,v){bu(c,m),v.length>0&&(c.i=null,c.g.set(Ss(c,m),j(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Hi(v);v=Mo(this,v);for(let q=0;q<v.length;q++){let se=L;v[q]!==""&&(se+="="+Hi(v[q])),c.push(se)}}return this.i=c.join("&")};function Tu(c){const m=new Ts;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Ss(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function ga(c,m){m&&!c.j&&(gn(c),c.i=null,c.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(bu(this,S),ma(this,L,v))},c)),c.j=m}function ti(c,m){const v=new Jn;if(d.Image){const S=new Image;S.onload=T(Pn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Pn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(Pn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Pn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function ko(c,m){const v=new Jn,S=new AbortController,L=setTimeout(()=>{S.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(q=>{clearTimeout(L),q.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Pn(v,"TestPingServer: error",!1,m)})}function Pn(c,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function As(){this.g=new uu}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}A(Ai,cu),Ai.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(c,m){Ke.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ir,Ke),s=Ir.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,ni(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?ws(this):ni(this),this.readyState==3&&pa(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,ws(this))},s.Na=function(c){this.g&&(this.response=c,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ni(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jn(c){let m="";return Oe(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Cr(c,m,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=jn(v),typeof c=="string"?v!=null&&Hi(v):nt(c,m,v))}function at(c){Ke.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(at,Ke);var wi=/^https?$/i,Po=["POST","PUT"];s=at.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=R(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(q){Nr(this,q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Po,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,se]of v)this.g.setRequestHeader(q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Nr(this,q)}};function Nr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,jo(c),Fi(c)}function jo(c){c.A||(c.A=!0,tt(c,"complete"),tt(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,tt(this,"complete"),tt(this,"abort"),Fi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(c){if(c.h&&typeof u<"u"){if(c.v&&ii(c)==4)setTimeout(c.Ca.bind(c),0);else if(tt(c,"readystatechange"),ii(c)==4){c.h=!1;try{const q=c.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let se=String(c.D).match(_u)[1]||null;!se&&d.self&&d.self.location&&(se=d.self.location.protocol.slice(0,-1)),S=!wi.test(se?se.toLowerCase():"")}v=S}if(v)tt(c,"complete"),tt(c,"success");else{c.o=6;try{var L=ii(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",jo(c)}}finally{Fi(c)}}}}function Fi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||tt(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(c){return c.g?c.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Xh(m)}};function $t(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const m={};c=(c.g&&ii(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=gu(c[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Ve(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Rs(c){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,c),this.Za=Ri("retryDelaySeedMs",1e4,c),this.Ta=Ri("forwardChannelMaxRetries",2,c),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(c&&c.concurrentRequestLimit),this.Ba=new As,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Rs.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,S){Nt(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Cu(this,null,this.W),xi(this)};function Lo(c){if(ya(c),c.I==3){var m=c.V++,v=Vt(c.J);if(nt(v,"SID",c.M),nt(v,"RID",m),nt(v,"TYPE","terminate"),Or(c,v),m=new Wn(c,c.j,m),m.M=2,m.A=Rr(Vt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Nu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),_i(m)}Iu(c)}function xs(c){c.g&&(zo(c),c.g.cancel(),c.g=null)}function ya(c){xs(c),c.v&&(d.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function xi(c){if(!xo(c.h)&&!c.m){c.m=!0;var m=c.Ea;ve||w(),pe||(ve(),pe=!0),x.add(m,c),c.D=0}}function _a(c,m){return bi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(p(c.Ea,c,m),xu(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Wn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=O(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Su(this,L,m),v=Vt(this.J),nt(v,"RID",c),nt(v,"CVER",22),this.G&&nt(v,"X-HTTP-Session-Id",this.G),Or(this,v),q&&(this.R?m="headers="+Hi(jn(q))+"&"+m:this.u&&Cr(v,this.u,q)),Io(this.h,L),this.Ra&&nt(v,"TYPE","init"),this.S?(nt(v,"$req",m),nt(v,"SID","null"),L.U=!0,yi(L,v,null)):yi(L,v,m),this.I=2}}else this.I==3&&(c?Uo(this,c):this.i.length==0||xo(this.h)||Uo(this))};function Uo(c,m){var v;m?v=m.l:v=c.V++;const S=Vt(c.J);nt(S,"SID",c.M),nt(S,"RID",v),nt(S,"AID",c.K),Or(c,S),c.u&&c.o&&Cr(S,c.u,c.o),v=new Wn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=Su(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Io(c.h,v),yi(v,S,m)}function Or(c,m){c.H&&Oe(c.H,function(v,S){nt(m,S,v)}),c.l&&Oe({},function(v,S){nt(m,S,v)})}function Su(c,m,v){v=Math.min(c.i.length,v);const S=c.l?p(c.l.Ka,c.l,c):null;e:{var L=c.i;let Ne=-1;for(;;){const At=["count="+v];Ne==-1?v>0?(Ne=L[0].g,At.push("ofs="+Ne)):Ne=0:At.push("ofs="+Ne);let Je=!0;for(let yt=0;yt<v;yt++){var q=L[yt].g;const Ln=L[yt].map;if(q-=Ne,q<0)Ne=Math.max(0,L[yt].g-100),Je=!1;else try{q="req"+q+"_"||"";try{var se=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ci,si]of se){let ri=si;g(si)&&(ri=vs(si)),At.push(q+Ci+"="+encodeURIComponent(ri))}}catch(Ci){throw At.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{S&&S(Ln)}}if(Je){se=At.join("&");break e}}se=void 0}return c=c.i.splice(0,v),m.G=c,se}function Au(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ve||w(),pe||(ve(),pe=!0),x.add(m,c),c.A=0}}function Vr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(p(c.Da,c),xu(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(p(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),xs(this),wu(this))};function zo(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function wu(c){c.g=new Wn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Vt(c.na);nt(m,"RID","rpc"),nt(m,"SID",c.M),nt(m,"AID",c.K),nt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&nt(m,"TO",c.ia),nt(m,"TYPE","xmlhttp"),Or(c,m),c.u&&c.o&&Cr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rr(Vt(m)),v.u=null,v.R=!0,ca(v,c)}s.Va=function(){this.C!=null&&(this.C=null,xs(this),Vr(this),Nt(19))};function va(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ru(c,m){var v=null;if(c.g==m){va(c),zo(c),c.g=null;var S=2}else if(Ti(c.h,m))v=m.G,Co(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;S=ua(),tt(S,new mi(S,v)),xi(c)}else Au(c);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&_a(c,m)||S==2&&Vr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function xu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ii(c,m){if(c.j.info("Error code "+m),m==2){var v=p(c.bb,c),S=c.Ua;const L=!S;S=new wn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(S,"https"),Rr(S),L?ti(S.toString(),v):ko(S.toString(),v)}else Nt(2);c.I=0,c.l&&c.l.pa(m),Iu(c),ya(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function Iu(c){if(c.I=0,c.ja=[],c.l){const m=No(c.h);(m.length!=0||c.i.length!=0)&&($(c.ja,m),$(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Cu(c,m,v){var S=v instanceof wn?Vt(v):new wn(v);if(S.g!="")m&&(S.g=m+"."+S.g),Es(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new wn(null);S&&Qt(q,S),m&&(q.g=m),L&&Es(q,L),v&&(q.h=v),S=q}return v=c.G,m=c.wa,v&&m&&nt(S,v,m),nt(S,"VER",c.ka),Or(c,S),S}function Nu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new at(new Ai({ab:v})):new at(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Du(){}s=Du.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Is(){}Is.prototype.g=function(c,m){return new fn(c,m)};function fn(c,m){Ke.call(this),this.g=new Rs(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!C(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Qi(this)}A(fn,Ke),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Lo(this.g)},fn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vs(c),c=v);m.i.push(new Ot(m.Ya++,c)),m.I==3&&xi(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,fn.Z.N.call(this)};function Ou(c){Xt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const v in m){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}A(Ou,Xt);function Vu(){Mn.call(this),this.status=1}A(Vu,Mn);function Qi(c){this.g=c}A(Qi,Du),Qi.prototype.ra=function(){tt(this.g,"a")},Qi.prototype.qa=function(c){tt(this.g,new Ou(c))},Qi.prototype.pa=function(c){tt(this.g,new Vu)},Qi.prototype.oa=function(){tt(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,_E=function(){return new Is},yE=function(){return ua()},pE=St,vm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Qc=Ar,Ao.COMPLETE="complete",gE=Ao,hu.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Ke.prototype.listen=Ke.prototype.J,xl=hu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,mE=at}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore",Cv="4.9.3";class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let po="12.7.0";const na=new Hm("@firebase/firestore");function $a(){return na.logLevel}function he(s,...e){if(na.logLevel<=Be.DEBUG){const i=e.map(Qm);na.debug(`Firestore (${po}): ${s}`,...i)}}function fs(s,...e){if(na.logLevel<=Be.ERROR){const i=e.map(Qm);na.error(`Firestore (${po}): ${s}`,...i)}}function oo(s,...e){if(na.logLevel<=Be.WARN){const i=e.map(Qm);na.warn(`Firestore (${po}): ${s}`,...i)}}function Qm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,vE(s,r,i)}function vE(s,e,i){let r=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw fs(r),new Error(r)}function et(s,e,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||vE(e,l,r)}function Re(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class EE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(ln.UNAUTHENTICATED)))}shutdown(){}}class Xw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class $w{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let u=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ki,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=u;e.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ki)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new EE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class Zw{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Jw{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new Zw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ww{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const r=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const l=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function e2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=e2(40);for(let u=0;u<l.length;++u)r.length<20&&l[u]<i&&(r+=e.charAt(l[u]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function Em(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const l=s.charAt(r),u=e.charAt(r);if(l!==u)return sm(l)===sm(u)?qe(l,u):sm(l)?1:-1}return qe(s.length,e.length)}const t2=55296,n2=57343;function sm(s){const e=s.charCodeAt(0);return e>=t2&&e<=n2}function lo(s,e,i){return s.length===e.length&&s.every(((r,l)=>i(r,e[l])))}const Dv="__name__";class Mi{constructor(e,i,r){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&Ae(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let l=0;l<r;l++){const u=Mi.compareSegments(e.get(l),i.get(l));if(u!==0)return u}return qe(e.length,i.length)}static compareSegments(e,i){const r=Mi.isNumericId(e),l=Mi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Mi.extractNumericId(e).compare(Mi.extractNumericId(i)):Em(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class ft extends Mi{construct(e,i,r){return new ft(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const i2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Mi{construct(e,i,r){return new nn(e,i,r)}static isValidIdentifier(e){return i2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new nn([Dv])}static fromServerFormat(e){const i=[];let r="",l=0;const u=()=>{if(r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(u(),l++)}if(u(),d)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(i)}static emptyPath(){return new nn([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ft.fromString(e))}static fromName(e){return new _e(ft.fromString(e).popFirst(5))}static empty(){return new _e(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ft(e.slice()))}}function bE(s,e,i){if(!i)throw new oe(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function s2(s,e,i,r){if(e===!0&&r===!0)throw new oe(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ov(s){if(!_e.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Vv(s){if(_e.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function TE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function $n(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wh(s);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function zt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Jl(s,e){if(!TE(s))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const l=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){i=`Expected '${r}' field to equal '${u.value}'`;break}}if(i)throw new oe(J.INVALID_ARGUMENT,i);return!0}const Mv=-62135596800,kv=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*kv);return new gt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Mv)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kv}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:zt("string",gt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new gt(0,0))}static max(){return new xe(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const zl=-1;function r2(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(r===1e9?new gt(i+1,0):new gt(i,r));return new hr(l,_e.empty(),e)}function a2(s){return new hr(s.readTime,s.key,zl)}class hr{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new hr(xe.min(),_e.empty(),zl)}static max(){return new hr(xe.max(),_e.empty(),zl)}}function o2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_e.comparator(s.documentKey,e.documentKey),i!==0?i:qe(s.largestBatchId,e.largestBatchId))}const l2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function yo(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==l2)throw s;he("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ee(((r,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,l)},this.catchCallback=u=>{this.wrapFailure(i,u).next(r,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ee?i:ee.resolve(i)}catch(i){return ee.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ee.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ee.reject(i)}static resolve(e){return new ee(((i,r)=>{i(e)}))}static reject(e){return new ee(((i,r)=>{r(e)}))}static waitFor(e){return new ee(((i,r)=>{let l=0,u=0,d=!1;e.forEach((g=>{++l,g.next((()=>{++u,d&&u===l&&i()}),(y=>r(y)))})),d=!0,u===l&&i()}))}static or(e){let i=ee.resolve(!1);for(const r of e)i=i.next((l=>l?ee.resolve(l):r()));return i}static forEach(e,i){const r=[];return e.forEach(((l,u)=>{r.push(i.call(this,l,u))})),this.waitFor(r)}static mapArray(e,i){return new ee(((r,l)=>{const u=e.length,d=new Array(u);let g=0;for(let y=0;y<u;y++){const p=y;i(e[p]).next((T=>{d[p]=T,++g,g===u&&r(d)}),(T=>l(T)))}}))}static doWhile(e,i){return new ee(((r,l)=>{const u=()=>{e()===!0?i().next((()=>{u()}),l):r()};u()}))}}function c2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function _o(s){return s.name==="IndexedDbTransactionError"}class Rh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;const Ym=-1;function xh(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function h2(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const SE="";function f2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Pv(e)),e=d2(s.get(i),e);return Pv(e)}function d2(s,e){let i=e;const r=s.length;for(let l=0;l<r;l++){const u=s.charAt(l);switch(u){case"\0":i+="";break;case SE:i+="";break;default:i+=u}}return i}function Pv(s){return s+SE+""}function jv(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function yr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function m2(s,e){const i=[];for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&i.push(e(s[r],r,s));return i}function AE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||tn.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,i,r,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=i?r(e.key,i):1,i&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,i,r,l,u){this.key=e,this.value=i,this.color=r??tn.RED,this.left=l??tn.EMPTY,this.right=u??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,l,u){return new tn(e??this.key,i??this.value,r??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let l=this;const u=r(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,i,r),null):u===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return tn.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,r,l,u){return this}insert(e,i,r){return new tn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ht(this.comparator);return i.data=e,i}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Vn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Vn([])}unionWith(e){let i=new Ht(nn.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new Vn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wE("Invalid base64 string: "+u):u}})(e);return new sn(i)}static fromUint8Array(e){const i=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(e);return new sn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const g2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=g2.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xt(s.seconds),nanos:xt(s.nanos)}}function xt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}const RE="server_timestamp",xE="__type__",IE="__previous_value__",CE="__local_write_time__";function Xm(s){return(s?.mapValue?.fields||{})[xE]?.stringValue===RE}function Ih(s){const e=s.mapValue.fields[IE];return Xm(e)?Ih(e):e}function Bl(s){const e=fr(s.mapValue.fields[CE].timestampValue);return new gt(e.seconds,e.nanos)}class p2{constructor(e,i,r,l,u,d,g,y,p,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=T}}const rh="(default)";class ql{constructor(e,i){this.projectId=e,this.database=i||rh}static empty(){return new ql("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof ql&&e.projectId===this.projectId&&e.database===this.database}}const NE="__type__",y2="__max__",Uc={mapValue:{}},DE="__vector__",ah="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xm(s)?4:v2(s)?9007199254740991:_2(s)?10:11:Ae(28295,{value:s})}function qi(s,e){if(s===e)return!0;const i=mr(s);if(i!==mr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Bl(s).isEqual(Bl(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=fr(l.timestampValue),g=fr(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,u){return dr(l.bytesValue).isEqual(dr(u.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,u){return xt(l.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(l.geoPointValue.longitude)===xt(u.geoPointValue.longitude)})(s,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return xt(l.integerValue)===xt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=xt(l.doubleValue),g=xt(u.doubleValue);return d===g?sh(d)===sh(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return lo(s.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},g=u.mapValue.fields||{};if(jv(d)!==jv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!qi(d[y],g[y])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Hl(s,e){return(s.values||[]).find((i=>qi(i,e)))!==void 0}function uo(s,e){if(s===e)return 0;const i=mr(s),r=mr(e);if(i!==r)return qe(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return(function(u,d){const g=xt(u.integerValue||u.doubleValue),y=xt(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(s,e);case 3:return Uv(s.timestampValue,e.timestampValue);case 4:return Uv(Bl(s),Bl(e));case 5:return Em(s.stringValue,e.stringValue);case 6:return(function(u,d){const g=dr(u),y=dr(d);return g.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(u,d){const g=u.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const T=qe(g[p],y[p]);if(T!==0)return T}return qe(g.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(u,d){const g=qe(xt(u.latitude),xt(d.latitude));return g!==0?g:qe(xt(u.longitude),xt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return zv(s.arrayValue,e.arrayValue);case 10:return(function(u,d){const g=u.fields||{},y=d.fields||{},p=g[ah]?.arrayValue,T=y[ah]?.arrayValue,A=qe(p?.values?.length||0,T?.values?.length||0);return A!==0?A:zv(p,T)})(s.mapValue,e.mapValue);case 11:return(function(u,d){if(u===Uc.mapValue&&d===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const g=u.fields||{},y=Object.keys(g),p=d.fields||{},T=Object.keys(p);y.sort(),T.sort();for(let A=0;A<y.length&&A<T.length;++A){const R=Em(y[A],T[A]);if(R!==0)return R;const j=uo(g[y[A]],p[T[A]]);if(j!==0)return j}return qe(y.length,T.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function Uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const i=fr(s),r=fr(e),l=qe(i.seconds,r.seconds);return l!==0?l:qe(i.nanos,r.nanos)}function zv(s,e){const i=s.values||[],r=e.values||[];for(let l=0;l<i.length&&l<r.length;++l){const u=uo(i[l],r[l]);if(u)return u}return qe(i.length,r.length)}function co(s){return bm(s)}function bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=fr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return _e.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const u of i.values||[])l?l=!1:r+=",",r+=bm(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",u=!0;for(const d of r)u?u=!1:l+=",",l+=`${d}:${bm(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Kc(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(s);return e?16+Kc(e):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,u)=>l+Kc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return yr(r.fields,((u,d)=>{l+=u.length+Kc(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function Bv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Tm(s){return!!s&&"integerValue"in s}function $m(s){return!!s&&"arrayValue"in s}function qv(s){return!!s&&"nullValue"in s}function Hv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function _2(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===DE}function Ol(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return yr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Ol(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ol(s.arrayValue.values[i]);return e}return{...s}}function v2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===y2}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(i)}setAll(e){let i=nn.emptyPath(),r={},l=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Ol(d):l.push(g.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,r,l)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=i.mapValue.fields[e.get(r)];Yc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,r){yr(i,((l,u)=>e[l]=u));for(const l of r)delete e[l]}clone(){return new Tn(Ol(this.value))}}function OE(s){const e=[];return yr(s.fields,((i,r)=>{const l=new nn([i]);if(Yc(r)){const u=OE(r.mapValue).fields;if(u.length===0)e.push(l);else for(const d of u)e.push(l.child(d))}else e.push(l)})),new Vn(e)}class un{constructor(e,i,r,l,u,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=l,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new un(e,0,xe.min(),xe.min(),xe.min(),Tn.empty(),0)}static newFoundDocument(e,i,r,l){return new un(e,1,i,xe.min(),r,l,0)}static newNoDocument(e,i){return new un(e,2,i,xe.min(),xe.min(),Tn.empty(),0)}static newUnknownDocument(e,i){return new un(e,3,i,xe.min(),xe.min(),Tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,i){this.position=e,this.inclusive=i}}function Fv(s,e,i){let r=0;for(let l=0;l<s.position.length;l++){const u=e[l],d=s.position[l];if(u.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),i.key):r=uo(d,i.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!qi(s.position[i],e.position[i]))return!1;return!0}class Fl{constructor(e,i="asc"){this.field=e,this.dir=i}}function E2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class VE{}class Ut extends VE{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new T2(e,i,r):i==="array-contains"?new w2(e,r):i==="in"?new R2(e,r):i==="not-in"?new x2(e,r):i==="array-contains-any"?new I2(e,r):new Ut(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new S2(e,r):new A2(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends VE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new ci(e,i)}matches(e){return ME(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ME(s){return s.op==="and"}function kE(s){return b2(s)&&ME(s)}function b2(s){for(const e of s.filters)if(e instanceof ci)return!1;return!0}function Sm(s){if(s instanceof Ut)return s.field.canonicalString()+s.op.toString()+co(s.value);if(kE(s))return s.filters.map((e=>Sm(e))).join(",");{const e=s.filters.map((i=>Sm(i))).join(",");return`${s.op}(${e})`}}function PE(s,e){return s instanceof Ut?(function(r,l){return l instanceof Ut&&r.op===l.op&&r.field.isEqual(l.field)&&qi(r.value,l.value)})(s,e):s instanceof ci?(function(r,l){return l instanceof ci&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((u,d,g)=>u&&PE(d,l.filters[g])),!0):!1})(s,e):void Ae(19439)}function jE(s){return s instanceof Ut?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(s):s instanceof ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(jE).join(" ,")+"}"})(s):"Filter"}class T2 extends Ut{constructor(e,i,r){super(e,i,r),this.key=_e.fromName(r.referenceValue)}matches(e){const i=_e.comparator(e.key,this.key);return this.matchesComparison(i)}}class S2 extends Ut{constructor(e,i){super(e,"in",i),this.keys=LE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class A2 extends Ut{constructor(e,i){super(e,"not-in",i),this.keys=LE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function LE(s,e){return(e.arrayValue?.values||[]).map((i=>_e.fromName(i.referenceValue)))}class w2 extends Ut{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $m(i)&&Hl(i.arrayValue,this.value)}}class R2 extends Ut{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class x2 extends Ut{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class I2 extends Ut{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Hl(this.value.arrayValue,r)))}}class C2{constructor(e,i=null,r=[],l=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=u,this.startAt=d,this.endAt=g,this.Te=null}}function Qv(s,e=null,i=[],r=[],l=null,u=null,d=null){return new C2(s,e,i,r,l,u,d)}function Zm(s){const e=Re(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Sm(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),xh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>co(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>co(r))).join(",")),e.Te=i}return e.Te}function Jm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!E2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!PE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Gv(s.startAt,e.startAt)&&Gv(s.endAt,e.endAt)}function Am(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class vo{constructor(e,i=null,r=[],l=[],u=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function N2(s,e,i,r,l,u,d,g){return new vo(s,e,i,r,l,u,d,g)}function Wm(s){return new vo(s)}function Kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function UE(s){return s.collectionGroup!==null}function Vl(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),i.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ht(nn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Fl(u,r))})),i.has(nn.keyField().canonicalString())||e.Ie.push(new Fl(nn.keyField(),r))}return e.Ie}function Pi(s){const e=Re(s);return e.Ee||(e.Ee=zE(e,Vl(s))),e.Ee}function D2(s){const e=Re(s);return e.de||(e.de=zE(e,s.explicitOrderBy)),e.de}function zE(s,e){if(s.limitType==="F")return Qv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Fl(l.field,u)}));const i=s.endAt?new oh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new oh(s.startAt.position,s.startAt.inclusive):null;return Qv(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function wm(s,e){const i=s.filters.concat([e]);return new vo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Rm(s,e,i){return new vo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ch(s,e){return Jm(Pi(s),Pi(e))&&s.limitType===e.limitType}function BE(s){return`${Zm(Pi(s))}|lt:${s.limitType}`}function Za(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>jE(l))).join(", ")}]`),xh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${r})`})(Pi(s))}; limitType=${s.limitType})`}function Nh(s,e){return e.isFoundDocument()&&(function(r,l){const u=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):_e.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,e)&&(function(r,l){for(const u of Vl(r))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const u of r.filters)if(!u.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const p=Fv(d,g,y);return d.inclusive?p<=0:p<0})(r.startAt,Vl(r),l)||r.endAt&&!(function(d,g,y){const p=Fv(d,g,y);return d.inclusive?p>=0:p>0})(r.endAt,Vl(r),l))})(s,e)}function O2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function qE(s){return(e,i)=>{let r=!1;for(const l of Vl(s)){const u=V2(l,e,i);if(u!==0)return u;r=r||l.field.isKeyField()}return 0}}function V2(s,e,i){const r=s.field.isKeyField()?_e.comparator(e.key,i.key):(function(u,d,g){const y=d.data.field(u),p=g.data.field(u);return y!==null&&p!==null?uo(y,p):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:s.dir})}}class aa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[l,u]of r)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,((i,r)=>{for(const[l,u]of r)e(l,u)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}const M2=new vt(_e.comparator);function ds(){return M2}const HE=new vt(_e.comparator);function Il(...s){let e=HE;for(const i of s)e=e.insert(i.key,i);return e}function FE(s){let e=HE;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Zr(){return Ml()}function GE(){return Ml()}function Ml(){return new aa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const k2=new vt(_e.comparator),P2=new Ht(_e.comparator);function He(...s){let e=P2;for(const i of s)e=e.add(i);return e}const j2=new Ht(qe);function L2(){return j2}function eg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function QE(s){return{integerValue:""+s}}function U2(s,e){return h2(e)?QE(e):eg(s,e)}class Dh{constructor(){this._=void 0}}function z2(s,e,i){return s instanceof lh?(function(l,u){const d={fields:{[xE]:{stringValue:RE},[CE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Xm(u)&&(u=Ih(u)),u&&(d.fields[IE]=u),{mapValue:d}})(i,e):s instanceof Gl?YE(s,e):s instanceof Ql?XE(s,e):(function(l,u){const d=KE(l,u),g=Yv(d)+Yv(l.Ae);return Tm(d)&&Tm(l.Ae)?QE(g):eg(l.serializer,g)})(s,e)}function B2(s,e,i){return s instanceof Gl?YE(s,e):s instanceof Ql?XE(s,e):i}function KE(s,e){return s instanceof uh?(function(r){return Tm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class lh extends Dh{}class Gl extends Dh{constructor(e){super(),this.elements=e}}function YE(s,e){const i=$E(e);for(const r of s.elements)i.some((l=>qi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Ql extends Dh{constructor(e){super(),this.elements=e}}function XE(s,e){let i=$E(e);for(const r of s.elements)i=i.filter((l=>!qi(l,r)));return{arrayValue:{values:i}}}class uh extends Dh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Yv(s){return xt(s.integerValue||s.doubleValue)}function $E(s){return $m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function q2(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof Gl&&l instanceof Gl||r instanceof Ql&&l instanceof Ql?lo(r.elements,l.elements,qi):r instanceof uh&&l instanceof uh?qi(r.Ae,l.Ae):r instanceof lh&&l instanceof lh})(s.transform,e.transform)}class H2{constructor(e,i){this.version=e,this.transformResults=i}}class Xn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Oh{}function ZE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new tg(s.key,Xn.none()):new Wl(s.key,s.data,Xn.none());{const i=s.data,r=Tn.empty();let l=new Ht(nn.comparator);for(let u of e.fields)if(!l.has(u)){let d=i.field(u);d===null&&u.length>1&&(u=u.popLast(),d=i.field(u)),d===null?r.delete(u):r.set(u,d),l=l.add(u)}return new _r(s.key,r,new Vn(l.toArray()),Xn.none())}}function F2(s,e,i){s instanceof Wl?(function(l,u,d){const g=l.value.clone(),y=$v(l.fieldTransforms,u,d.transformResults);g.setAll(y),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof _r?(function(l,u,d){if(!Xc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const g=$v(l.fieldTransforms,u,d.transformResults),y=u.data;y.setAll(JE(l)),y.setAll(g),u.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function kl(s,e,i,r){return s instanceof Wl?(function(u,d,g,y){if(!Xc(u.precondition,d))return g;const p=u.value.clone(),T=Zv(u.fieldTransforms,y,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,i,r):s instanceof _r?(function(u,d,g,y){if(!Xc(u.precondition,d))return g;const p=Zv(u.fieldTransforms,y,d),T=d.data;return T.setAll(JE(u)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(u,d,g){return Xc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function G2(s,e){let i=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),u=KE(r.transform,l||null);u!=null&&(i===null&&(i=Tn.empty()),i.set(r.field,u))}return i||null}function Xv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&lo(r,l,((u,d)=>q2(u,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Wl extends Oh{constructor(e,i,r,l=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class _r extends Oh{constructor(e,i,r,l,u=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function JE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function $v(s,e,i){const r=new Map;et(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const u=s[l],d=u.transform,g=e.data.field(u.field);r.set(u.field,B2(d,g,i[l]))}return r}function Zv(s,e,i){const r=new Map;for(const l of s){const u=l.transform,d=i.data.field(l.field);r.set(l.field,z2(u,d,e))}return r}class tg extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Q2 extends Oh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class K2{constructor(e,i,r,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&F2(u,e,r[l])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=kl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=kl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=GE();return this.mutations.forEach((l=>{const u=e.get(l.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=i.has(l.key)?null:g;const y=ZE(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),He())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((i,r)=>Xv(i,r)))&&lo(this.baseMutations,e.baseMutations,((i,r)=>Xv(i,r)))}}class ng{constructor(e,i,r,l){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(e,i,r){et(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return k2})();const u=e.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,r[d].version);return new ng(e,i,r,l)}}class Y2{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class X2{constructor(e,i,r){this.alias=e,this.aggregateType=i,this.fieldPath=r}}class $2{constructor(e,i){this.count=e,this.unchangedNames=i}}var Lt,Ge;function Z2(s){switch(s){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function WE(s){if(s===void 0)return fs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Lt.OK:return J.OK;case Lt.CANCELLED:return J.CANCELLED;case Lt.UNKNOWN:return J.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return J.INTERNAL;case Lt.UNAVAILABLE:return J.UNAVAILABLE;case Lt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Lt.NOT_FOUND:return J.NOT_FOUND;case Lt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Lt.ABORTED:return J.ABORTED;case Lt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Lt.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:s})}}(Ge=Lt||(Lt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function J2(){return new TextEncoder}const W2=new ur([4294967295,4294967295],0);function Jv(s){const e=J2().encode(s),i=new dE;return i.update(e),new Uint8Array(i.digest())}function Wv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ur([i,r],0),new ur([l,u],0)]}class ig{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ur.fromNumber(this.ge)}ye(e,i,r){let l=e.add(i.multiply(ur.fromNumber(r)));return l.compare(W2)===1&&(l=new ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Jv(e),[r,l]=Wv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);if(!this.we(d))return!1}return!0}static create(e,i,r){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new ig(u,l,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Jv(e),[r,l]=Wv(i);for(let u=0;u<this.hashCount;u++){const d=this.ye(r,l,u);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vh{constructor(e,i,r,l,u){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const l=new Map;return l.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new Vh(xe.min(),l,new vt(qe),ds(),He())}}class eu{constructor(e,i,r,l,u){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new eu(r,i,He(),He(),He())}}class $c{constructor(e,i,r,l){this.be=e,this.removedTargetIds=i,this.key=r,this.De=l}}class eb{constructor(e,i){this.targetId=e,this.Ce=i}}class tb{constructor(e,i,r=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=l}}class e0{constructor(){this.ve=0,this.Fe=t0(),this.Me=sn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),i=He(),r=He();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:Ae(38017,{changeType:u})}})),new eu(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=t0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ds(),this.Je=zc(),this.He=zc(),this.Ye=new vt(qe)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,r=e.Ce.count,l=this.ot(i);if(l){const u=l.target;if(Am(u))if(r===0){const d=new _e(u.path);this.et(i,d,un.newNoDocument(d,xe.min()))}else et(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:u=0}=i;let d,g;try{d=dr(r).toUint8Array()}catch(y){if(y instanceof wE)return oo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ig(d,l,u)}catch(y){return oo(y instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((u=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(i,u,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((u,d)=>{const g=this.ot(d);if(g){if(u.current&&Am(g.target)){const y=new _e(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,un.newNoDocument(y,e))}u.Be&&(i.set(d,u.ke()),u.qe())}}));let r=He();this.He.forEach(((u,d)=>{let g=!0;d.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const l=new Vh(e,i,this.Ye,this.je,r);return this.je=ds(),this.Je=zc(),this.He=zc(),this.Ye=new vt(qe),l}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new e0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ht(qe),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ht(qe),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||he("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new e0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zc(){return new vt(_e.comparator)}function t0(){return new vt(_e.comparator)}const tR={asc:"ASCENDING",desc:"DESCENDING"},nR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iR={and:"AND",or:"OR"};class sR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function xm(s,e){return s.useProto3Json||xh(e)?e:{value:e}}function ch(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nb(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function rR(s,e){return ch(s,e.toTimestamp())}function ji(s){return et(!!s,49232),xe.fromTimestamp((function(i){const r=fr(i);return new gt(r.seconds,r.nanos)})(s))}function sg(s,e){return Im(s,e).canonicalString()}function Im(s,e){const i=(function(l){return new ft(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function ib(s){const e=ft.fromString(s);return et(ub(e),10190,{key:e.toString()}),e}function Cm(s,e){return sg(s.databaseId,e.path)}function rm(s,e){const i=ib(e);if(i.get(1)!==s.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new _e(rb(i))}function sb(s,e){return sg(s.databaseId,e)}function aR(s){const e=ib(s);return e.length===4?ft.emptyPath():rb(e)}function Nm(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function rb(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function n0(s,e,i){return{name:Cm(s,e),fields:i.value.mapValue.fields}}function oR(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(p,T){return p.useProto3Json?(et(T===void 0||typeof T=="string",58123),sn.fromBase64String(T||"")):(et(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),sn.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?J.UNKNOWN:WE(p.code);return new oe(T,p.message||"")})(d);i=new tb(r,l,u,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=rm(s,r.document.name),u=ji(r.document.updateTime),d=r.document.createTime?ji(r.document.createTime):xe.min(),g=new Tn({mapValue:{fields:r.document.fields}}),y=un.newFoundDocument(l,u,d,g),p=r.targetIds||[],T=r.removedTargetIds||[];i=new $c(p,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=rm(s,r.document),u=r.readTime?ji(r.readTime):xe.min(),d=un.newNoDocument(l,u),g=r.removedTargetIds||[];i=new $c([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=rm(s,r.document),u=r.removedTargetIds||[];i=new $c([],u,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:u}=r,d=new $2(l,u),g=r.targetId;i=new eb(g,d)}}return i}function lR(s,e){let i;if(e instanceof Wl)i={update:n0(s,e.key,e.value)};else if(e instanceof tg)i={delete:Cm(s,e.key)};else if(e instanceof _r)i={update:n0(s,e.key,e.data),updateMask:yR(e.fieldMask)};else{if(!(e instanceof Q2))return Ae(16599,{Vt:e.type});i={verify:Cm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(u,d){const g=d.transform;if(g instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ae(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:rR(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(s,e.precondition)),i}function uR(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(l,u){let d=l.updateTime?ji(l.updateTime):ji(u);return d.isEqual(xe.min())&&(d=ji(u)),new H2(d,l.transformResults||[])})(i,e)))):[]}function cR(s,e){return{documents:[sb(s,e.path)]}}function ab(s,e){const i={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=sb(s,l);const u=(function(p){if(p.length!==0)return lb(ci.create(p,"and"))})(e.filters);u&&(i.structuredQuery.where=u);const d=(function(p){if(p.length!==0)return p.map((T=>(function(R){return{field:er(R.field),direction:mR(R.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=xm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:l}}function hR(s,e,i,r){const{ft:l,parent:u}=ab(s,e),d={},g=[];let y=0;return i.forEach((p=>{const T="aggregate_"+y++;d[T]=p.alias,p.aggregateType==="count"?g.push({alias:T,count:{}}):p.aggregateType==="avg"?g.push({alias:T,avg:{field:er(p.fieldPath)}}):p.aggregateType==="sum"&&g.push({alias:T,sum:{field:er(p.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:g,structuredQuery:l.structuredQuery},parent:l.parent},gt:d,parent:u}}function fR(s){let e=aR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){et(r===1,65062);const T=i.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];i.where&&(u=(function(A){const R=ob(A);return R instanceof ci&&kE(R)?R.getFilters():[R]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((R=>(function($){return new Fl(Ja($.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(R)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let R;return R=typeof A=="object"?A.value:A,xh(R)?null:R})(i.limit));let y=null;i.startAt&&(y=(function(A){const R=!!A.before,j=A.values||[];return new oh(j,R)})(i.startAt));let p=null;return i.endAt&&(p=(function(A){const R=!A.before,j=A.values||[];return new oh(j,R)})(i.endAt)),N2(e,l,d,u,g,"F",y,p)}function dR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function ob(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ja(i.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ja(i.unaryFilter.field);return Ut.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(i.unaryFilter.field);return Ut.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ja(i.unaryFilter.field);return Ut.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ut.create(Ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ci.create(i.compositeFilter.filters.map((r=>ob(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function mR(s){return tR[s]}function gR(s){return nR[s]}function pR(s){return iR[s]}function er(s){return{fieldPath:s.canonicalString()}}function Ja(s){return nn.fromServerFormat(s.fieldPath)}function lb(s){return s instanceof Ut?(function(i){if(i.op==="=="){if(Hv(i.value))return{unaryFilter:{field:er(i.field),op:"IS_NAN"}};if(qv(i.value))return{unaryFilter:{field:er(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Hv(i.value))return{unaryFilter:{field:er(i.field),op:"IS_NOT_NAN"}};if(qv(i.value))return{unaryFilter:{field:er(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:er(i.field),op:gR(i.op),value:i.value}}})(s):s instanceof ci?(function(i){const r=i.getFilters().map((l=>lb(l)));return r.length===1?r[0]:{compositeFilter:{op:pR(i.op),filters:r}}})(s):Ae(54877,{filter:s})}function yR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function ub(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class rr{constructor(e,i,r,l,u=xe.min(),d=xe.min(),g=sn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class _R{constructor(e){this.yt=e}}function vR(s){const e=fR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Rm(e,e.limit,"L"):e}class ER{constructor(){this.Cn=new bR}addToCollectionParentIndex(e,i){return this.Cn.add(i),ee.resolve()}getCollectionParents(e,i){return ee.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ee.resolve()}deleteFieldIndex(e,i){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,i){return ee.resolve()}getDocumentsMatchingTarget(e,i){return ee.resolve(null)}getIndexType(e,i){return ee.resolve(0)}getFieldIndexes(e,i){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,i){return ee.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,i){return ee.resolve(hr.min())}updateCollectionGroup(e,i,r){return ee.resolve()}updateIndexEntries(e,i){return ee.resolve()}}class bR{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i]||new Ht(ft.comparator),u=!l.has(r);return this.index[i]=l.add(r),u}has(e){const i=e.lastSegment(),r=e.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(e){return(this.index[e]||new Ht(ft.comparator)).toArray()}}const i0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cb=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(cb,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class ho{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ho(0)}static cr(){return new ho(-1)}}const s0="LruGarbageCollector",TR=1048576;function r0([s,e],[i,r]){const l=qe(s,i);return l===0?qe(e,r):l}class SR{constructor(e){this.Ir=e,this.buffer=new Ht(r0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();r0(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AR{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(s0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){_o(i)?he(s0,"Ignoring IndexedDB error during garbage collection: ",i):await yo(i)}await this.Vr(3e5)}))}}class wR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return ee.resolve(Rh.ce);const r=new SR(i);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(i0)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),i0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,l,u,d,g,y,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(e,l)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,i)))).next((A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(p=Date.now(),$a()<=Be.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${u} targets in `+(y-g)+`ms
	Removed ${A} documents in `+(p-y)+`ms
Total Duration: ${p-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:A}))))}}function RR(s,e){return new wR(s,e)}class xR{constructor(){this.changes=new aa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?ee.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class CR{constructor(e,i,r,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(r!==null&&kl(r.mutation,l,Vn.empty(),gt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,He()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=He()){const l=Zr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,r).next((u=>{let d=Il();return u.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Zr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,He())))}populateOverlays(e,i,r){const l=[];return r.forEach((u=>{i.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,l){let u=ds();const d=Ml(),g=(function(){return Ml()})();return i.forEach(((y,p)=>{const T=r.get(p.key);l.has(p.key)&&(T===void 0||T.mutation instanceof _r)?u=u.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),kl(T.mutation,p,T.mutation.getFieldMask(),gt.now())):d.set(p.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,u).next((y=>(y.forEach(((p,T)=>d.set(p,T))),i.forEach(((p,T)=>g.set(p,new IR(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Ml();let l=new vt(((d,g)=>d-g)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const p=i.get(y);if(p===null)return;let T=r.get(y)||Vn.empty();T=g.applyToLocalView(p,T),r.set(y,T);const A=(l.get(g.batchId)||He()).add(y);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,T=y.value,A=GE();T.forEach((R=>{if(!u.has(R)){const j=ZE(i.get(R),r.get(R));j!==null&&A.set(R,j),u=u.add(R)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,A))}return ee.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):UE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,l):this.getDocumentsMatchingCollectionQuery(e,i,r,l)}getNextDocuments(e,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,l-u.size):ee.resolve(Zr());let g=zl,y=u;return d.next((p=>ee.forEach(p,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((R=>{y=y.insert(T,R)}))))).next((()=>this.populateOverlays(e,p,u))).next((()=>this.computeViews(e,y,p,He()))).next((T=>({batchId:g,changes:FE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _e(i)).next((r=>{let l=Il();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,l){const u=i.collectionGroup;let d=Il();return this.indexManager.getCollectionParents(e,u).next((g=>ee.forEach(g,(y=>{const p=(function(A,R){return new vo(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,p,r,l).next((T=>{T.forEach(((A,R)=>{d=d.insert(A,R)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,u,l)))).next((d=>{u.forEach(((y,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,un.newInvalidDocument(T)))}));let g=Il();return d.forEach(((y,p)=>{const T=u.get(y);T!==void 0&&kl(T.mutation,p,Vn.empty(),gt.now()),Nh(i,p)&&(g=g.insert(y,p))})),g}))}}class NR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ee.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ji(l.createTime)}})(i)),ee.resolve()}getNamedQuery(e,i){return ee.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:vR(l.bundledQuery),readTime:ji(l.readTime)}})(i)),ee.resolve()}}class DR{constructor(){this.overlays=new vt(_e.comparator),this.qr=new Map}getOverlay(e,i){return ee.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Zr();return ee.forEach(i,(l=>this.getOverlay(e,l).next((u=>{u!==null&&r.set(l,u)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((l,u)=>{this.St(e,i,u)})),ee.resolve()}removeOverlaysForBatchId(e,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ee.resolve()}getOverlaysForCollection(e,i,r){const l=Zr(),u=i.length+1,d=new _e(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===u&&y.largestBatchId>r&&l.set(y.getKey(),y)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,i,r,l){let u=new vt(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>r){let T=u.get(p.largestBatchId);T===null&&(T=Zr(),u=u.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=Zr(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=l)););return ee.resolve(g)}St(e,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Y2(i,r));let u=this.qr.get(i);u===void 0&&(u=He(),this.qr.set(i,u)),this.qr.set(i,u.add(r.key))}}class OR{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ee.resolve()}}class rg{constructor(){this.Qr=new Ht(Yt.$r),this.Ur=new Ht(Yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Yt(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Yt(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new _e(new ft([])),r=new Yt(i,e),l=new Yt(i,e+1),u=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new _e(new ft([])),r=new Yt(i,e),l=new Yt(i,e+1);let u=He();return this.Ur.forEachInRange([r,l],(d=>{u=u.add(d.key)})),u}containsKey(e){const i=new Yt(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Yt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return _e.comparator(e.key,i.key)||qe(e.Yr,i.Yr)}static Kr(e,i){return qe(e.Yr,i.Yr)||_e.comparator(e.key,i.key)}}class VR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ht(Yt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new K2(u,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Yt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,i){return ee.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,l=this.ei(r),u=l<0?0:l;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Yt(i,0),l=new Yt(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);u.push(g)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ht(qe);return i.forEach((l=>{const u=new Yt(l,0),d=new Yt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(g=>{r=r.add(g.Yr)}))})),ee.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,l=r.length+1;let u=r;_e.isDocumentKey(u)||(u=u.child(""));const d=new Yt(new _e(u),0);let g=new Ht(qe);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!r.isPrefixOf(p)&&(p.length===l&&(g=g.add(y.Yr)),!0)}),d),ee.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){et(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ee.forEach(i.mutations,(l=>{const u=new Yt(l.key,i.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Yt(i,0),l=this.Zr.firstAfterOrEqual(r);return ee.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class MR{constructor(e){this.ri=e,this.docs=(function(){return new vt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,l=this.docs.get(r),u=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return ee.resolve(r?r.document.mutableCopy():un.newInvalidDocument(i))}getEntries(e,i){let r=ds();return i.forEach((l=>{const u=this.docs.get(l);r=r.insert(l,u?u.document.mutableCopy():un.newInvalidDocument(l))})),ee.resolve(r)}getDocumentsMatchingQuery(e,i,r,l){let u=ds();const d=i.path,g=new _e(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:T}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||o2(a2(T),r)<=0||(l.has(T.key)||Nh(i,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,i,r,l){Ae(9500)}ii(e,i){return ee.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new kR(this)}getSize(e){return ee.resolve(this.size)}}class kR extends xR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),ee.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class PR{constructor(e){this.persistence=e,this.si=new aa((i=>Zm(i)),Jm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new rg,this.targetCount=0,this.ai=ho.ur()}forEachTarget(e,i){return this.si.forEach(((r,l)=>i(l))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),ee.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ho(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ee.resolve()}updateTargetData(e,i){return this.Pr(i),ee.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,i,r){let l=0;const u=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)})),ee.waitFor(u).next((()=>l))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return ee.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),ee.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,u=[];return l&&i.forEach((d=>{u.push(l.markPotentiallyOrphaned(e,d))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ee.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return ee.resolve(r)}containsKey(e,i){return ee.resolve(this._i.containsKey(i))}}class hb{constructor(e,i){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new OR,this.referenceDelegate=e(this),this.Pi=new PR(this),this.indexManager=new ER,this.remoteDocumentCache=(function(l){return new MR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new _R(i),this.Ii=new NR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new DR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new VR(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){he("MemoryPersistence","Starting transaction:",e);const l=new jR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,i){return ee.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class jR extends u2{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ri=new rg,this.Vi=null}static mi(e){return new ag(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),ee.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ee.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(r=>{const l=_e.fromPath(r);return this.gi(e,l).next((u=>{u||i.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ee.or([()=>ee.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class hh{constructor(e,i){this.persistence=e,this.pi=new aa((r=>f2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=RR(this,i)}static mi(e,i){return new hh(e,i)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((l=>r+l))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return ee.forEach(this.pi,((r,l)=>this.br(e,r,l).next((u=>u?ee.resolve():i(l)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,u.removeEntry(d,xe.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ee.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}br(e,i,r){return ee.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return ee.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class og{constructor(e,i,r,l){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=l}static As(e,i){let r=He(),l=He();for(const u of i.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new og(e,i.fromCache,r,l)}}class LR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class UR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return I1()?8:c2(cn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,l){const u={result:null};return this.ys(e,i).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,i,l,r).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new LR;return this.Ss(e,i,d).next((g=>{if(u.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>u.result))}bs(e,i,r,l){return r.documentReadCount<this.fs?($a()<=Be.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):($a()<=Be.DEBUG&&he("QueryEngine","Query:",Za(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?($a()<=Be.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(i))):ee.resolve())}ys(e,i){if(Kv(i))return ee.resolve(null);let r=Pi(i);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Rm(i,null,"F"),r=Pi(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const d=He(...u);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((y=>{const p=this.Ds(i,g);return this.Cs(i,p,d,y.readTime)?this.ys(e,Rm(i,null,"F")):this.vs(e,p,i,y)}))))})))))}ws(e,i,r,l){return Kv(i)||l.isEqual(xe.min())?ee.resolve(null):this.ps.getDocuments(e,r).next((u=>{const d=this.Ds(i,u);return this.Cs(i,d,r,l)?ee.resolve(null):($a()<=Be.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Za(i)),this.vs(e,d,i,r2(l,zl)).next((g=>g)))}))}Ds(e,i){let r=new Ht(qE(e));return i.forEach(((l,u)=>{Nh(e,u)&&(r=r.add(u))})),r}Cs(e,i,r,l){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const u=e.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,i,r){return $a()<=Be.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(e,i,hr.min(),r)}vs(e,i,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((u=>(i.forEach((d=>{u=u.insert(d.key,d)})),u)))}}const lg="LocalStore",zR=3e8;class BR{constructor(e,i,r,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new vt(qe),this.xs=new aa((u=>Zm(u)),Jm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function qR(s,e,i,r){return new BR(s,e,i,r)}async function fb(s,e){const i=Re(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((u=>(l=u,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((u=>{const d=[],g=[];let y=He();for(const p of l){d.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}for(const p of u){g.push(p.batchId);for(const T of p.mutations)y=y.add(T.key)}return i.localDocuments.getDocuments(r,y).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function HR(s,e){const i=Re(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,p,T){const A=p.batch,R=A.keys();let j=ee.resolve();return R.forEach(($=>{j=j.next((()=>T.getEntry(y,$))).next((te=>{const K=p.docVersions.get($);et(K!==null,48541),te.version.compareTo(K)<0&&(A.applyToRemoteDocument(te,p),te.isValidDocument()&&(te.setReadTime(p.commitVersion),T.addEntry(te)))}))})),j.next((()=>g.mutationQueue.removeMutationBatch(y,A)))})(i,r,e,u).next((()=>u.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=He();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function db(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function FR(s,e){const i=Re(s),r=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];e.targetChanges.forEach(((T,A)=>{const R=l.get(A);if(!R)return;g.push(i.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(u,T.addedDocuments,A))));let j=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?j=j.withResumeToken(sn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,r)),l=l.insert(A,j),(function(te,K,ue){return te.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=zR?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(R,j,T)&&g.push(i.Pi.updateTargetData(u,j))}));let y=ds(),p=He();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(GR(u,d,e.documentUpdates).next((T=>{y=T.ks,p=T.qs}))),!r.isEqual(xe.min())){const T=i.Pi.getLastRemoteSnapshotVersion(u).next((A=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(T)}return ee.waitFor(g).next((()=>d.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,y,p))).next((()=>y))})).then((u=>(i.Ms=l,u)))}function GR(s,e,i){let r=He(),l=He();return i.forEach((u=>r=r.add(u))),e.getEntries(s,r).next((u=>{let d=ds();return i.forEach(((g,y)=>{const p=u.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(xe.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):he(lg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function QR(s,e){const i=Re(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function KR(s,e){const i=Re(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,e).next((u=>u?(l=u,ee.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new rr(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function Dm(s,e,i){const r=Re(s),l=r.Ms.get(e),u=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",u,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!_o(d))throw d;he(lg,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function a0(s,e,i){const r=Re(s);let l=xe.min(),u=He();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,p,T){const A=Re(y),R=A.xs.get(T);return R!==void 0?ee.resolve(A.Ms.get(R)):A.Pi.getTargetData(p,T)})(r,d,Pi(e)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{u=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?l:xe.min(),i?u:He()))).next((g=>(YR(r,O2(e),g),{documents:g,Qs:u})))))}function YR(s,e,i){let r=s.Os.get(e)||xe.min();i.forEach(((l,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(e,r)}class o0{constructor(){this.activeTargetIds=L2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XR{constructor(){this.Mo=new o0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new o0,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $R{Oo(e){}shutdown(){}}const l0="ConnectivityMonitor";class u0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(l0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(l0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Bc=null;function Om(){return Bc===null?Bc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bc++,"0x"+Bc.toString(16)}const am="RestConnection",ZR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,i,r,l,u){const d=Om(),g=this.zo(e,i.toUriEncodedString());he(am,`Sending RPC '${e}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,u);const{host:p}=new URL(g),T=mo(p);return this.Jo(e,g,y,r,T).then((A=>(he(am,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw oo(am,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(e,i,r,l,u,d){return this.Go(e,i,r,l,u)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,u)=>e[u]=l)),r&&r.headers.forEach(((l,u)=>e[u]=l))}zo(e,i){const r=ZR[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class WR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const on="WebChannelConnection";class ex extends JR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,l,u){const d=Om();return new Promise(((g,y)=>{const p=new mE;p.setWithCredentials(!0),p.listenOnce(gE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Qc.NO_ERROR:const A=p.getResponseJson();he(on,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Qc.TIMEOUT:he(on,`RPC '${e}' ${d} timed out`),y(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const R=p.getStatus();if(he(on,`RPC '${e}' ${d} failed with status:`,R,"response text:",p.getResponseText()),R>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const $=j?.error;if($&&$.status&&$.message){const te=(function(ue){const G=ue.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(G)>=0?G:J.UNKNOWN})($.status);y(new oe(te,$.message))}else y(new oe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new oe(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(on,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);he(on,`RPC '${e}' ${d} sending request:`,l),p.send(i,"POST",T,r,15)}))}T_(e,i,r){const l=Om(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=_E(),g=yE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const T=u.join("");he(on,`Creating RPC '${e}' stream ${l}: ${T}`,y);const A=d.createWebChannel(T,y);this.I_(A);let R=!1,j=!1;const $=new WR({Yo:K=>{j?he(on,`Not sending because RPC '${e}' stream ${l} is closed:`,K):(R||(he(on,`Opening RPC '${e}' stream ${l} transport.`),A.open(),R=!0),he(on,`RPC '${e}' stream ${l} sending:`,K),A.send(K))},Zo:()=>A.close()}),te=(K,ue,G)=>{K.listen(ue,(Y=>{try{G(Y)}catch(le){setTimeout((()=>{throw le}),0)}}))};return te(A,xl.EventType.OPEN,(()=>{j||(he(on,`RPC '${e}' stream ${l} transport opened.`),$.o_())})),te(A,xl.EventType.CLOSE,(()=>{j||(j=!0,he(on,`RPC '${e}' stream ${l} transport closed`),$.a_(),this.E_(A))})),te(A,xl.EventType.ERROR,(K=>{j||(j=!0,oo(on,`RPC '${e}' stream ${l} transport errored. Name:`,K.name,"Message:",K.message),$.a_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),te(A,xl.EventType.MESSAGE,(K=>{if(!j){const ue=K.data[0];et(!!ue,16349);const G=ue,Y=G?.error||G[0]?.error;if(Y){he(on,`RPC '${e}' stream ${l} received error:`,Y);const le=Y.status;let ve=(function(w){const I=Lt[w];if(I!==void 0)return WE(I)})(le),pe=Y.message;ve===void 0&&(ve=J.INTERNAL,pe="Unknown error status: "+le+" with message "+Y.message),j=!0,$.a_(new oe(ve,pe)),A.close()}else he(on,`RPC '${e}' stream ${l} received:`,ue),$.u_(ue)}})),te(g,pE.STAT_EVENT,(K=>{K.stat===vm.PROXY?he(on,`RPC '${e}' stream ${l} detected buffering proxy`):K.stat===vm.NOPROXY&&he(on,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function om(){return typeof document<"u"?document:null}function Mh(s){return new sR(s,!0)}class mb{constructor(e,i,r=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const c0="PersistentStream";class gb{constructor(e,i,r,l,u,d,g,y){this.Mi=e,this.S_=r,this.b_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mb(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{e((()=>{const l=new oe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(c0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(he(c0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tx extends gb{constructor(e,i,r,l,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=oR(this.serializer,e),r=(function(u){if(!("targetChange"in u))return xe.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?ji(d.readTime):xe.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=Nm(this.serializer),i.addTarget=(function(u,d){let g;const y=d.target;if(g=Am(y)?{documents:cR(u,y)}:{query:ab(u,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=nb(u,d.resumeToken);const p=xm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(xe.min())>0){g.readTime=ch(u,d.snapshotVersion.toTimestamp());const p=xm(u,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const r=dR(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=Nm(this.serializer),i.removeTarget=e,this.q_(i)}}class nx extends gb{constructor(e,i,r,l,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=uR(e.writeResults,e.commitTime),r=ji(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=Nm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>lR(this.serializer,r)))};this.q_(i)}}class ix{}class sx extends ix{constructor(e,i,r,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,Im(i,r),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}Ho(e,i,r,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,Im(i,r),l,d,g,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new oe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):he("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class ax{constructor(e,i,r,l,u){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{oa(this)&&(he(ia,"Restarting streams for network reachability change."),await(async function(y){const p=Re(y);p.Ea.add(4),await tu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await kh(p)})(this))}))})),this.Ra=new rx(r,l)}}async function kh(s){if(oa(s))for(const e of s.da)await e(!0)}async function tu(s){for(const e of s.da)await e(!1)}function pb(s,e){const i=Re(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),fg(i)?hg(i):Eo(i).O_()&&cg(i,e))}function ug(s,e){const i=Re(s),r=Eo(i);i.Ia.delete(e),r.O_()&&yb(i,e),i.Ia.size===0&&(r.O_()?r.L_():oa(i)&&i.Ra.set("Unknown"))}function cg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Eo(s).Y_(e)}function yb(s,e){s.Va.Ue(e),Eo(s).Z_(e)}function hg(s){s.Va=new eR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Eo(s).start(),s.Ra.ua()}function fg(s){return oa(s)&&!Eo(s).x_()&&s.Ia.size>0}function oa(s){return Re(s).Ea.size===0}function _b(s){s.Va=void 0}async function ox(s){s.Ra.set("Online")}async function lx(s){s.Ia.forEach(((e,i)=>{cg(s,e)}))}async function ux(s,e){_b(s),fg(s)?(s.Ra.ha(e),hg(s)):s.Ra.set("Unknown")}async function cx(s,e,i){if(s.Ra.set("Online"),e instanceof tb&&e.state===2&&e.cause)try{await(async function(l,u){const d=u.cause;for(const g of u.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(s,e)}catch(r){he(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fh(s,r)}else if(e instanceof $c?s.Va.Ze(e):e instanceof eb?s.Va.st(e):s.Va.tt(e),!i.isEqual(xe.min()))try{const r=await db(s.localStore);i.compareTo(r)>=0&&await(function(u,d){const g=u.Va.Tt(d);return g.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(p);T&&u.Ia.set(p,T.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,p)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(sn.EMPTY_BYTE_STRING,T.snapshotVersion)),yb(u,y);const A=new rr(T.target,y,p,T.sequenceNumber);cg(u,A)})),u.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){he(ia,"Failed to raise snapshot:",r),await fh(s,r)}}async function fh(s,e,i){if(!_o(e))throw e;s.Ea.add(1),await tu(s),s.Ra.set("Offline"),i||(i=()=>db(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await kh(s)}))}function vb(s,e){return e().catch((i=>fh(s,i,e)))}async function Ph(s){const e=Re(s),i=gr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;hx(e);)try{const l=await QR(e.localStore,r);if(l===null){e.Ta.length===0&&i.L_();break}r=l.batchId,fx(e,l)}catch(l){await fh(e,l)}Eb(e)&&bb(e)}function hx(s){return oa(s)&&s.Ta.length<10}function fx(s,e){s.Ta.push(e);const i=gr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function Eb(s){return oa(s)&&!gr(s).x_()&&s.Ta.length>0}function bb(s){gr(s).start()}async function dx(s){gr(s).ra()}async function mx(s){const e=gr(s);for(const i of s.Ta)e.ea(i.mutations)}async function gx(s,e,i){const r=s.Ta.shift(),l=ng.from(r,e,i);await vb(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ph(s)}async function px(s,e){e&&gr(s).X_&&await(async function(r,l){if((function(d){return Z2(d)&&d!==J.ABORTED})(l.code)){const u=r.Ta.shift();gr(r).B_(),await vb(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Ph(r)}})(s,e),Eb(s)&&bb(s)}async function h0(s,e){const i=Re(s);i.asyncQueue.verifyOperationInProgress(),he(ia,"RemoteStore received new credentials");const r=oa(i);i.Ea.add(3),await tu(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await kh(i)}async function yx(s,e){const i=Re(s);e?(i.Ea.delete(2),await kh(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function Eo(s){return s.ma||(s.ma=(function(i,r,l){const u=Re(i);return u.sa(),new tx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:ox.bind(null,s),t_:lx.bind(null,s),r_:ux.bind(null,s),H_:cx.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),fg(s)?hg(s):s.Ra.set("Unknown")):(await s.ma.stop(),_b(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(i,r,l){const u=Re(i);return u.sa(),new nx(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:dx.bind(null,s),r_:px.bind(null,s),ta:mx.bind(null,s),na:gx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ph(s)):(await s.fa.stop(),s.Ta.length>0&&(he(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class dg{constructor(e,i,r,l,u){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=u,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,l,u){const d=Date.now()+r,g=new dg(e,i,d,l,u);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(s,e){if(fs("AsyncQueue",`${e}: ${s}`),_o(s))return new oe(J.UNAVAILABLE,`${e}: ${s}`);throw s}class eo{static emptySet(e){return new eo(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||_e.comparator(i.key,r.key):(i,r)=>_e.comparator(i.key,r.key),this.keyedMap=Il(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof eo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,u=r.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}class f0{constructor(){this.ga=new vt(_e.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class fo{constructor(e,i,r,l,u,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,r,l,u){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new fo(e,i,eo.emptySet(i),d,r,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class _x{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vx{constructor(){this.queries=d0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Re(i),u=l.queries;l.queries=d0(),u.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function d0(){return new aa((s=>BE(s)),Ch)}async function Tb(s,e){const i=Re(s);let r=3;const l=e.query;let u=i.queries.get(l);u?!u.ba()&&e.Da()&&(r=2):(u=new _x,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await i.onListen(l,!0);break;case 1:u.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=mg(d,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,u),u.Sa.push(e),e.va(i.onlineState),u.wa&&e.Fa(u.wa)&&gg(i)}async function Sb(s,e){const i=Re(s),r=e.query;let l=3;const u=i.queries.get(r);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Ex(s,e){const i=Re(s);let r=!1;for(const l of e){const u=l.query,d=i.queries.get(u);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&gg(i)}function bx(s,e,i){const r=Re(s),l=r.queries.get(e);if(l)for(const u of l.Sa)u.onError(i);r.queries.delete(e)}function gg(s){s.Ca.forEach((e=>{e.next()}))}var Vm,m0;(m0=Vm||(Vm={})).Ma="default",m0.Cache="cache";class Ab{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Vm.Cache}}class wb{constructor(e){this.key=e}}class Rb{constructor(e){this.key=e}}class Tx{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=qE(e),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new f0,l=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,p=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,A)=>{const R=l.get(T),j=Nh(this.query,A)?A:null,$=!!R&&this.mutatedKeys.has(R.key),te=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let K=!1;R&&j?R.data.isEqual(j.data)?$!==te&&(r.track({type:3,doc:j}),K=!0):this.su(R,j)||(r.track({type:2,doc:j}),K=!0,(y&&this.eu(j,y)>0||p&&this.eu(j,p)<0)&&(g=!0)):!R&&j?(r.track({type:0,doc:j}),K=!0):R&&!j&&(r.track({type:1,doc:R}),K=!0,(y||p)&&(g=!0)),K&&(j?(d=d.add(j),u=te?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:u}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(j,$){const te=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:K})}};return te(j)-te($)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,p=y!==this.Za;return this.Za=y,d.length!==0||p?{snapshot:new fo(this.query,e.tu,u,d,e.mutatedKeys,y===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new Rb(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new wb(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=He();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const pg="SyncEngine";class Sx{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class Ax{constructor(e){this.key=e,this.hu=!1}}class wx{constructor(e,i,r,l,u,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new aa((g=>BE(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new vt(_e.comparator),this.Au=new Map,this.Ru=new rg,this.Vu={},this.mu=new Map,this.fu=ho.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rx(s,e,i=!0){const r=Ob(s);let l;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await xb(r,e,i,!0),l}async function xx(s,e){const i=Ob(s);await xb(i,e,!0,!1)}async function xb(s,e,i,r){const l=await KR(s.localStore,Pi(e)),u=l.targetId,d=s.sharedClientState.addLocalQueryTarget(u,i);let g;return r&&(g=await Ix(s,e,u,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&pb(s.remoteStore,l),g}async function Ix(s,e,i,r,l){s.pu=(A,R,j)=>(async function(te,K,ue,G){let Y=K.view.ru(ue);Y.Cs&&(Y=await a0(te.localStore,K.query,!1).then((({documents:x})=>K.view.ru(x,Y))));const le=G&&G.targetChanges.get(K.targetId),ve=G&&G.targetMismatches.get(K.targetId)!=null,pe=K.view.applyChanges(Y,te.isPrimaryClient,le,ve);return p0(te,K.targetId,pe.au),pe.snapshot})(s,A,R,j);const u=await a0(s.localStore,e,!0),d=new Tx(e,u.Qs),g=d.ru(u.documents),y=eu.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),p=d.applyChanges(g,s.isPrimaryClient,y);p0(s,i,p.au);const T=new Sx(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),p.snapshot}async function Cx(s,e,i){const r=Re(s),l=r.Tu.get(e),u=r.Iu.get(l.targetId);if(u.length>1)return r.Iu.set(l.targetId,u.filter((d=>!Ch(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Dm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&ug(r.remoteStore,l.targetId),Mm(r,l.targetId)})).catch(yo)):(Mm(r,l.targetId),await Dm(r.localStore,l.targetId,!0))}async function Nx(s,e){const i=Re(s),r=i.Tu.get(e),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),ug(i.remoteStore,r.targetId))}async function Dx(s,e,i){const r=Lx(s);try{const l=await(function(d,g){const y=Re(d),p=gt.now(),T=g.reduce(((j,$)=>j.add($.key)),He());let A,R;return y.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let $=ds(),te=He();return y.Ns.getEntries(j,T).next((K=>{$=K,$.forEach(((ue,G)=>{G.isValidDocument()||(te=te.add(ue))}))})).next((()=>y.localDocuments.getOverlayedDocuments(j,$))).next((K=>{A=K;const ue=[];for(const G of g){const Y=G2(G,A.get(G.key).overlayedDocument);Y!=null&&ue.push(new _r(G.key,Y,OE(Y.value.mapValue),Xn.exists(!0)))}return y.mutationQueue.addMutationBatch(j,p,ue,g)})).next((K=>{R=K;const ue=K.applyToLocalDocumentSet(A,te);return y.documentOverlayCache.saveOverlays(j,K.batchId,ue)}))})).then((()=>({batchId:R.batchId,changes:FE(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let p=d.Vu[d.currentUser.toKey()];p||(p=new vt(qe)),p=p.insert(g,y),d.Vu[d.currentUser.toKey()]=p})(r,l.batchId,i),await nu(r,l.changes),await Ph(r.remoteStore)}catch(l){const u=mg(l,"Failed to persist write");i.reject(u)}}async function Ib(s,e){const i=Re(s);try{const r=await FR(i.localStore,e);e.targetChanges.forEach(((l,u)=>{const d=i.Au.get(u);d&&(et(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?et(d.hu,14607):l.removedDocuments.size>0&&(et(d.hu,42227),d.hu=!1))})),await nu(i,r,e)}catch(r){await yo(r)}}function g0(s,e,i){const r=Re(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((u,d)=>{const g=d.view.va(e);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Re(d);y.onlineState=g;let p=!1;y.queries.forEach(((T,A)=>{for(const R of A.Sa)R.va(g)&&(p=!0)})),p&&gg(y)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ox(s,e,i){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",i);const l=r.Au.get(e),u=l&&l.key;if(u){let d=new vt(_e.comparator);d=d.insert(u,un.newNoDocument(u,xe.min()));const g=He().add(u),y=new Vh(xe.min(),new Map,new vt(qe),d,g);await Ib(r,y),r.du=r.du.remove(u),r.Au.delete(e),yg(r)}else await Dm(r.localStore,e,!1).then((()=>Mm(r,e,i))).catch(yo)}async function Vx(s,e){const i=Re(s),r=e.batch.batchId;try{const l=await HR(i.localStore,e);Nb(i,r,null),Cb(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await nu(i,l)}catch(l){await yo(l)}}async function Mx(s,e,i){const r=Re(s);try{const l=await(function(d,g){const y=Re(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return y.mutationQueue.lookupMutationBatch(p,g).next((A=>(et(A!==null,37113),T=A.keys(),y.mutationQueue.removeMutationBatch(p,A)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>y.localDocuments.getDocuments(p,T)))}))})(r.localStore,e);Nb(r,e,i),Cb(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await nu(r,l)}catch(l){await yo(l)}}function Cb(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Nb(s,e,i){const r=Re(s);let l=r.Vu[r.currentUser.toKey()];if(l){const u=l.get(e);u&&(i?u.reject(i):u.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function Mm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Db(s,r)}))}function Db(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(ug(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),yg(s))}function p0(s,e,i){for(const r of i)r instanceof wb?(s.Ru.addReference(r.key,e),kx(s,r)):r instanceof Rb?(he(pg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Db(s,r.key)):Ae(19791,{wu:r})}function kx(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(he(pg,"New document in limbo: "+i),s.Eu.add(r),yg(s))}function yg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new _e(ft.fromString(e)),r=s.fu.next();s.Au.set(r,new Ax(i)),s.du=s.du.insert(i,r),pb(s.remoteStore,new rr(Pi(Wm(i.path)),r,"TargetPurposeLimboResolution",Rh.ce))}}async function nu(s,e,i){const r=Re(s),l=[],u=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,e,i).then((p=>{if((p||i)&&r.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){l.push(p);const T=og.As(y.targetId,p);u.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,p){const T=Re(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ee.forEach(p,(R=>ee.forEach(R.Es,(j=>T.persistence.referenceDelegate.addReference(A,R.targetId,j))).next((()=>ee.forEach(R.ds,(j=>T.persistence.referenceDelegate.removeReference(A,R.targetId,j)))))))))}catch(A){if(!_o(A))throw A;he(lg,"Failed to update sequence numbers: "+A)}for(const A of p){const R=A.targetId;if(!A.fromCache){const j=T.Ms.get(R),$=j.snapshotVersion,te=j.withLastLimboFreeSnapshotVersion($);T.Ms=T.Ms.insert(R,te)}}})(r.localStore,u))}async function Px(s,e){const i=Re(s);if(!i.currentUser.isEqual(e)){he(pg,"User change. New user:",e.toKey());const r=await fb(i.localStore,e);i.currentUser=e,(function(u,d){u.mu.forEach((g=>{g.forEach((y=>{y.reject(new oe(J.CANCELLED,d))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await nu(i,r.Ls)}}function jx(s,e){const i=Re(s),r=i.Au.get(e);if(r&&r.hu)return He().add(r.key);{let l=He();const u=i.Iu.get(e);if(!u)return l;for(const d of u){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function Ob(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ib.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ox.bind(null,e),e.Pu.H_=Ex.bind(null,e.eventManager),e.Pu.yu=bx.bind(null,e.eventManager),e}function Lx(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Mx.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return qR(this.persistence,new UR,e.initialUser,this.serializer)}Cu(e){return new hb(ag.mi,this.serializer)}Du(e){return new XR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class Ux extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new AR(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new hb((r=>hh.mi(r,i)),this.serializer)}}class km{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>g0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,this.syncEngine),await yx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vx})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),r=(function(u){return new ex(u)})(e.databaseInfo);return(function(u,d,g,y){return new sx(u,d,g,y)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,l,u,d,g){return new ax(r,l,u,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>g0(this.syncEngine,i,0)),(function(){return u0.v()?new u0:new $R})())}createSyncEngine(e,i){return(function(l,u,d,g,y,p,T){const A=new wx(l,u,d,g,y,p);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Re(i);he(ia,"RemoteStore shutting down."),r.Ea.add(5),await tu(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}km.provider={build:()=>new km};class Vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const pr="FirestoreClient";class zx{constructor(e,i,r,l,u){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=ln.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async d=>{he(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(he(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=mg(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function lm(s,e){s.asyncQueue.verifyOperationInProgress(),he(pr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await fb(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function y0(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Bx(s);he(pr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>h0(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>h0(e.remoteStore,l))),s._onlineComponents=e}async function Bx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(pr,"Using user provided OfflineComponentProvider");try{await lm(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await lm(s,new dh)}}else he(pr,"Using default OfflineComponentProvider"),await lm(s,new Ux(void 0));return s._offlineComponents}async function _g(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(pr,"Using user provided OnlineComponentProvider"),await y0(s,s._uninitializedComponentsProvider._online)):(he(pr,"Using default OnlineComponentProvider"),await y0(s,new km))),s._onlineComponents}function qx(s){return _g(s).then((e=>e.syncEngine))}function Hx(s){return _g(s).then((e=>e.datastore))}async function Mb(s){const e=await _g(s),i=e.eventManager;return i.onListen=Rx.bind(null,e.syncEngine),i.onUnlisten=Cx.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=xx.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Nx.bind(null,e.syncEngine),i}function Fx(s,e,i={}){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const T=new Vb({next:R=>{T.Nu(),d.enqueueAndForget((()=>Sb(u,A)));const j=R.docs.has(g);!j&&R.fromCache?p.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&R.fromCache&&y&&y.source==="server"?p.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(R)},error:R=>p.reject(R)}),A=new Ab(Wm(g.path),T,{includeMetadataChanges:!0,qa:!0});return Tb(u,A)})(await Mb(s),s.asyncQueue,e,i,r))),r.promise}function Gx(s,e,i={}){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>(function(u,d,g,y,p){const T=new Vb({next:R=>{T.Nu(),d.enqueueAndForget((()=>Sb(u,A))),R.fromCache&&y.source==="server"?p.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(R)},error:R=>p.reject(R)}),A=new Ab(g,T,{includeMetadataChanges:!0,qa:!0});return Tb(u,A)})(await Mb(s),s.asyncQueue,e,i,r))),r.promise}function Qx(s,e,i){const r=new ki;return s.asyncQueue.enqueueAndForget((async()=>{try{const l=await Hx(s);r.resolve((async function(d,g,y){const p=Re(d),{request:T,gt:A,parent:R}=hR(p.serializer,D2(g),y);p.connection.$o||delete T.parent;const j=(await p.Ho("RunAggregationQuery",p.serializer.databaseId,R,T,1)).filter((te=>!!te.result));et(j.length===1,64727);const $=j[0].result?.aggregateFields;return Object.keys($).reduce(((te,K)=>(te[A[K]]=$[K],te)),{})})(l,e,i))}catch(l){r.reject(l)}})),r.promise}function kb(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const _0=new Map;const Pb="firestore.googleapis.com",v0=!0;class E0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pb,this.ssl=v0}else this.host=e.host,this.ssl=e.ssl??v0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TR)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,i,r,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Yw;switch(r.type){case"firstParty":return new Jw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=_0.get(i);r&&(he("ComponentProvider","Removing Datastore"),_0.delete(i),r.terminate())})(this),Promise.resolve()}}function Kx(s,e,i,r={}){s=$n(s,jh);const l=mo(e),u=s._getSettings(),d={...u,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;l&&(rE(`https://${g}`),aE("Firestore",!0)),u.host!==Pb&&u.host!==g&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:g,ssl:l,emulatorOptions:r};if(!ea(y,d)&&(s._setSettings(y),r.mockUserToken)){let p,T;if(typeof r.mockUserToken=="string")p=r.mockUserToken,T=ln.MOCK_USER;else{p=v1(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(A)}s._authCredentials=new Xw(new EE(p,T))}}class la{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new la(this.firestore,e,this._query)}}class Ct{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(Jl(i,Ct._jsonSchema))return new Ct(e,r||null,new _e(ft.fromString(i.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:zt("string",Ct._jsonSchemaVersion),referencePath:zt("string")};class cr extends la{constructor(e,i,r){super(e,i,Wm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new _e(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function Jr(s,e,...i){if(s=Ft(s),bE("collection","path",e),s instanceof jh){const r=ft.fromString(e,...i);return Vv(r),new cr(s,null,r)}{if(!(s instanceof Ct||s instanceof cr))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...i));return Vv(r),new cr(s.firestore,null,r)}}function ms(s,e,...i){if(s=Ft(s),arguments.length===1&&(e=Km.newId()),bE("doc","path",e),s instanceof jh){const r=ft.fromString(e,...i);return Ov(r),new Ct(s,null,new _e(r))}{if(!(s instanceof Ct||s instanceof cr))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ft.fromString(e,...i));return Ov(r),new Ct(s.firestore,s instanceof cr?s.converter:null,new _e(r))}}const b0="AsyncQueue";class T0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mb(this,"async_queue_retry"),this._c=()=>{const r=om();r&&he(b0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=om();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=om();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ki;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!_o(e))throw e;he(b0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",S0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=dg.createAndSchedule(this,e,i,r,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:S0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function S0(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class vr extends jh{constructor(e,i,r,l){super(e,i,r,l),this.type="firestore",this._queue=new T0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new T0(e),this._firestoreClient=void 0,await e}}}function Yx(s,e){const i=typeof s=="object"?s:cE(),r=typeof s=="string"?s:rh,l=Gm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const u=y1("firestore");u&&Kx(l,...u)}return l}function Lh(s){if(s._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Xx(s),s._firestoreClient}function Xx(s){const e=s._freezeSettings(),i=(function(l,u,d,g){return new p2(l,u,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,kb(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new zx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(s._componentsProvider))}class $x{constructor(e="count",i){this._internalFieldPath=i,this.type="AggregateField",this.aggregateType=e}}class Zx{constructor(e,i,r){this._userDataWriter=i,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(sn.fromBase64String(e))}catch(i){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Yn(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:zt("string",Yn._jsonSchemaVersion),bytes:zt("string")};class Uh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vg{constructor(e){this._methodName=e}}class Li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:zt("string",Li._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Ui(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:zt("string",Ui._jsonSchemaVersion),vectorValues:zt("object")};const Jx=/^__.*__$/;class Wx{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}class jb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new _r(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Lb(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Eg{constructor(e,i,r,l,u,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Eg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Lb(this.Ac)&&Jx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class eI{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||Mh(e)}Cc(e,i,r,l=!1){return new Eg({Ac:e,methodName:i,Dc:r,path:nn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zh(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new eI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Ub(s,e,i,r,l,u={}){const d=s.Cc(u.merge||u.mergeFields?2:0,e,i,l);bg("Data must be an object, but it was:",d,r);const g=zb(r,d);let y,p;if(u.merge)y=new Vn(d.fieldMask),p=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const R=Pm(e,A,i);if(!d.contains(R))throw new oe(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);qb(T,R)||T.push(R)}y=new Vn(T),p=d.fieldTransforms.filter((A=>y.covers(A.field)))}else y=null,p=d.fieldTransforms;return new Wx(new Tn(g),y,p)}class Bh extends vg{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}function tI(s,e,i,r){const l=s.Cc(1,e,i);bg("Data must be an object, but it was:",l,r);const u=[],d=Tn.empty();yr(r,((y,p)=>{const T=Tg(e,y,i);p=Ft(p);const A=l.yc(T);if(p instanceof Bh)u.push(T);else{const R=iu(p,A);R!=null&&(u.push(T),d.set(T,R))}}));const g=new Vn(u);return new jb(d,g,l.fieldTransforms)}function nI(s,e,i,r,l,u){const d=s.Cc(1,e,i),g=[Pm(e,r,i)],y=[l];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)g.push(Pm(e,u[R])),y.push(u[R+1]);const p=[],T=Tn.empty();for(let R=g.length-1;R>=0;--R)if(!qb(p,g[R])){const j=g[R];let $=y[R];$=Ft($);const te=d.yc(j);if($ instanceof Bh)p.push(j);else{const K=iu($,te);K!=null&&(p.push(j),T.set(j,K))}}const A=new Vn(p);return new jb(T,A,d.fieldTransforms)}function iI(s,e,i,r=!1){return iu(i,s.Cc(r?4:3,e))}function iu(s,e){if(Bb(s=Ft(s)))return bg("Unsupported field value:",e,s),zb(s,e);if(s instanceof vg)return(function(r,l){if(!Lb(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const u=[];let d=0;for(const g of r){let y=iu(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),d++}return{arrayValue:{values:u}}})(s,e)}return(function(r,l){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return U2(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=gt.fromDate(r);return{timestampValue:ch(l.serializer,u)}}if(r instanceof gt){const u=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(l.serializer,u)}}if(r instanceof Li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yn)return{bytesValue:nb(l.serializer,r._byteString)};if(r instanceof Ct){const u=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(u))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:sg(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ui)return(function(d,g){return{mapValue:{fields:{[NE]:{stringValue:DE},[ah]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw g.Sc("VectorValues must only contain numeric values.");return eg(g.serializer,p)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${wh(r)}`)})(s,e)}function zb(s,e){const i={};return AE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(s,((r,l)=>{const u=iu(l,e.mc(r));u!=null&&(i[r]=u)})),{mapValue:{fields:i}}}function Bb(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof Li||s instanceof Yn||s instanceof Ct||s instanceof vg||s instanceof Ui)}function bg(s,e,i){if(!Bb(i)||!TE(i)){const r=wh(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Pm(s,e,i){if((e=Ft(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return Tg(s,e);throw mh("Field path arguments must be of type string or ",s,!1,void 0,i)}const sI=new RegExp("[~\\*/\\[\\]]");function Tg(s,e,i){if(e.search(sI)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Uh(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mh(s,e,i,r,l){const u=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(u||d)&&(y+=" (found",u&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new oe(J.INVALID_ARGUMENT,g+s+y)}function qb(s,e){return s.some((i=>i.isEqual(e)))}class Hb{constructor(e,i,r,l,u){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(qh("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class rI extends Hb{data(){return super.data()}}function qh(s,e){return typeof e=="string"?Tg(s,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function aI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sg{}class Fb extends Sg{}function Js(s,e,...i){let r=[];e instanceof Sg&&r.push(e),r=r.concat(i),(function(u){const d=u.filter((y=>y instanceof Ag)).length,g=u.filter((y=>y instanceof Hh)).length;if(d>1||d>0&&g>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Hh extends Fb{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Hh(e,i,r)}_apply(e){const i=this._parse(e);return Gb(e._query,i),new la(e.firestore,e.converter,wm(e._query,i))}_parse(e){const i=zh(e.firestore);return(function(u,d,g,y,p,T,A){let R;if(p.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){w0(A,T);const $=[];for(const te of A)$.push(A0(y,u,te));R={arrayValue:{values:$}}}else R=A0(y,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||w0(A,T),R=iI(g,d,A,T==="in"||T==="not-in");return Ut.create(p,T,R)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Ws(s,e,i){const r=e,l=qh("where",s);return Hh._create(l,r,i)}class Ag extends Sg{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Ag(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:ci.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(l,u){let d=l;const g=u.getFlattenedFilters();for(const y of g)Gb(d,y),d=wm(d,y)})(e._query,i),new la(e.firestore,e.converter,wm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wg extends Fb{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new wg(e,i)}_apply(e){const i=(function(l,u,d){if(l.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(u,d)})(e._query,this._field,this._direction);return new la(e.firestore,e.converter,(function(l,u){const d=l.explicitOrderBy.concat([u]);return new vo(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,i))}}function oI(s,e="asc"){const i=e,r=qh("orderBy",s);return wg._create(r,i)}function A0(s,e,i){if(typeof(i=Ft(i))=="string"){if(i==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UE(e)&&i.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(ft.fromString(i));if(!_e.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bv(s,new _e(r))}if(i instanceof Ct)return Bv(s,i._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wh(i)}.`)}function w0(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Gb(s,e){const i=(function(l,u){for(const d of l)for(const g of d.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class lI{convertValue(e,i="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return yr(e,((l,u)=>{r[l]=this.convertValue(u,i)})),r}convertVectorValue(e){const i=e.fields?.[ah].arrayValue?.values?.map((r=>xt(r.doubleValue)));return new Ui(i)}convertGeoPoint(e){return new Li(xt(e.latitude),xt(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Ih(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const i=fr(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ft.fromString(e);et(ub(r),9688,{name:e});const l=new ql(r.get(1),r.get(3)),u=new _e(r.popFirst(5));return l.isEqual(i)||fs(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}function Qb(s,e,i){let r;return r=s?s.toFirestore(e):e,r}function uI(){return new $x("count")}class Nl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wr extends Hb{constructor(e,i,r,l,u,d){super(e,i,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(qh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:zt("string",Wr._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Zc extends Wr{data(e={}){return super.data(e)}}class to{constructor(e,i,r,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Nl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Zc(this._firestore,this._userDataWriter,r.key,r,new Nl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const y=new Zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:cI(g.type),doc:y,oldIndex:p,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function R0(s){s=$n(s,Ct);const e=$n(s.firestore,vr);return Fx(Lh(e),s._key).then((i=>fI(e,s,i)))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:zt("string",to._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class Rg extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,i)}}function no(s){s=$n(s,la);const e=$n(s.firestore,vr),i=Lh(e),r=new Rg(e);return aI(s._query),Gx(i,s._query).then((l=>new to(e,r,s,l)))}function jm(s,e,i){s=$n(s,Ct);const r=$n(s.firestore,vr),l=Qb(s.converter,e);return Fh(r,[Ub(zh(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Xn.none())])}function Kb(s,e,i,...r){s=$n(s,Ct);const l=$n(s.firestore,vr),u=zh(l);let d;return d=typeof(e=Ft(e))=="string"||e instanceof Uh?nI(u,"updateDoc",s._key,e,i,r):tI(u,"updateDoc",s._key,e),Fh(l,[d.toMutation(s._key,Xn.exists(!0))])}function hI(s){return Fh($n(s.firestore,vr),[new tg(s._key,Xn.none())])}function Yb(s,e){const i=$n(s.firestore,vr),r=ms(s),l=Qb(s.converter,e);return Fh(i,[Ub(zh(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then((()=>r))}function Fh(s,e){return(function(r,l){const u=new ki;return r.asyncQueue.enqueueAndForget((async()=>Dx(await qx(r),l,u))),u.promise})(Lh(s),e)}function fI(s,e,i){const r=i.docs.get(e._key),l=new Rg(s);return new Wr(s,l,e._key,r,new Nl(i.hasPendingWrites,i.fromCache),e.converter)}function um(s){return dI(s,{count:uI()})}function dI(s,e){const i=$n(s.firestore,vr),r=Lh(i),l=m2(e,((u,d)=>new X2(d,u.aggregateType,u._internalFieldPath)));return Qx(r,s._query,l).then((u=>(function(g,y,p){const T=new Rg(g);return new Zx(y,T,p)})(i,s,u)))}(function(e,i=!0){(function(l){po=l})(go),ao(new ta("firestore",((r,{instanceIdentifier:l,options:u})=>{const d=r.getProvider("app").getImmediate(),g=new vr(new $w(r.getProvider("auth-internal")),new Ww(d,r.getProvider("app-check-internal")),(function(p,T){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ql(p.options.projectId,T)})(d,l),d);return u={useFetchStreams:i,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),lr(Iv,Cv,e),lr(Iv,Cv,"esm2020")})();function Xb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mI=Xb,$b=new $l("auth","Firebase",Xb());const gh=new Hm("@firebase/auth");function gI(s,...e){gh.logLevel<=Be.WARN&&gh.warn(`Auth (${go}): ${s}`,...e)}function Jc(s,...e){gh.logLevel<=Be.ERROR&&gh.error(`Auth (${go}): ${s}`,...e)}function hi(s,...e){throw xg(s,...e)}function zi(s,...e){return xg(s,...e)}function Zb(s,e,i){const r={...mI(),[e]:i};return new $l("auth","Firebase",r).create(e,{appName:s.name})}function cs(s){return Zb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xg(s,...e){if(typeof s!="string"){const i=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return $b.create(s,...e)}function Se(s,e,...i){if(!s)throw xg(e,...i)}function ls(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Jc(e),new Error(e)}function gs(s,e){s||ls(e)}function Lm(){return typeof self<"u"&&self.location?.href||""}function pI(){return x0()==="http:"||x0()==="https:"}function x0(){return typeof self<"u"&&self.location?.protocol||null}function yI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pI()||w1()||"connection"in navigator)?navigator.onLine:!0}function _I(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class su{constructor(e,i){this.shortDelay=e,this.longDelay=i,gs(i>e,"Short delay should be less than long delay!"),this.isMobile=T1()||R1()}get(){return yI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ig(s,e){gs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Jb{static initialize(e,i,r){this.fetchImpl=e,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const EI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bI=new su(3e4,6e4);function ys(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function _s(s,e,i,r,l={}){return Wb(s,l,async()=>{let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});const g=Zl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:y,...u};return A1()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&mo(s.emulatorConfig.host)&&(p.credentials="include"),Jb.fetch()(await eT(s,s.config.apiHost,i,g),p)})}async function Wb(s,e,i){s._canInitEmulator=!1;const r={...vI,...e};try{const l=new SI(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw qc(s,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const g=u.ok?d.errorMessage:d.error.message,[y,p]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw qc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw qc(s,"user-disabled",d);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Zb(s,T,p);hi(s,T)}}catch(l){if(l instanceof ps)throw l;hi(s,"network-request-failed",{message:String(l)})}}async function ru(s,e,i,r,l={}){const u=await _s(s,e,i,r,l);return"mfaPendingCredential"in u&&hi(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function eT(s,e,i,r){const l=`${e}${i}?${r}`,u=s,d=u.config.emulator?Ig(s.config,l):`${s.config.apiScheme}://${l}`;return EI.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function TI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(zi(this.auth,"network-request-failed")),bI.get())})}}function qc(s,e,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=zi(s,e,r);return l.customData._tokenResponse=i,l}function I0(s){return s!==void 0&&s.enterprise!==void 0}class AI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return TI(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wI(s,e){return _s(s,"GET","/v2/recaptchaConfig",ys(s,e))}async function RI(s,e){return _s(s,"POST","/v1/accounts:delete",e)}async function ph(s,e){return _s(s,"POST","/v1/accounts:lookup",e)}function Pl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xI(s,e=!1){const i=Ft(s),r=await i.getIdToken(e),l=Cg(r);Se(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u?.sign_in_provider;return{claims:l,token:r,authTime:Pl(cm(l.auth_time)),issuedAtTime:Pl(cm(l.iat)),expirationTime:Pl(cm(l.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function cm(s){return Number(s)*1e3}function Cg(s){const[e,i,r]=s.split(".");if(e===void 0||i===void 0||r===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=tE(i);return l?JSON.parse(l):(Jc("Failed to decode base64 JWT payload"),null)}catch(l){return Jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function C0(s){const e=Cg(s);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Kl(s,e,i=!1){if(i)return e;try{return await e}catch(r){throw r instanceof ps&&II(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function II({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class CI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Um{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yh(s){const e=s.auth,i=await s.getIdToken(),r=await Kl(s,ph(e,{idToken:i}));Se(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?tT(l.providerUserInfo):[],d=DI(s.providerData,u),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,p=g?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Um(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function NI(s){const e=Ft(s);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DI(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function tT(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OI(s,e){const i=await Wb(s,{},async()=>{const r=Zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,d=await eT(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return s.emulatorConfig&&mo(s.emulatorConfig.host)&&(y.credentials="include"),Jb.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function VI(s,e){return _s(s,"POST","/v2/accounts:revokeToken",ys(s,e))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):C0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const i=C0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:r,refreshToken:l,expiresIn:u}=await OI(e,i);this.updateTokensAndExpiration(r,l,Number(u))}updateTokensAndExpiration(e,i,r){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,i){const{refreshToken:r,accessToken:l,expirationTime:u}=i,d=new io;return r&&(Se(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(Se(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),u&&(Se(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return ls("not implemented")}}function Zs(s,e){Se(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new CI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Um(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Kl(this,this.stsTokenManager.getToken(this.auth,e));return Se(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return xI(this,e)}reload(){return NI(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),i&&await yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Kl(this,RI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const r=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,p=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:R,isAnonymous:j,providerData:$,stsTokenManager:te}=i;Se(A&&te,e,"internal-error");const K=io.fromJSON(this.name,te);Se(typeof A=="string",e,"internal-error"),Zs(r,e.name),Zs(l,e.name),Se(typeof R=="boolean",e,"internal-error"),Se(typeof j=="boolean",e,"internal-error"),Zs(u,e.name),Zs(d,e.name),Zs(g,e.name),Zs(y,e.name),Zs(p,e.name),Zs(T,e.name);const ue=new ui({uid:A,auth:e,email:l,emailVerified:R,displayName:r,isAnonymous:j,photoURL:d,phoneNumber:u,tenantId:g,stsTokenManager:K,createdAt:p,lastLoginAt:T});return $&&Array.isArray($)&&(ue.providerData=$.map(G=>({...G}))),y&&(ue._redirectEventId=y),ue}static async _fromIdTokenResponse(e,i,r=!1){const l=new io;l.updateFromServerResponse(i);const u=new ui({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await yh(u),u}static async _fromGetAccountInfoResponse(e,i,r){const l=i.users[0];Se(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?tT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!u?.length,g=new io;g.updateFromIdToken(r);const y=new ui({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Um(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(y,p),y}}const N0=new Map;function us(s){gs(s instanceof Function,"Expected a class definition");let e=N0.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,N0.set(s,e),e)}class nT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}nT.type="NONE";const D0=nT;function Wc(s,e,i){return`firebase:${s}:${e}:${i}`}class so{constructor(e,i,r){this.persistence=e,this.auth=i,this.userKey=r;const{config:l,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Wc("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ph(this.auth,{idToken:e}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,r="authUser"){if(!i.length)return new so(us(D0),e,r);const l=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=l[0]||us(D0);const d=Wc(r,e.config.apiKey,e.name);let g=null;for(const p of i)try{const T=await p._get(d);if(T){let A;if(typeof T=="string"){const R=await ph(e,{idToken:T}).catch(()=>{});if(!R)break;A=await ui._fromGetAccountInfoResponse(e,R,T)}else A=ui._fromJSON(e,T);p!==u&&(g=A),u=p;break}}catch{}const y=l.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new so(u,e,r):(u=y[0],g&&await u._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==u)try{await p._remove(d)}catch{}})),new so(u,e,r))}}function O0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lT(e))return"Blackberry";if(uT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||rT(e))&&!e.includes("edge/"))return"Chrome";if(oT(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function iT(s=cn()){return/firefox\//i.test(s)}function sT(s=cn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rT(s=cn()){return/crios\//i.test(s)}function aT(s=cn()){return/iemobile/i.test(s)}function oT(s=cn()){return/android/i.test(s)}function lT(s=cn()){return/blackberry/i.test(s)}function uT(s=cn()){return/webos/i.test(s)}function Ng(s=cn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function MI(s=cn()){return Ng(s)&&!!window.navigator?.standalone}function kI(){return x1()&&document.documentMode===10}function cT(s=cn()){return Ng(s)||oT(s)||uT(s)||lT(s)||/windows phone/i.test(s)||aT(s)}function hT(s,e=[]){let i;switch(s){case"Browser":i=O0(cn());break;case"Worker":i=`${O0(cn())}-${s}`;break;default:i=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${go}/${r}`}class PI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const r=u=>new Promise((d,g)=>{try{const y=e(u);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const r of this.queue)await r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function jI(s,e={}){return _s(s,"GET","/v2/passwordPolicy",ys(s,e))}const LI=6;class UI{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??LI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=e.length>=r),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,i,r,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class zI{constructor(e,i,r,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new PI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$b,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ph(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_I()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(cs(this));const i=e?Ft(e):null;return i&&Se(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jI(this),i=new UI(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,i,r){return this.registerStateListener(this.authStateSubscription,e,i,r)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,r){return this.registerStateListener(this.idTokenSubscription,e,i,r)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await VI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const r=await this.getOrInitRedirectPersistenceManager(i);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&us(e)||this._popupRedirectResolver;Se(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,r,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(g,this,"internal-error"),g.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Er(s){return Ft(s)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=k1(i=>this.observer=i)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BI(s){Gh=s}function fT(s){return Gh.loadJS(s)}function qI(){return Gh.recaptchaEnterpriseScript}function HI(){return Gh.gapiScript}function FI(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class GI{constructor(){this.enterprise=new QI}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class QI{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const KI="recaptcha-enterprise",dT="NO_RECAPTCHA";class YI{constructor(e){this.type=KI,this.auth=Er(e)}async verify(e="verify",i=!1){async function r(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,g)=>{wI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const p=new AI(y);return u.tenantId==null?u._agentRecaptchaConfig=p:u._tenantRecaptchaConfigs[u.tenantId]=p,d(p.siteKey)}}).catch(y=>{g(y)})})}function l(u,d,g){const y=window.grecaptcha;I0(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(p=>{d(p)}).catch(()=>{d(dT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{r(this.auth).then(g=>{if(!i&&I0(window.grecaptcha))l(g,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=qI();y.length!==0&&(y+=g),fT(y).then(()=>{l(g,u,d)}).catch(p=>{d(p)})}}).catch(g=>{d(g)})})}}async function M0(s,e,i,r=!1,l=!1){const u=new YI(s);let d;if(l)d=dT;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const g={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const y=g.phoneEnrollmentInfo.phoneNumber,p=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const y=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return r?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function _h(s,e,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await M0(s,e,i,i==="getOobCode");return r(s,u)}else return r(s,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await M0(s,e,i,i==="getOobCode");return r(s,d)}else return Promise.reject(u)})}function XI(s,e){const i=Gm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(ea(u,e??{}))return l;hi(l,"already-initialized")}return i.initialize({options:e})}function $I(s,e){const i=e?.persistence||[],r=(Array.isArray(i)?i:[i]).map(us);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function ZI(s,e,i){const r=Er(s);Se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,u=mT(e),{host:d,port:g}=JI(e),y=g===null?"":`:${g}`,p={url:`${u}//${d}${y}/`},T=Object.freeze({host:d,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){Se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Se(ea(p,r.config.emulator)&&ea(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,mo(d)?(rE(`${u}//${d}${y}`),aE("Auth",!0)):WI()}function mT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function JI(s){const e=mT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const u=l[1];return{host:u,port:k0(r.substr(u.length+1))}}else{const[u,d]=r.split(":");return{host:u,port:k0(d)}}}function k0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function WI(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Dg{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,i){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}async function eC(s,e){return _s(s,"POST","/v1/accounts:signUp",e)}async function tC(s,e){return ru(s,"POST","/v1/accounts:signInWithPassword",ys(s,e))}async function gT(s,e){return _s(s,"POST","/v1/accounts:sendOobCode",ys(s,e))}async function nC(s,e){return gT(s,e)}async function iC(s,e){return gT(s,e)}async function sC(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",ys(s,e))}async function rC(s,e){return ru(s,"POST","/v1/accounts:signInWithEmailLink",ys(s,e))}class Yl extends Dg{constructor(e,i,r,l=null){super("password",r),this._email=e,this._password=i,this._tenantId=l}static _fromEmailAndPassword(e,i){return new Yl(e,i,"password")}static _fromEmailAndCode(e,i,r=null){return new Yl(e,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,i,"signInWithPassword",tC);case"emailLink":return sC(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _h(e,r,"signUpPassword",eC);case"emailLink":return rC(e,{idToken:i,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ro(s,e){return ru(s,"POST","/v1/accounts:signInWithIdp",ys(s,e))}const aC="http://localhost";class sa extends Dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):hi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...u}=i;if(!r||!l)return null;const d=new sa(r,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ro(e,i)}_linkToIdToken(e,i){const r=this.buildRequest();return r.idToken=i,ro(e,r)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ro(e,i)}buildRequest(){const e={requestUri:aC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Zl(i)}return e}}function oC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lC(s){const e=wl(Rl(s)).link,i=e?wl(Rl(e)).deep_link_id:null,r=wl(Rl(s)).deep_link_id;return(r?wl(Rl(r)).link:null)||r||i||e||s}class Og{constructor(e){const i=wl(Rl(e)),r=i.apiKey??null,l=i.oobCode??null,u=oC(i.mode??null);Se(r&&l&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=lC(e);try{return new Og(i)}catch{return null}}}class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,i){return Yl._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Og.parseLink(i);return Se(r,"argument-error"),Yl._fromEmailAndCode(e,r.code,r.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class pT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class au extends pT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends au{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class nr extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return sa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return nr.credential(i,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";class ir extends au{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends au{constructor(){super("twitter.com")}static credential(e,i){return sa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=e;if(!i||!r)return null;try{return sr.credential(i,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";async function uC(s,e){return ru(s,"POST","/v1/accounts:signUp",ys(s,e))}class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,r,l=!1){const u=await ui._fromIdTokenResponse(e,r,l),d=P0(r);return new ra({user:u,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(e,i,r){await e._updateTokensIfNecessary(r,!0);const l=P0(r);return new ra({user:e,providerId:l,_tokenResponse:r,operationType:i})}}function P0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class vh extends ps{constructor(e,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,i,r,l){return new vh(e,i,r,l)}}function yT(s,e,i,r){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(s,u,e,r):u})}async function cC(s,e,i=!1){const r=await Kl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ra._forOperation(s,"link",r)}async function hC(s,e,i=!1){const{auth:r}=s;if(Kn(r.app))return Promise.reject(cs(r));const l="reauthenticate";try{const u=await Kl(s,yT(r,l,e,s),i);Se(u.idToken,r,"internal-error");const d=Cg(u.idToken);Se(d,r,"internal-error");const{sub:g}=d;return Se(s.uid===g,r,"user-mismatch"),ra._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&hi(r,"user-mismatch"),u}}async function _T(s,e,i=!1){if(Kn(s.app))return Promise.reject(cs(s));const r="signIn",l=await yT(s,r,e),u=await ra._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(u.user),u}async function fC(s,e){return _T(Er(s),e)}async function vT(s){const e=Er(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dC(s,e,i){const r=Er(s);await _h(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",iC)}async function mC(s,e,i){if(Kn(s.app))return Promise.reject(cs(s));const r=Er(s),d=await _h(r,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&vT(s),y}),g=await ra._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(g.user),g}function gC(s,e,i){return Kn(s.app)?Promise.reject(cs(s)):fC(Ft(s),bo.credential(e,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vT(s),r})}async function Vg(s,e){const i=Ft(s),l={requestType:"VERIFY_EMAIL",idToken:await s.getIdToken()},{email:u}=await nC(i.auth,l);u!==s.email&&await s.reload()}function pC(s,e,i,r){return Ft(s).onIdTokenChanged(e,i,r)}function yC(s,e,i){return Ft(s).beforeAuthStateChanged(e,i)}function ET(s,e,i,r){return Ft(s).onAuthStateChanged(e,i,r)}function _C(s){return Ft(s).signOut()}const Eh="__sak";class bT{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vC=1e3,EC=10;class TT extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},u=this.storage.getItem(r);kI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,EC):l()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}TT.type="LOCAL";const bC=TT;class ST extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}ST.type="SESSION";const AT=ST;function TC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new Qh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:r,eventType:l,data:u}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async p=>p(i.origin,u)),y=await TC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];function Mg(s="",e=10){let i="";for(let r=0;r<e;r++)i+=Math.floor(Math.random()*10);return s+i}class SC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((g,y)=>{const p=Mg("",20);l.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(A){const R=A;if(R.data.eventId===p)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(R.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function AC(s){Bi().location.href=s}function wT(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function wC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RC(){return navigator?.serviceWorker?.controller||null}function xC(){return wT()?self:null}const RT="firebaseLocalStorageDb",IC=1,bh="firebaseLocalStorage",xT="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Kh(s,e){return s.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function CC(){const s=indexedDB.deleteDatabase(RT);return new ou(s).toPromise()}function zm(){const s=indexedDB.open(RT,IC);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(bh,{keyPath:xT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(bh)?e(r):(r.close(),await CC(),e(await zm()))})})}async function j0(s,e,i){const r=Kh(s,!0).put({[xT]:e,value:i});return new ou(r).toPromise()}async function NC(s,e){const i=Kh(s,!1).get(e),r=await new ou(i).toPromise();return r===void 0?null:r.value}function L0(s,e){const i=Kh(s,!0).delete(e);return new ou(i).toPromise()}const DC=800,OC=3;class IT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(i++>OC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(xC()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wC(),!this.activeServiceWorker)return;this.sender=new SC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zm();return await j0(e,Eh,"1"),await L0(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>j0(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(r=>NC(r,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>L0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Kh(l,!1).getAll();return new ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IT.type="LOCAL";const VC=IT;new su(3e4,6e4);function MC(s,e){return e?us(e):(Se(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class kg extends Dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ro(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function kC(s){return _T(s.auth,new kg(s),s.bypassAuthState)}function PC(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),hC(i,new kg(s),s.bypassAuthState)}async function jC(s){const{auth:e,user:i}=s;return Se(i,e,"internal-error"),cC(i,new kg(s),s.bypassAuthState)}class CT{constructor(e,i,r,l,u=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:r,postBody:l,tenantId:u,error:d,type:g}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return PC;default:hi(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LC=new su(2e3,1e4);class Wa extends CT{constructor(e,i,r,l,u){super(e,i,l,u),this.provider=r,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LC.get())};e()}}Wa.currentPopupAction=null;const UC="pendingRedirect",eh=new Map;class zC extends CT{constructor(e,i,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const r=await BC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(i){e=()=>Promise.reject(i)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BC(s,e){const i=FC(e),r=HC(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function qC(s,e){eh.set(s._key(),e)}function HC(s){return us(s._redirectPersistence)}function FC(s){return Wc(UC,s.config.apiKey,s.name)}async function GC(s,e,i=!1){if(Kn(s.app))return Promise.reject(cs(s));const r=Er(s),l=MC(r,e),d=await new zC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const QC=600*1e3;class KC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(i=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YC(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!NT(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";i.onError(zi(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const r=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QC&&this.cachedEventUids.clear(),this.cachedEventUids.has(U0(e))}saveEventToCache(e){this.cachedEventUids.add(U0(e)),this.lastProcessedEventTime=Date.now()}}function U0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function NT({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function YC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(s);default:return!1}}async function XC(s,e={}){return _s(s,"GET","/v1/projects",e)}const $C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZC=/^https?/;async function JC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await XC(s);for(const i of e)try{if(WC(i))return}catch{}hi(s,"unauthorized-domain")}function WC(s){const e=Lm(),{protocol:i,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!ZC.test(i))return!1;if($C.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const eN=new su(3e4,6e4);function z0(){const s=Bi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function tN(s){return new Promise((e,i)=>{function r(){z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z0(),i(zi(s,"network-request-failed"))},timeout:eN.get()})}if(Bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Bi().gapi?.load)r();else{const l=FI("iframefcb");return Bi()[l]=()=>{gapi.load?r():i(zi(s,"network-request-failed"))},fT(`${HI()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw th=null,e})}let th=null;function nN(s){return th=th||tN(s),th}const iN=new su(5e3,15e3),sN="__/auth/iframe",rN="emulator/auth/iframe",aN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lN(s){const e=s.config;Se(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Ig(e,rN):`https://${s.config.authDomain}/${sN}`,r={apiKey:e.apiKey,appName:s.name,v:go},l=oN.get(s.config.apiHost);l&&(r.eid=l);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${i}?${Zl(r).slice(1)}`}async function uN(s){const e=await nN(s),i=Bi().gapi;return Se(i,s,"internal-error"),e.open({where:document.body,url:lN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aN,dontclear:!0},r=>new Promise(async(l,u)=>{await r.restyle({setHideOnLeave:!1});const d=zi(s,"network-request-failed"),g=Bi().setTimeout(()=>{u(d)},iN.get());function y(){Bi().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{u(d)})}))}const cN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hN=500,fN=600,dN="_blank",mN="http://localhost";class B0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gN(s,e,i,r=hN,l=fN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={...cN,width:r.toString(),height:l.toString(),top:u,left:d},p=cn().toLowerCase();i&&(g=rT(p)?dN:i),iT(p)&&(e=e||mN,y.scrollbars="yes");const T=Object.entries(y).reduce((R,[j,$])=>`${R}${j}=${$},`,"");if(MI(p)&&g!=="_self")return pN(e||"",g),new B0(null);const A=window.open(e||"",g,T);Se(A,s,"popup-blocked");try{A.focus()}catch{}return new B0(A)}function pN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const yN="__/auth/handler",_N="emulator/auth/handler",vN=encodeURIComponent("fac");async function q0(s,e,i,r,l,u){Se(s.config.authDomain,s,"auth-domain-config-required"),Se(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:go,eventId:l};if(e instanceof pT){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",M1(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))d[T]=A}if(e instanceof au){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const y=await s._getAppCheckToken(),p=y?`#${vN}=${encodeURIComponent(y)}`:"";return`${EN(s)}?${Zl(g).slice(1)}${p}`}function EN({config:s}){return s.emulator?Ig(s,_N):`https://${s.authDomain}/${yN}`}const hm="webStorageSupport";class bN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AT,this._completeRedirectFn=GC,this._overrideRedirectResult=qC}async _openPopup(e,i,r,l){gs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await q0(e,i,r,Lm(),l);return gN(e,u,Mg())}async _openRedirect(e,i,r,l){await this._originValidation(e);const u=await q0(e,i,r,Lm(),l);return AC(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(gs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(e){const i=await uN(e),r=new KC(e);return i.register("authEvent",l=>(Se(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=i,r}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(hm,{type:hm},l=>{const u=l?.[0]?.[hm];u!==void 0&&i(!!u),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=JC(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return cT()||sT()||Ng()}}const TN=bN;var H0="@firebase/auth",F0="1.12.0";class SN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wN(s){ao(new ta("auth",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;Se(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(s)},p=new zI(r,l,u,y);return $I(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,r)=>{e.getProvider("auth-internal").initialize()})),ao(new ta("auth-internal",e=>{const i=Er(e.getProvider("auth").getImmediate());return(r=>new SN(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(H0,F0,AN(s)),lr(H0,F0,"esm2020")}const RN=300,xN=sE("authIdTokenMaxAge")||RN;let G0=null;const IN=s=>async e=>{const i=e&&await e.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>xN)return;const l=i?.token;G0!==l&&(G0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function CN(s=cE()){const e=Gm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=XI(s,{popupRedirectResolver:TN,persistence:[VC,bC,AT]}),r=sE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const d=IN(u.toString());yC(i,d,()=>d(i.currentUser)),pC(i,g=>d(g))}}const l=nE("auth");return l&&ZI(i,`http://${l}`),i}function NN(){return document.getElementsByTagName("head")?.[0]??document}BI({loadJS(s){return new Promise((e,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const u=zi("internal-error");u.customData=l,i(u)},r.type="text/javascript",r.charset="UTF-8",NN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wN("Browser");function DN(){const s=localStorage.getItem("firebase_api_key"),e=localStorage.getItem("firebase_project_id"),i=localStorage.getItem("firebase_app_id"),r=localStorage.getItem("firebase_auth_domain")||void 0,l=localStorage.getItem("firebase_storage_bucket")||void 0,u=localStorage.getItem("firebase_messaging_sender_id")||void 0;return s&&e&&i?{apiKey:s,authDomain:r,projectId:e,storageBucket:l,messagingSenderId:u,appId:i}:null}let fm=null,It=null,Sn=null;const Q0=DN();if(Q0)try{fm=uE(Q0),It=Yx(fm),Sn=CN(fm)}catch(s){console.error("Error initializing Firebase:",s)}const ON=(s,e)=>{if(!Sn)throw new Error("Firebase not initialized");return gC(Sn,s,e)},DT=(s,e)=>{if(!Sn)throw new Error("Firebase not initialized");return mC(Sn,s,e)},VN=(s,e)=>{if(!Sn)throw new Error("Firebase not initialized");return dC(Sn,s)},MN=()=>{if(!Sn)throw new Error("Firebase not initialized");return _C(Sn)};async function Hc(){return Sn?Sn.currentUser?Sn.currentUser:new Promise(s=>{const e=ET(Sn,i=>{e(),s(i)})}):null}function kN(s){const e=(s.apiKey||"").trim(),i=(s.projectId||"").trim(),r=(s.appId||"").trim(),l=(s.authDomain||"").trim(),u=(s.storageBucket||"").trim(),d=(s.messagingSenderId||"").trim();if(!e||!i||!r)throw new Error("API Key, Project ID, and App ID are required.");localStorage.setItem("firebase_api_key",e),localStorage.setItem("firebase_project_id",i),localStorage.setItem("firebase_app_id",r),l&&localStorage.setItem("firebase_auth_domain",l),u&&localStorage.setItem("firebase_storage_bucket",u),d&&localStorage.setItem("firebase_messaging_sender_id",d),window.location.reload()}function PN(){localStorage.removeItem("firebase_api_key"),localStorage.removeItem("firebase_project_id"),localStorage.removeItem("firebase_app_id"),localStorage.removeItem("firebase_auth_domain"),localStorage.removeItem("firebase_storage_bucket"),localStorage.removeItem("firebase_messaging_sender_id"),window.location.reload()}function jN(){return!!It}function Pg({isOpen:s,onClose:e}){const[i,r]=ae.useState(""),[l,u]=ae.useState(""),[d,g]=ae.useState(""),[y,p]=ae.useState(""),[T,A]=ae.useState(""),[R,j]=ae.useState(""),[$,te]=ae.useState(!1);if(ae.useEffect(()=>{s&&(r(localStorage.getItem("firebase_api_key")||""),u(localStorage.getItem("firebase_project_id")||""),g(localStorage.getItem("firebase_app_id")||""),p(localStorage.getItem("firebase_auth_domain")||""),A(localStorage.getItem("firebase_storage_bucket")||""),j(localStorage.getItem("firebase_messaging_sender_id")||""),te(jN()))},[s]),!s)return null;const K=G=>{G.preventDefault();try{kN({apiKey:i,projectId:l,appId:d,authDomain:y,storageBucket:T,messagingSenderId:R})}catch(Y){alert(Y.message)}},ue=()=>{confirm("Are you sure you want to disconnect Firebase and return to Demo Mode?")&&PN()};return E.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:E.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[E.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:E.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:e})}),E.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),E.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[E.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:E.jsxs("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:e,children:[E.jsx("span",{className:"sr-only",children:"Close"}),E.jsx(Xl,{className:"h-6 w-6"})]})}),E.jsxs("div",{className:"sm:flex sm:items-start",children:[E.jsx("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10",children:E.jsx(Y0,{className:"h-6 w-6 text-blue-600"})}),E.jsxs("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[E.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Database Settings"}),E.jsxs("form",{onSubmit:K,className:"space-y-4",children:[E.jsx("p",{className:"text-sm text-gray-500",children:"Enter your Firebase Project configuration."}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"API Key *"}),E.jsx("input",{type:"text",required:!0,value:i,onChange:G=>r(G.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Project ID *"}),E.jsx("input",{type:"text",required:!0,value:l,onChange:G=>u(G.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"App ID *"}),E.jsx("input",{type:"text",required:!0,value:d,onChange:G=>g(G.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("details",{className:"text-xs text-gray-500",children:[E.jsx("summary",{className:"cursor-pointer mb-2",children:"Advanced (Optional)"}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Auth Domain"}),E.jsx("input",{type:"text",value:y,onChange:G=>p(G.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Storage Bucket"}),E.jsx("input",{type:"text",value:T,onChange:G=>A(G.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-medium text-gray-700",children:"Messaging Sender ID"}),E.jsx("input",{type:"text",value:R,onChange:G=>j(G.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-1 px-2 sm:text-sm"})]})]})]}),E.jsxs("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse gap-2",children:[E.jsxs("button",{type:"submit",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:[E.jsx(FA,{className:"mr-2 h-4 w-4"})," Save"]}),$&&E.jsxs("button",{type:"button",onClick:ue,className:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 sm:w-auto sm:text-sm",children:[E.jsx(qA,{className:"mr-2 h-4 w-4"})," Reset"]})]})]})]})]})]})]})})}function LN({isOpen:s,onClose:e,contacts:i,pageSize:r,orientation:l,onPrint:u}){return s?E.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:E.jsxs("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[E.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:E.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:e})}),E.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),E.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full",children:[E.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 border-b border-gray-200",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Print Preview"}),E.jsxs("button",{onClick:e,className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[E.jsx("span",{className:"sr-only",children:"Close"}),E.jsx(Xl,{className:"h-6 w-6"})]})]}),E.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Settings: ",r," - ",l]})]}),E.jsx("div",{className:"bg-gray-50 p-6 h-[60vh] overflow-y-auto",children:E.jsx("div",{className:"mx-auto bg-white shadow-lg origin-top transform scale-75 sm:scale-100 transition-transform",children:E.jsx(qm,{contacts:i,pageSize:r,orientation:l})})}),E.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse border-t border-gray-200",children:[E.jsxs("button",{type:"button",onClick:u,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm",children:[E.jsx(X0,{className:"mr-2 h-4 w-4"}),"Print"]}),E.jsx("button",{type:"button",onClick:e,className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:"Close"})]})]})]})}):null}function UN({isOpen:s,onClose:e}){const[i,r]=ae.useState(""),[l,u]=ae.useState("user"),[d,g]=ae.useState(!1),[y,p]=ae.useState(""),[T,A]=ae.useState(""),[R,j]=ae.useState({admins:0,users:0}),[$,te]=ae.useState([]);ae.useEffect(()=>{s&&(K(),ue())},[s]);const K=async()=>{if(It)try{const Y=Jr(It,"users"),le=Js(Y,Ws("role","==","admin")),ve=Js(Y,Ws("role","==","user")),[pe,x]=await Promise.all([um(le),um(ve)]);j({admins:pe.data().count,users:x.data().count})}catch(Y){console.error("Error fetching stats:",Y)}},ue=async()=>{if(It)try{const Y=Jr(It,"invites"),le=Js(Y),pe=(await no(le)).docs.map(x=>({id:x.id,...x.data()}));te(pe)}catch(Y){console.error("Error fetching invites:",Y)}},G=async Y=>{if(Y.preventDefault(),!It){p("User management is not available in Demo Mode.");return}p(""),A(""),g(!0);try{const le=Jr(It,"invites"),ve=Jr(It,"users"),pe=Js(le,Ws("role","==",l),Ws("status","==","pending")),w=(await um(pe)).data().count;if(l==="admin"){if(R.admins+w>=3)throw new Error("Maximum limit of 3 Admins reached (including pending invites).")}else if(R.users+w>=5)throw new Error("Maximum limit of 5 Users reached (including pending invites).");const I=Js(le,Ws("email","==",i));if(!(await no(I)).empty)throw new Error("This email has already been invited.");const D=Js(ve,Ws("email","==",i));if(!(await no(D)).empty)throw new Error("User with this email already exists.");await Yb(le,{email:i,role:l,status:"pending",createdAt:new Date().toISOString()}),A(`Invitation sent to ${i}`),r(""),ue()}catch(le){p(le.message)}finally{g(!1)}};return s?E.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:E.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[E.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:E.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75",onClick:e})}),E.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:""}),E.jsx("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg w-full",children:E.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[E.jsxs("div",{className:"flex justify-between items-center mb-5",children:[E.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"User Management"}),E.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:E.jsx(Xl,{className:"h-6 w-6"})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[E.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg text-center",children:[E.jsx("span",{className:"block text-xs text-blue-600 font-semibold uppercase",children:"Admins"}),E.jsxs("span",{className:"block text-2xl font-bold text-blue-900",children:[R.admins," / 3"]})]}),E.jsxs("div",{className:"bg-green-50 p-3 rounded-lg text-center",children:[E.jsx("span",{className:"block text-xs text-green-600 font-semibold uppercase",children:"Users"}),E.jsxs("span",{className:"block text-2xl font-bold text-green-900",children:[R.users," / 5"]})]})]}),E.jsxs("div",{className:"mb-6 border-b border-gray-200 pb-6",children:[E.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-4",children:"Invite New User"}),E.jsxs("form",{onSubmit:G,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Ll,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"email",required:!0,value:i,onChange:Y=>r(Y.target.value),className:"block w-full pl-10 border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 sm:text-sm p-2 border",placeholder:"colleague@example.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),E.jsxs("select",{value:l,onChange:Y=>u(Y.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md border",children:[E.jsx("option",{value:"user",children:"User (View & Add)"}),E.jsx("option",{value:"admin",children:"Admin (Full Access)"})]})]}),y&&E.jsx("p",{className:"text-sm text-red-600",children:y}),T&&E.jsx("p",{className:"text-sm text-green-600",children:T}),E.jsx("button",{type:"submit",disabled:d,className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm disabled:opacity-50",children:d?"Sending Invite...":"Send Invite"})]})]}),E.jsxs("div",{children:[E.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Recent Invites"}),E.jsx("div",{className:"bg-gray-50 rounded-md overflow-hidden max-h-40 overflow-y-auto",children:$.length===0?E.jsx("p",{className:"text-sm text-gray-500 p-4 text-center",children:"No invites sent yet."}):E.jsx("ul",{className:"divide-y divide-gray-200",children:$.map(Y=>E.jsx("li",{className:"px-4 py-3 flex items-center justify-between",children:E.jsxs("div",{className:"flex items-center",children:[Y.role==="admin"?E.jsx(XA,{className:"h-4 w-4 text-blue-500 mr-2"}):E.jsx($0,{className:"h-4 w-4 text-green-500 mr-2"}),E.jsxs("div",{children:[E.jsx("p",{className:"text-sm font-medium text-gray-900",children:Y.email}),E.jsx("p",{className:"text-xs text-gray-500 capitalize",children:Y.status})]})]})},Y.id))})})]})]})})]})}):null}function zN({onBackToLogin:s}){const[e,i]=ae.useState(""),[r,l]=ae.useState(""),[u,d]=ae.useState(""),[g,y]=ae.useState(!1),[p,T]=ae.useState(""),[A,R]=ae.useState(""),[j,$]=ae.useState(!1),te=async K=>{if(K.preventDefault(),T(""),$(!0),r!==u){T("Passwords do not match"),$(!1);return}try{const G=(await DT(e,r)).user,Y=Jr(It,"invites"),le=Js(Y,Ws("email","==",e),Ws("status","==","pending")),ve=await no(le);if(ve.empty)throw await G.delete(),new Error("This email has not been invited. Please ask an administrator for an invitation.");const pe=ve.docs[0],x=pe.data();await Vg(G),await jm(ms(It,"users",G.uid),{email:G.email,role:x.role,createdAt:new Date().toISOString()}),await Kb(ms(It,"invites",pe.id),{status:"accepted",acceptedAt:new Date().toISOString(),userId:G.uid}),R("Account created successfully! Please check your email for verification before logging in.")}catch(ue){console.error(ue),ue.code==="auth/email-already-in-use"?T("An account with this email already exists."):ue.code==="auth/api-key-not-valid"?T("Invalid API Key. Please check your Database Settings."):T(ue.message||"Failed to create account")}finally{$(!1)}};return A?E.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:E.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:E.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[E.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:E.jsx(Ll,{className:"h-6 w-6 text-green-600"})}),E.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Registration Successful"}),E.jsx("div",{className:"mt-2 px-7 py-3",children:E.jsx("p",{className:"text-sm text-gray-500",children:A})}),E.jsx("div",{className:"mt-5 sm:mt-6",children:E.jsx("button",{type:"button",onClick:s,className:"inline-flex justify-center w-full rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:text-sm",children:"Back to Sign In"})})]})})}):E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[E.jsx("div",{className:"absolute top-4 right-4",children:E.jsx("button",{onClick:()=>y(!0),className:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none",title:"Database Settings",children:E.jsx(Bm,{className:"h-6 w-6"})})}),E.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("img",{src:Sh,alt:"Logo",className:"w-20 h-20 rounded-xl object-contain"})}),E.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create Account"}),E.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Enter your invited email address to sign up."})]}),E.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:E.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[E.jsxs("form",{className:"space-y-6",onSubmit:te,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Ll,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:K=>i(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"you@example.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:K=>l(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:u,onChange:K=>d(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),p&&E.jsx("div",{className:"rounded-md bg-red-50 p-4",children:E.jsx("div",{className:"flex",children:E.jsx("div",{className:"ml-3",children:E.jsx("h3",{className:"text-sm font-medium text-red-800",children:p})})})}),E.jsx("div",{children:E.jsx("button",{type:"submit",disabled:j,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:j?"Registering...":"Register"})})]}),E.jsxs("div",{className:"mt-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-sm",children:E.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Already have an account?"})})]}),E.jsx("div",{className:"mt-6",children:E.jsx("button",{onClick:s,className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign in"})})]})]})}),E.jsx(Pg,{isOpen:g,onClose:()=>y(!1)})]})}function BN(){const[s,e]=ae.useState(!1),[i,r]=ae.useState(!1),[l,u]=ae.useState(""),[d,g]=ae.useState(""),[y,p]=ae.useState(""),[T,A]=ae.useState(""),[R,j]=ae.useState(!1),$=async K=>{K.preventDefault(),p(""),A(""),j(!0);try{await ON(l,d)}catch(ue){ue.code==="auth/invalid-credential"?p("Invalid email or password."):ue.code==="auth/too-many-requests"?p("Too many failed attempts. Please try again later."):ue.code==="auth/api-key-not-valid"?p("Invalid API Key. Please check your Database Settings."):p("Failed to sign in. Please check your connection.")}finally{j(!1)}},te=async()=>{if(!l){p("Please enter your email address to reset password.");return}p(""),A("");try{await VN(l),A("Password reset email sent! Check your inbox.")}catch(K){p(K.message)}};return s?E.jsx(zN,{onBackToLogin:()=>e(!1)}):E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[E.jsx("div",{className:"absolute top-4 right-4",children:E.jsx("button",{onClick:()=>r(!0),className:"p-2 text-gray-400 hover:text-gray-500 focus:outline-none",title:"Database Settings",children:E.jsx(Bm,{className:"h-6 w-6"})})}),E.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("img",{src:Sh,alt:"Logo",className:"w-20 h-20 rounded-xl object-contain"})}),E.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to Address Label Printer"})]}),E.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:E.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[E.jsxs("form",{className:"space-y-6",onSubmit:$,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Ll,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:l,onChange:K=>u(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"you@example.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:d,onChange:K=>g(K.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),E.jsx("div",{className:"flex items-center justify-between",children:E.jsx("div",{className:"text-sm",children:E.jsx("button",{type:"button",onClick:te,className:"font-medium text-blue-600 hover:text-blue-500 focus:outline-none",children:"Forgot your password?"})})}),y&&E.jsx("div",{className:"rounded-md bg-red-50 p-4",children:E.jsx("div",{className:"flex",children:E.jsx("div",{className:"ml-3",children:E.jsx("h3",{className:"text-sm font-medium text-red-800",children:y})})})}),T&&E.jsx("div",{className:"rounded-md bg-green-50 p-4",children:E.jsx("div",{className:"flex",children:E.jsx("div",{className:"ml-3",children:E.jsx("h3",{className:"text-sm font-medium text-green-800",children:T})})})}),E.jsx("div",{children:E.jsx("button",{type:"submit",disabled:R,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:R?"Signing in...":"Sign in"})})]}),E.jsxs("div",{className:"mt-6",children:[E.jsxs("div",{className:"relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center",children:E.jsx("div",{className:"w-full border-t border-gray-300"})}),E.jsx("div",{className:"relative flex justify-center text-sm",children:E.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Received an invitation?"})})]}),E.jsx("div",{className:"mt-6",children:E.jsx("button",{onClick:()=>e(!0),className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Account"})})]})]})}),E.jsx(Pg,{isOpen:i,onClose:()=>r(!1)})]})}function qN({onSetupComplete:s}){const[e,i]=ae.useState(""),[r,l]=ae.useState(""),[u,d]=ae.useState(""),[g,y]=ae.useState(""),[p,T]=ae.useState(!1),A=async R=>{if(R.preventDefault(),y(""),T(!0),r!==u){y("Passwords do not match"),T(!1);return}try{const $=(await DT(e,r)).user;await Vg($),await jm(ms(It,"users",$.uid),{email:$.email,role:"admin",createdAt:new Date().toISOString()}),await jm(ms(It,"system","setup"),{completed:!0,setupAt:new Date().toISOString(),adminEmail:$.email}),s()}catch(j){console.error(j),y(j.message||"Failed to create admin account")}finally{T(!1)}};return E.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[E.jsx("div",{className:"flex justify-center",children:E.jsx("img",{src:Sh,alt:"Logo",className:"w-20 h-20 rounded-xl object-contain"})}),E.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"First Time Setup"}),E.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Create the first Administrator account to get started."})]}),E.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:E.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:E.jsxs("form",{className:"space-y-6",onSubmit:A,children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(Ll,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:R=>i(R.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"admin@example.com"})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:R=>l(R.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),E.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(jl,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:u,onChange:R=>d(R.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:""})]})]}),g&&E.jsx("div",{className:"rounded-md bg-red-50 p-4",children:E.jsx("div",{className:"flex",children:E.jsx("div",{className:"ml-3",children:E.jsx("h3",{className:"text-sm font-medium text-red-800",children:g})})})}),E.jsx("div",{children:E.jsx("button",{type:"submit",disabled:p,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors disabled:opacity-50",children:p?"Creating...":"Create Admin Account"})})]})})})]})}function HN(s){const[e,i]=ae.useState([]),[r,l]=ae.useState(!0),[u,d]=ae.useState(null),g=!It;ae.useEffect(()=>{r||Gc.save("demo_contacts",e)},[e,r]),ae.useEffect(()=>{async function A(){l(!0);try{const R=await Gc.load("demo_contacts");if(R&&Array.isArray(R)&&i(R),!g){if(!await Hc()){i([]),l(!1);return}const $=Jr(It,"contacts");try{let te=[];try{const K=Js($,oI("created_at","desc"));te=(await no(K)).docs.map(G=>({id:G.id,...G.data()}))}catch(K){console.warn("Index missing or error, fetching without sort:",K),te=(await no($)).docs.map(G=>{const Y=G.data();return{id:G.id,...Y,_sortTime:new Date(Y.created_at).getTime()}}).sort((G,Y)=>Y._sortTime-G._sortTime).map(({_sortTime:G,...Y})=>Y)}i(te),await Gc.save("demo_contacts",te)}catch(te){console.error("Firestore fetch failed, using local cache:",te)}}}catch(R){console.error("Error fetching contacts:",R),d(R.message)}finally{l(!1)}}A()},[g,s]);const y=ae.useCallback(async A=>{try{const R={...A,created_at:new Date().toISOString()};if(g){const j={id:crypto.randomUUID(),...R};return i($=>[j,...$]),j}else{await Hc();const $={id:(await Yb(Jr(It,"contacts"),R)).id,...R};return i(te=>[$,...te]),$}}catch(R){throw d(R.message),R}},[g]),p=ae.useCallback(async A=>{try{g?i(R=>R.filter(j=>j.id!==A)):(await Hc(),await hI(ms(It,"contacts",A)),i(R=>R.filter(j=>j.id!==A)))}catch(R){throw d(R.message),R}},[g]),T=ae.useCallback(async(A,R)=>{try{if(g)i(j=>j.map($=>$.id===A?{...$,...R}:$));else{await Hc();const j=ms(It,"contacts",A);await Kb(j,R),i($=>$.map(te=>te.id===A?{...te,...R}:te))}}catch(j){throw d(j.message),j}},[g]);return{contacts:e,loading:r,error:u,addContact:y,deleteContact:p,updateContact:T,isDemo:g}}const FN=["A3","A4","A5","Letter","Legal"],GN=["portrait","landscape"];function QN(){const[s,e]=ae.useState(!1),[i,r]=ae.useState(!1),[l,u]=ae.useState(!1),[d,g]=ae.useState(!1),[y,p]=ae.useState(null),[T,A]=ae.useState(""),[R,j]=ae.useState(null),{contacts:$,loading:te,isDemo:K,addContact:ue,updateContact:G,deleteContact:Y}=HN(R?.uid),[le,ve]=ae.useState(!0),[pe,x]=ae.useState(!1),[w,I]=ae.useState(new Set),[V,D]=ae.useState("A5"),[k,C]=ae.useState("landscape");ae.useEffect(()=>{if(K){ve(!1);return}(async()=>{try{const Ze=ms(It,"system","setup"),pt=await R0(Ze);x(!pt.exists())}catch(Ze){console.error("Error checking setup:",Ze),x(!1)}})();const ke=ET(Sn,async Ze=>{if(Ze){const pt=await R0(ms(It,"users",Ze.uid));pt.exists()?j({...Ze,role:pt.data().role}):j({...Ze,role:"admin"})}else j(null);ve(!1)});return()=>ke()},[K]);const Ce=ae.useMemo(()=>$.filter(de=>de.name.toLowerCase().includes(T.toLowerCase())||de.phone?.includes(T)),[$,T]),$e=ae.useCallback((de,ke)=>{I(Ze=>{const pt=new Set(Ze);return ke?pt.add(de):pt.delete(de),pt})},[]),F=ae.useCallback(()=>{I(de=>de.size===Ce.length?new Set:new Set(Ce.map(ke=>ke.id)))},[Ce]),re=ae.useCallback(()=>{I(new Set)},[]),me=ae.useMemo(()=>$.filter(de=>w.has(de.id)),[$,w]),Oe=async()=>{K||await MN(),j(null)},Ve=ae.useCallback(()=>{p(null),e(!0)},[]),O=ae.useCallback(de=>{p(de),e(!0)},[]),X=ae.useCallback(async de=>{y?await G(y.id,de):await ue(de)},[y,G,ue]),ie=ae.useRef(),ne=i1.useReactToPrint({contentRef:ie,documentTitle:"Contact-Labels",onAfterPrint:ae.useCallback(()=>g(!1),[])});if(te||le)return E.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-50",children:E.jsx(dm,{className:"animate-spin text-blue-600",size:32})});if(pe&&!K&&!R)return E.jsx(qN,{onSetupComplete:()=>x(!1)});if(!R&&!K)return E.jsx(BN,{});if(R&&!R.emailVerified&&!K)return E.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center items-center p-4",children:E.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full text-center",children:[E.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email Verification Required"}),E.jsxs("p",{className:"text-gray-600 mb-6",children:["Please check your email (",R.email,") and click the verification link to access the application."]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition-colors",children:"I have verified my email"}),E.jsx("button",{onClick:async()=>{try{await Vg(R),alert("Verification email sent!")}catch(de){alert(de.message)}},className:"w-full bg-white border border-gray-300 text-gray-700 py-2 px-4 rounded hover:bg-gray-50 transition-colors",children:"Resend Verification Email"}),E.jsx("button",{onClick:Oe,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Sign Out"})]})]})});const ce=K?{role:"admin"}:R,Ee=ce.role==="admin",we=ce.role==="admin";return E.jsxs(r1,{isDemo:K,onLogout:K?void 0:Oe,onSetupClick:()=>r(!0),onUserManagementClick:K?void 0:()=>u(!0),isAdmin:Ee,children:[E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-center mb-8",children:[E.jsxs("div",{className:"relative w-full sm:w-96",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:E.jsx(QA,{className:"h-5 w-5 text-gray-400"})}),E.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500 sm:text-sm transition-shadow shadow-sm",placeholder:"Search contacts...",value:T,onChange:de=>A(de.target.value)})]}),E.jsxs("div",{className:"flex flex-wrap gap-3 w-full sm:w-auto justify-end",children:[w.size>0&&E.jsxs(E.Fragment,{children:[E.jsx("select",{value:V,onChange:de=>D(de.target.value),className:"block w-full sm:w-auto pl-3 pr-8 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-lg shadow-sm",children:FN.map(de=>E.jsx("option",{value:de,children:de},de))}),E.jsx("select",{value:k,onChange:de=>C(de.target.value),className:"block w-full sm:w-auto pl-3 pr-8 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-lg shadow-sm capitalize",children:GN.map(de=>E.jsx("option",{value:de,children:de.charAt(0).toUpperCase()+de.slice(1)},de))}),E.jsx("button",{onClick:re,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",title:"Clear Selection",children:E.jsx(Xl,{className:"h-5 w-5"})}),E.jsxs("button",{onClick:()=>g(!0),className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",children:[E.jsx(xA,{className:"mr-2 h-5 w-5"}),"Preview"]}),E.jsxs("button",{onClick:ne,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",children:[E.jsx(X0,{className:"mr-2 h-5 w-5"}),"Print (",w.size,")"]})]}),E.jsx("button",{onClick:()=>r(!0),className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-gray-300 text-sm font-medium rounded-lg shadow-sm text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all",children:E.jsx(Bm,{className:"h-5 w-5"})}),E.jsxs("button",{onClick:Ve,className:"flex-1 sm:flex-none inline-flex items-center justify-center px-4 py-2.5 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all hover:scale-[1.02]",children:[E.jsx(mv,{className:"mr-2 h-5 w-5"}),"New Contact"]})]})]}),E.jsx("div",{className:"flex justify-end mb-4",children:E.jsx("button",{onClick:F,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:w.size===Ce.length?"Deselect All":"Select All"})}),te?E.jsx("div",{className:"flex justify-center items-center h-64",children:E.jsx(dm,{className:"animate-spin text-blue-600",size:32})}):Ce.length>0?E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Ce.map(de=>E.jsx(a1,{contact:de,onEdit:O,onDelete:Y,canEdit:Ee,canDelete:we,onSelect:$e,isSelected:w.has(de.id)},de.id))}):E.jsxs("div",{className:"text-center py-20 bg-white rounded-2xl border border-dashed border-gray-300",children:[E.jsx("div",{className:"mx-auto h-12 w-12 text-gray-300",children:E.jsx(Z0,{size:48,strokeWidth:1})}),E.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No contacts found"}),E.jsx("p",{className:"mt-1 text-sm text-gray-500",children:T?"Try adjusting your search terms.":"Get started by creating a new contact."}),!T&&E.jsx("div",{className:"mt-6",children:E.jsxs("button",{onClick:Ve,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[E.jsx(mv,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Add Contact"]})})]}),E.jsx(l1,{isOpen:s,onClose:()=>e(!1),onSubmit:X,initialData:y}),E.jsx(Pg,{isOpen:i,onClose:()=>r(!1)}),E.jsx(UN,{isOpen:l,onClose:()=>u(!1)}),E.jsx(LN,{isOpen:d,onClose:()=>g(!1),contacts:me,pageSize:V,orientation:k,onPrint:ne}),E.jsx("div",{style:{display:"none"},children:E.jsx(qm,{ref:ie,contacts:me,pageSize:V,orientation:k})})]})}vA.createRoot(document.getElementById("root")).render(E.jsx(ae.StrictMode,{children:E.jsx(QN,{})}));
